(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.i)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.g)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.h)(Object(r.h)([],Object(r.g)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.g)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=Object(r.i)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.g)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=Object(r.i)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.10.1";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return ju}),n.d(e,"c",function(){return xu}),n.d(e,"d",function(){return Tu}),n.d(e,"e",function(){return Iu}),n.d(e,"f",function(){return Tc}),n.d(e,"g",function(){return gc}),n.d(e,"h",function(){return Ta}),n.d(e,"i",function(){return Wu}),n.d(e,"j",function(){return Yo}),n.d(e,"k",function(){return Fu}),n.d(e,"l",function(){return ta}),n.d(e,"m",function(){return br}),n.d(e,"n",function(){return uu}),n.d(e,"o",function(){return ss}),n.d(e,"p",function(){return Tn}),n.d(e,"q",function(){return R}),n.d(e,"r",function(){return sn}),n.d(e,"s",function(){return ws}),n.d(e,"t",function(){return ba}),n.d(e,"u",function(){return wa}),n.d(e,"v",function(){return Pu}),n.d(e,"w",function(){return Ma}),n.d(e,"x",function(){return vc}),n.d(e,"y",function(){return Fa}),n.d(e,"z",function(){return hc}),n.d(e,"A",function(){return Ku}),n.d(e,"B",function(){return In}),n.d(e,"C",function(){return Nu}),n.d(e,"D",function(){return Ru}),n.d(e,"E",function(){return ra}),n.d(e,"F",function(){return na}),n.d(e,"G",function(){return Er}),n.d(e,"H",function(){return sa}),n.d(e,"I",function(){return pr}),n.d(e,"J",function(){return xn}),n.d(e,"K",function(){return wc}),n.d(e,"L",function(){return Na}),n.d(e,"M",function(){return tc}),n.d(e,"N",function(){return an}),n.d(e,"O",function(){return aa}),n.d(e,"P",function(){return oa}),n.d(e,"Q",function(){return Va}),n.d(e,"R",function(){return M}),n.d(e,"S",function(){return dc}),n.d(e,"T",function(){return cc}),n.d(e,"U",function(){return m}),n.d(e,"V",function(){return uc}),n.d(e,"W",function(){return Cc}),n.d(e,"X",function(){return rc}),n.d(e,"Y",function(){return Du}),n.d(e,"Z",function(){return as}),n.d(e,"ab",function(){return Fo}),n.d(e,"bb",function(){return v}),n.d(e,"cb",function(){return dr}),n.d(e,"db",function(){return Qn}),n.d(e,"eb",function(){return Ln}),n.d(e,"fb",function(){return Un}),n.d(e,"gb",function(){return Wn}),n.d(e,"hb",function(){return Bn}),n.d(e,"ib",function(){return qn}),n.d(e,"jb",function(){return Hn}),n.d(e,"kb",function(){return No}),n.d(e,"lb",function(){return Ec}),n.d(e,"mb",function(){return jo}),n.d(e,"nb",function(){return Do}),n.d(e,"ob",function(){return Vn}),n.d(e,"pb",function(){return B}),n.d(e,"qb",function(){return Rs}),n.d(e,"rb",function(){return Ys}),n.d(e,"sb",function(){return Gs}),n.d(e,"tb",function(){return Qs}),n.d(e,"ub",function(){return Ro}),n.d(e,"vb",function(){return It}),n.d(e,"wb",function(){return d}),n.d(e,"xb",function(){return Mn}),n.d(e,"yb",function(){return Es}),n.d(e,"zb",function(){return wt}),n.d(e,"Ab",function(){return Ko}),n.d(e,"Bb",function(){return li}),n.d(e,"Cb",function(){return Ps}),n.d(e,"Db",function(){return fo}),n.d(e,"Eb",function(){return ho}),n.d(e,"Fb",function(){return wu}),n.d(e,"Gb",function(){return tt}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return S}),n.d(e,"Jb",function(){return E}),n.d(e,"Kb",function(){return it}),n.d(e,"Lb",function(){return ut}),n.d(e,"Mb",function(){return Ls}),n.d(e,"Nb",function(){return Hs}),n.d(e,"Ob",function(){return $s}),n.d(e,"Pb",function(){return zs}),n.d(e,"Qb",function(){return Ws}),n.d(e,"Rb",function(){return Bs}),n.d(e,"Sb",function(){return qs}),n.d(e,"Tb",function(){return Ks}),n.d(e,"Ub",function(){return Xe}),n.d(e,"Vb",function(){return Io}),n.d(e,"Wb",function(){return En}),n.d(e,"Xb",function(){return en}),n.d(e,"Yb",function(){return Ou}),n.d(e,"Zb",function(){return Zs}),n.d(e,"ac",function(){return Su}),n.d(e,"bc",function(){return to}),n.d(e,"cc",function(){return su}),n.d(e,"dc",function(){return ou}),n.d(e,"ec",function(){return ro}),n.d(e,"fc",function(){return no}),n.d(e,"gc",function(){return Vs}),n.d(e,"hc",function(){return tu}),n.d(e,"ic",function(){return eu}),n.d(e,"jc",function(){return nu}),n.d(e,"kc",function(){return _u}),n.d(e,"lc",function(){return Ms}),n.d(e,"mc",function(){return $t}),n.d(e,"nc",function(){return mr}),n.d(e,"oc",function(){return st}),n.d(e,"pc",function(){return lo}),n.d(e,"qc",function(){return Fs}),n.d(e,"rc",function(){return Cu}),n.d(e,"sc",function(){return Co}),n.d(e,"tc",function(){return Oo}),n.d(e,"uc",function(){return To});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function m(t){return t.__forward_ref__=m,t.toString=function(){return d(this())},t}function g(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===m}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function w(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${_(t)} found${n}`)}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return O(t,I)||O(t,A)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(k))?t[x]:null}const I=l({"\u0275prov":l}),x=l({"\u0275inj":l}),A=l({ngInjectableDef:l}),k=l({ngInjectorDef:l});var R=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function j(t){const e=N;return N=t,e}function D(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&R.Optional?null:void 0!==e?e:void w(d(t),"Injector")}function P(t){return{toString:t}.toString()}var F=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=L||q||V||U,H={},W=[],z=[],$=l({"\u0275cmp":l}),K=l({"\u0275dir":l}),G=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Z=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});let X=0;function tt(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=X++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[K]||null}(t)}function nt(t){return function(t){return t[G]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{rt[t.id]=t.type}),e}function st(t,e){return P(()=>{const n=lt(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function ot(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[$]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}const ht=20,dt=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function mt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),Et}function Et(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,r){const i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new _t(u&&u.currentValue,e,o===H),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}let Tt;function It(t){Tt=t}function xt(t){return!!t.listen}wt.ngInherit=!0;const At={createRenderer:(t,e)=>void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return kt(e[t])}function Nt(t,e){return kt(e[t.index])}function jt(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Pt(t,e){const n=e[t];return ft(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Bt.bindingsEnabled}function Wt(){return Bt.lFrame.lView}function zt(){return Bt.lFrame.tView}function $t(t){Bt.lFrame.contextLView=t}function Kt(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return Bt.lFrame.currentTNode}function Qt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Bt.lFrame.isParent}function Zt(){Bt.lFrame.isParent=!1}function Jt(){return Bt.isInCheckNoChangesMode}function Xt(t){Bt.isInCheckNoChangesMode=t}function te(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return Bt.lFrame.bindingIndex++}function ne(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function re(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ie(e)}function ie(t){Bt.lFrame.currentDirectiveIndex=t}function se(){return Bt.lFrame.currentQueryIndex}function oe(t){Bt.lFrame.currentQueryIndex=t}function ae(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&R.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&R.Host||(r=ae(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=le();return r.currentTNode=e,r.lView=t,!0}function ce(t){const e=le(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function de(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fe=de;function pe(){const t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function me(){return Bt.lFrame.selectedIndex}function ge(t){Bt.lFrame.selectedIndex=t}function ye(){const t=Bt.lFrame;return jt(t.tView,t.selectedIndex)}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function be(t,e,n){Se(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ee(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ee(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ce=-1;class Oe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];xe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Re(t){return t!==Ce}function Ne(t){return 32767&t}function je(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let De=!0;function Pe(t){const e=De;return De=t,e}let Fe=0;function Me(t,e){const n=Ve(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Ue(t,e),s=t.injectorIndex;if(Re(i)){const t=Ne(i),n=je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ve(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ue(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Fe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Be(t,e,n){if(n&R.Optional)return t;w(e,"NodeInjector")}function He(t,e,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=t[9],s=j(void 0);try{return i?i.get(e,r,n&R.Optional):D(e,r,n&R.Optional)}finally{j(s)}}return Be(r,e,n)}function We(t,e,n,r=R.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof s){if(!ue(e,t,r))return r&R.Host?Be(i,n,r):He(e,n,r,i);try{const t=s();if(null!=t||r&R.Optional)return t;w(n)}finally{fe()}}else if("number"==typeof s){let i=null,o=Ve(t,e),a=Ce,u=r&R.Host?e[16][6]:null;for((-1===o||r&R.SkipSelf)&&(a=-1===o?Ue(t,e):e[o+8],a!==Ce&&Ze(r,!1)?(i=e[1],o=Ne(a),e=je(a,e)):o=-1);-1!==o;){const t=e[1];if(Ye(s,o,t.data)){const t=Ke(o,e,n,i,r,u);if(t!==ze)return t}a=e[o+8],a!==Ce&&Ze(r,e[1].data[o+8]===u)&&Ye(s,o,e)?(i=t,o=Ne(a),e=je(a,e)):o=-1}}}return He(e,n,r,i)}const ze={};function $e(){return new Je(Kt(),Wt())}function Ke(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Ge(a,o,n,null==r?gt(a)&&De:r!=o&&0!=(3&a.type),i&R.Host&&s===a);return null!==u?Qe(e,o,u,a):ze}function Ge(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&vt(t)&&t.type===n)return u}return null}function Qe(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Oe){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=Pe(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?j(o.injectImpl):null;ue(t,r,R.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&j(u),Pe(a),o.resolving=!1,fe()}}return i}function Ye(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ze(t,e){return!(t&R.Self||t&R.Host&&e)}class Je{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return We(this._tNode,this._lView,t,void 0,e)}}function Xe(t){return P(()=>{const e=t.prototype.constructor,n=e[Z]||tn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||tn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function tn(t){return y(t)?()=>{const e=tn(g(t));return e&&e()}:bt(t)}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const nn="__parameters__";function rn(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const on=new sn("AnalyzeForEntryComponents"),an=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),un(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function fn(t,e,n){let r=mn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pn(t,e){const n=mn(t,e);if(n>=0)return t[1|n]}function mn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn={},yn=/\n/gm,vn="__source",bn=l({provide:String,useValue:l});let _n;function wn(t){const e=_n;return _n=t,e}function Sn(t,e=R.Default){if(void 0===_n)throw new Error("inject() must be called from an injection context");return null===_n?D(t,void 0,e):_n.get(t,e&R.Optional?null:void 0,e)}function En(t,e=R.Default){return(N||Sn)(g(t),e)}function Cn(t){const e=[];for(let n=0;n<t.length;n++){const r=g(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=R.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(En(t,n))}else e.push(En(r))}return e}function On(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Tn=On(rn("Inject",t=>({token:t})),-1),In=On(rn("Optional"),8),xn=On(rn("SkipSelf"),4);let An;function kn(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,B.trustedTypes))try{An=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nn extends Rn{getTypeName(){return"HTML"}}class jn extends Rn{getTypeName(){return"Style"}}class Dn extends Rn{getTypeName(){return"Script"}}class Pn extends Rn{getTypeName(){return"URL"}}class Fn extends Rn{getTypeName(){return"ResourceURL"}}function Mn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof Rn&&t.getTypeName()||null}function Un(t){return new Nn(t)}function qn(t){return new jn(t)}function Bn(t){return new Dn(t)}function Hn(t){return new Pn(t)}function Wn(t){return new Fn(t)}class zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(kn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class $n{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=kn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=kn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Kn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(t){return(t=String(t)).match(Kn)||t.match(Gn)?t:"unsafe:"+t}function Yn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jn=Yn("area,br,col,hr,img,wbr"),Xn=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Yn("rp,rt"),er=Zn(tr,Xn),nr=Zn(Jn,Zn(Xn,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(tr,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er),rr=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Yn("srcset"),sr=Zn(rr,ir,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),or=Yn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!or.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!sr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;rr[s]&&(o=Qn(o)),ir[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',lr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nr.hasOwnProperty(e)&&!Jn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cr=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(ur,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(cr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function dr(t,e){let n=null;try{hr=hr||function(t){const e=new $n(t);return function(){try{return!!(new window.DOMParser).parseFromString(kn(""),"text/html")}catch(t){return!1}}()?new zn(e):e}(t);let r=e?String(e):"";n=hr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==s);return kn((new ar).sanitizeChildren(fr(n)||n))}finally{if(n){const t=fr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(pr.URL,t)||"":Ln(t,"URL")?Mn(t):Qn(b(t))}function gr(t){return t.ngDebugContext}function yr(t){return t.ngOriginalError}function vr(t,...e){t.error(...e)}class br{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||vr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?gr(t)?gr(t):this._findContext(yr(t)):null}_findOriginalError(t){let e=yr(t);for(;e&&yr(e);)e=yr(e);return e}}function _r(t,e){t.__ngContext__=e}const wr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Sr(t){return t instanceof Function?t():t}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Cr(t,e){return(void 0)(t,e)}function Or(t){const e=t[3];return pt(e)?e[3]:e}function Tr(t){return xr(t[13])}function Ir(t){return xr(t[4])}function xr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Ar(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:ft(r)&&(o=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?Mr(e,n,a):Fr(e,n,a,i||null,!0):1===t&&null!==n?Fr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Vr(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==kt(n)&&Ar(e,t,r,s,i);for(let o=dt;o<n.length;o++){const i=n[o];Kr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function kr(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function Nr(t,e){if(t.length<=dt)return;const n=dt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Rr(s,r),e>0&&(t[n-1][4]=r[4]);const o=hn(t,dt+e);Kr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function jr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&Kr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Dr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Dr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Dr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Dr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Oe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):kt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Rr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Pr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}function Fr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Mr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Lr(t,e,n,r,i){null!==r?Fr(t,e,n,r,i):Mr(t,e,n)}function Vr(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Ur(t,e,n){return qr(t,e,n)}let qr=function(t,e,n){return 40&t.type?Nt(t,n):null};function Br(t,e,n,r){const i=Pr(t,r,e),s=e[11],o=Ur(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Lr(s,i,n[a],o,!1);else Lr(s,i,n,o,!1)}function Hr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return zr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Hr(t,n);{const n=t[e.index];return pt(n)?zr(-1,n):kt(n)}}if(32&n)return Cr(e,t)()||kt(t[e.index]);{const n=Wr(t,e);return null!==n?Array.isArray(n)?n[0]:Hr(Or(t[16]),n):Hr(t,e.next)}}return null}function Wr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function zr(t,e){const n=dt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Hr(t,r)}return e[7]}function $r(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&_r(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)$r(t,e,n.child,r,i,s,!1),Ar(e,t,i,a,s);else if(32&u){const o=Cr(n,r);let u;for(;u=o();)Ar(e,t,i,u,s);Ar(e,t,i,a,s)}else 16&u?Gr(t,e,r,n,i,s):Ar(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Kr(t,e,n,r,i,s){$r(n,r,t.firstChild,e,i,s,!1)}function Gr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ar(e,t,i,a[u],s);else $r(t,e,a,o[3],i,s,!0)}function Qr(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Yr(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Jr="ng-template";function Xr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ti(t){return 4===t.type&&t.value!==Jr}function ei(t,e,n){return e===(4!==t.type||n?t.value:Jr)}function ni(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ei(t,u,n)||""===u&&1===e.length){if(ri(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Xr(t.attrs,c,n)){if(ri(r))return!1;o=!0}continue}const l=ii(8&r?"class":u,i,ti(t),n);if(-1===l){if(ri(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Zr(e,c,0)||2&r&&c!==t){if(ri(r))return!1;o=!0}}}}else{if(!o&&!ri(r)&&!ri(u))return!1;if(o&&ri(u))continue;o=!1,r=u|1&r}}return ri(r)||o}function ri(t){return 0==(1&t)}function ii(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function si(t,e,n=!1){for(let r=0;r<e.length;r++)if(ni(t,e[r],n))return!0;return!1}function oi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ai(t,e){return t?":not("+e.trim()+")":e}function ui(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ri(o)||(e+=ai(s,i),i=""),r=o,s=s||!ri(r);n++}return""!==i&&(e+=ai(s,i)),e}const ci={};function li(t){hi(zt(),Wt(),me()+t,Jt())}function hi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ge(n)}function di(t,e){return t<<17|e<<2}function fi(t){return t>>17&32767}function pi(t){return 2|t}function mi(t){return(131068&t)>>2}function gi(t,e){return-131069&t|e<<2}function yi(t){return 1|t}function vi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];oe(i),n.contentQueries(2,e[s],s)}}}function bi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function _i(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Gt(),o=Yt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Qt(s,!0),s}function wi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Si(t,e,n){ce(e);try{const r=t.viewQuery;null!==r&&Ji(1,r,n);const i=t.template;null!==i&&Oi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vi(t,e),t.staticViewQueries&&Ji(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ki(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pe()}}function Ei(t,e,n,r){const i=e[2];if(256==(256&i))return;ce(e);const s=Jt();try{Ut(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Oi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),we(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=Ir(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=Ir(e))for(let t=dt;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&Ei(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&vi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&be(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ge(~r);else{const i=r,s=n[++t],o=n[++t];re(s,i),o(2,e[i])}}}finally{ge(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ji(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&be(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{pe()}}function Ci(t,e,n,r){const i=e[10],s=!Jt(),o=Mt(e);try{s&&!o&&i.begin&&i.begin(),o&&Si(t,e,r),Ei(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Oi(t,e,n,r,i){const s=me(),o=2&r;try{ge(-1),o&&e.length>ht&&hi(t,e,ht,Jt()),n(r,i)}finally{ge(s)}}function Ti(t,e,n){if(mt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ii(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Me(n,e),_r(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&qi(e,n,r);const u=Qe(e,t,a,n);_r(u,e),null!==o&&Bi(0,a-i,u,r,0,o),s&&(Pt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bt.lFrame.currentDirectiveIndex;try{ge(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ie(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Fi(r,i)}}finally{ge(-1),ie(o)}}(t,e,n))}function xi(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ai(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ki(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ki(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ci);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ri(t,e,n,r){const i=ts(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&es(t).push(r,i.length-1))}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ji(t,e,n,r,i,s,o,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(rs(t,n,c,r,i),gt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,xt(s)?s.setProperty(u,r,i):xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Di(t,e,n,r){let i=!1;if(Ht()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];si(n,o.selectors,!1)&&(i||(i=[]),qe(Me(n,e),t,o.type),vt(o)?(Mi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Vi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=wi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),Ui(t,n,e,u,c),Li(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ti(e)?null:Hi(n,i);s.push(c),o=Ni(n,u,o),a=Ni(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function Pi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Li(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Vi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ui(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new Oe(s,vt(i),null);t.blueprint[r]=o,n[r]=o,Pi(t,e,0,r,wi(t,n,i.hostVars,ci),i)}function qi(t,e,n){const r=Nt(e,t),i=Ai(n),s=t[10],o=Gi(t,bi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Bi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Wi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function zi(t,e){const n=Pt(e,t);if(Lt(n)){const t=n[1];80&n[2]?Ei(t,n,t.template,n[8]):n[5]>0&&$i(n)}}function $i(t){for(let n=Tr(t);null!==n;n=Ir(n))for(let t=dt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ei(t,e,t.template,e[8])}else e[5]>0&&$i(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Lt(r)&&r[5]>0&&$i(r)}}function Ki(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Si(r,n,n[8])}function Gi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qi(t){for(;t;){t[2]|=64;const e=Or(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Yi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ei(t,e,t.template,n)}catch(i){throw ns(e,i),i}finally{r.end&&r.end()}}function Zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];Ci(i,r,i.template,n)}}(t[8])}function Ji(t,e,n){oe(0),e(t,n)}const Xi=(()=>Promise.resolve(null))();function ts(t){return t[7]||(t[7]=[])}function es(t){return t.cleanup||(t.cleanup=[])}function ns(t,e){const n=t[9],r=n?n.get(br,null):null;r&&r.handleError(e)}function rs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function is(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=f(i,t):2==s&&(r=f(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ss=new sn("INJECTOR",-1);class os{get(t,e=gn){if(e===gn){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const as=new sn("Set Injector scope."),us={},cs={},ls=[];let hs;function ds(){return void 0===hs&&(hs=new os),hs}function fs(t,e=null,n=null,r){return new ps(t,n,e||ds(),r)}class ps{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(ss,ys(void 0,this));const s=this.records.get(as);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gn,n=R.Default){this.assertNotDestroyed();const r=wn(this);try{if(!(n&R.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&C(t);e=n&&this.injectableDefInScope(n)?ys(ms(t),us):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&R.Self?ds():this.parent).get(t,e=n&R.Optional&&e===gn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[vn]&&i.unshift(e[vn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(yn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{wn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=g(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||ls))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,ys(a,us));const u=r.providers;if(null!=u&&!o){const e=t;cn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=bs(t=g(t))?t:g(t&&t.provide);const i=function(t,e,n){return vs(t)?ys(void 0,t.useValue):ys(gs(t),us)}(t);if(bs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ys(void 0,us,!0),e.factory=()=>Cn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===us&&(e.value=cs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ms(t){const e=C(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof sn)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=dn(e,"?");throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function gs(t,e,n){let r;if(bs(t)){const e=g(t);return bt(e)||ms(e)}if(vs(t))r=()=>g(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Cn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>En(g(t.useExisting));else{const e=g(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||ms(e);r=()=>new e(...Cn(t.deps))}var i;return r}function ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vs(t){return null!==t&&"object"==typeof t&&bn in t}function bs(t){return"function"==typeof t}const _s=function(t,e,n){return function(t,e=null,n=null,r){const i=fs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ws=(()=>{class t{static create(t,e){return Array.isArray(t)?_s(t,e,""):_s(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gn,t.NULL=new os,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>En(ss)}),t.__NG_ELEMENT_ID__=-1,t})();function Ss(t,e){ve(Ft(t)[1],Kt())}function Es(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Cs(t.inputs),e.declaredInputs=Cs(t.declaredInputs),e.outputs=Cs(t.outputs);const n=i.hostBindings;n&&Is(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Os(t,s),o&&Ts(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Es&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function Cs(t){return t===H?{}:t===z?[]:t}function Os(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ts(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Is(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let xs=null;function As(){if(!xs){const t=B.Symbol;if(t&&t.iterator)xs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(xs=n)}}}return xs}class ks{constructor(t){this.wrapped=t}static wrap(t){return new ks(t)}static unwrap(t){return ks.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ks}}function Rs(t){return!!Ns(t)&&(Array.isArray(t)||!(t instanceof Map)&&As()in t)}function Ns(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function js(t,e,n){return t[e]=n}function Ds(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ps(t,e,n,r){const i=Wt();return Ds(i,ee(),e)&&(zt(),function(t,e,n,r,i,s){const o=Nt(t,e);!function(t,e,n,r,i,s,o){if(null==s)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(ye(),i,t,e,n,r)),Ps}function Fs(t,e,n,r,i,s,o,a){const u=Wt(),c=zt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=_i(e,t,4,o||null,Vt(c,a));Di(e,n,l,Vt(c,u)),ve(e,l);const h=l.tViews=ki(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Qt(h,!1);const d=u[11].createComment("");Br(c,u,d,h),_r(d,u),Gi(u,u[l]=Wi(d,u,d,h)),yt(h)&&Ii(c,u,h),null!=o&&xi(u,h,a)}function Ms(t){return Dt(Bt.lFrame.contextLView,ht+t)}function Ls(t,e=R.Default){const n=Wt();return null===n?En(t,e):We(Kt(),n,g(t),e)}function Vs(t,e,n){const r=Wt();return Ds(r,ee(),e)&&ji(zt(),ye(),r,t,e,r[11],n,!1),Vs}function Us(t,e,n,r,i){const s=i?"class":"style";rs(t,n,e.inputs[s],s,r)}function qs(t,e,n,r){const i=Wt(),s=zt(),o=ht+t,a=i[11],u=i[o]=kr(a,e,Bt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=_i(e,t,2,i,Vt(a,s));return Di(e,n,u,Vt(a,o)),null!==u.attrs&&is(u,u.attrs,!1),null!==u.mergedAttrs&&is(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&Yr(a,u,h);const d=c.styles;null!==d&&Qr(a,u,d),64!=(64&c.flags)&&Br(s,i,u,c),0===Bt.lFrame.elementDepthCount&&_r(u,i),Bt.lFrame.elementDepthCount++,yt(c)&&(Ii(s,i,c),Ti(s,c,i)),null!==r&&xi(i,c)}function Bs(){let t=Kt();Yt()?Zt():(t=t.parent,Qt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(ve(n,t),mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Us(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Us(n,e,Wt(),e.stylesWithoutHost,!1)}function Hs(t,e,n,r){qs(t,e,n,r),Bs()}function Ws(t,e,n){const r=Wt(),i=zt(),s=t+ht,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Vt(s,r),a=_i(e,t,8,"ng-container",o);return null!==o&&is(a,o,!0),Di(e,n,a,Vt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Qt(o,!0);const a=r[s]=r[11].createComment("");Br(i,r,a,o),_r(a,r),yt(o)&&(Ii(i,r,o),Ti(i,o,r)),null!=n&&xi(r,o)}function zs(){let t=Kt();const e=zt();Yt()?Zt():(t=t.parent,Qt(t,!1)),e.firstCreatePass&&(ve(e,t),mt(t)&&e.queries.elementEnd(t))}function $s(t,e,n){Ws(t,e,n),zs()}function Ks(){return Wt()}function Gs(t){return!!t&&"function"==typeof t.then}function Qs(t){return!!t&&"function"==typeof t.subscribe}const Ys=Qs;function Zs(t,e,n=!1,r){const i=Wt(),s=zt(),o=Kt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&es(t),l=ts(e);let h=!0;if(3&r.type){const d=Nt(r,e),f=a?a(d):H,p=f.target||d,m=l.length,g=a?t=>a(kt(t[r.index])).target:r.index;if(xt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Xs(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=Xs(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}else s=Xs(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Zs}function Js(t,e,n,r){try{return!1!==n(r)}catch(i){return ns(t,i),!1}}function Xs(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&Qi(o);let a=Js(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Js(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function to(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function eo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?si(t,s,!0):oi(r,s))return i}else n=i}return n}function no(t){const e=Wt()[16][6];if(!e.projection){const n=e.projection=dn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?eo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ro(t,e=0,n){const r=Wt(),i=zt(),s=_i(i,ht+t,16,null,n||null);null===s.projection&&(s.projection=e),Zt(),64!=(64&s.flags)&&function(t,e,n){Gr(e[11],0,e,n,Pr(t,n,e),Ur(n.parent||e[6],n,e))}(i,r,s)}function io(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?fi(s):mi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];so(t[a],e)&&(u=!0,t[a+1]=r?yi(n):pi(n)),a=r?fi(n):mi(n)}u&&(t[n+1]=r?pi(s):yi(s))}function so(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mn(t,e)>=0}const oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ao(t){return t.substring(oo.key,oo.keyEnd)}function uo(t,e){const n=oo.textEnd;return n===e?-1:(e=oo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,oo.key=e,n),co(t,e,n))}function co(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function lo(t,e,n){return mo(t,e,n,!1),lo}function ho(t,e){return mo(t,e,null,!0),ho}function fo(t){!function(t,e,n,r){const i=zt(),s=ne(2);i.firstUpdatePass&&yo(i,null,s,r);const o=Wt();if(n!==ci&&Ds(o,s,n)){const a=i.data[me()];if(Eo(a,r)&&!go(i,s)){let t=a.classesWithoutHost;null!==t&&(n=f(t,n||"")),Us(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===ci&&(i=W);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let f,p=null;l===h?(u+=2,c+=2,o!==d&&(p=h,f=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,f=d),null!==p&&_o(t,e,n,r,p,f,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return W;const r=[],i=Mn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(fn,po,t,!0)}function po(t,e){for(let n=function(t){return function(t){oo.key=0,oo.keyEnd=0,oo.value=0,oo.valueEnd=0,oo.textEnd=t.length}(t),uo(t,co(t,0,oo.textEnd))}(e);n>=0;n=uo(e,n))fn(t,ao(e),!0)}function mo(t,e,n,r){const i=Wt(),s=zt(),o=ne(2);s.firstUpdatePass&&yo(s,t,o,r),e!==ci&&Ds(i,o,e)&&_o(s,s.data[me()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=d(Mn(t)))),t}(e,n),r,o)}function go(t,e){return e>=t.expandoStartIndex}function yo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[me()],o=go(t,n);Eo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bo(n=vo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=vo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==mi(r))return t[fi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=vo(null,t,e,n[1],r),n=bo(n,e.attrs,r),function(t,e,n,r){t[fi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bo(r,t[s].hostAttrs,n);return bo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=fi(o),u=mi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=fi(t[a+1]);t[r+1]=di(e,a),0!==e&&(t[e+1]=gi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=di(a,0),0!==a&&(t[a+1]=gi(t[a+1],r)),a=r;else t[r+1]=di(u,0),0===a?a=r:t[u+1]=gi(t[u+1],r),u=r;l&&(t[r+1]=pi(t[r+1])),io(t,c,r,!0),io(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mn(s,e)>=0&&(n[r+1]=yi(n[r+1]))}(e,c,t,r,s),o=di(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function vo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=bo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,o,!!n||e[++s]))}return void 0===t?null:t}function _o(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];So(1==(1&c)?wo(u,e,n,i,mi(c),o):void 0)||(So(s)||2==(2&c)&&(s=wo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=xt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Er.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Er.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Rt(me(),n),i,s))}function wo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===ci&&(l=c?W:void 0);let h=c?pn(l,r):u===r?l:void 0;if(s&&!So(h)&&(h=pn(e,r)),So(h)&&(a=h,o))return a;const d=t[i+1];i=o?fi(d):mi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=pn(t,r))}return a}function So(t){return void 0!==t}function Eo(t,e){return 0!=(t.flags&(e?16:32))}function Co(t,e=""){const n=Wt(),r=zt(),i=t+ht,s=r.firstCreatePass?_i(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Br(r,n,o,s),Qt(s,!1)}function Oo(t){return To("",t,""),Oo}function To(t,e,n){const r=Wt(),i=function(t,e,n,r){return Ds(t,ee(),n)?e+b(n)+r:ci}(r,t,e,n);return i!==ci&&function(t,e,n){const r=Rt(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,me(),i),To}function Io(t,e,n){const r=Wt();return Ds(r,ee(),e)&&ji(zt(),ye(),r,t,e,r[11],n,!0),Io}const xo=void 0;var Ao=["en",[["a","p"],["AM","PM"],xo],[["AM","PM"],xo,xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xo,"{1} 'at' {0}",xo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ko={};function Ro(t,e,n){"string"!=typeof e&&(n=e,e=t[Fo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ko[e]=t,n&&(ko[e][Fo.ExtraData]=n)}function No(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Po(e);if(n)return n;const r=e.split("-")[0];if(n=Po(r),n)return n;if("en"===r)return Ao;throw new Error(`Missing locale data for the locale "${t}".`)}function jo(t){return No(t)[Fo.CurrencyCode]||null}function Do(t){return No(t)[Fo.PluralCase]}function Po(t){return t in ko||(ko[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),ko[t]}var Fo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Mo="en-US";let Lo=Mo;function Vo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Lo=t.toLowerCase().replace(/_/g,"-"))}function Uo(t,e,n,r,i){if(t=g(t),Array.isArray(t))for(let s=0;s<t.length;s++)Uo(t[s],e,n,r,i);else{const s=zt(),o=Wt();let a=bs(t)?t:g(t.provide),u=gs(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(bs(t)||!t.multi){const r=new Oe(u,i,Ls),f=Ho(a,e,i?l:l+d,h);-1===f?(qe(Me(c,o),s,a),qo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Ho(a,e,l+d,h),p=Ho(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){qe(Me(c,o),s,a);const l=function(t,e,n,r,i){const s=new Oe(t,n,Ls);return s.multi=[],s.index=e,s.componentProviders=0,Bo(s,i,r&&!n),s}(i?zo:Wo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),qo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else qo(s,t,f>-1?f:p,Bo(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function qo(t,e,n,r){const i=bs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Bo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ho(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Wo(t,e,n,r){return $o(this.multi,[])}function zo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Qe(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),$o(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],$o(i,s);return s}function $o(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ko(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=zt();if(r.firstCreatePass){const i=vt(t);Uo(n,r.data,r.blueprint,i,!0),Uo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Go{}class Qo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Yo=(()=>{class t{}return t.NULL=new Qo,t})();function Zo(...t){}function Jo(t,e){return new ta(Nt(t,e))}const Xo=function(){return Jo(Kt(),Wt())};let ta=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Xo,t})();function ea(t){return t instanceof ta?t.nativeElement:t}class na{}let ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ia(),t})();const ia=function(){const t=Wt(),e=Pt(Kt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let sa=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class oa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const aa=new oa("11.2.14");class ua{constructor(){}supports(t){return Rs(t)}create(t){return new la(t)}}const ca=(t,e)=>e;class la{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ca}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<pa(n,r,i)?e:n,o=pa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Rs(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[As()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ha(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ha{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class da{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new da,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ma{constructor(){}supports(t){return t instanceof Map||Ns(t)}create(){return new ga}}class ga{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ns(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ya(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ya{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function va(){return new ba([new ua])}let ba=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||va()),deps:[[t,new xn,new In]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:va}),t})();function _a(){return new wa([new ma])}let wa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||_a()),deps:[[t,new xn,new In]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:_a}),t})();function Sa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(kt(s)),pt(s))for(let t=dt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Sa(e[1],e,n,r)}const o=n.type;if(8&o)Sa(t,e,n.child,r);else if(32&o){const t=Cr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Wr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Or(e[16]);Sa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ea{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Sa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Nr(t,n),hn(e,n))}this._attachedToViewContainer=!1}jr(this._lView[1],this._lView)}onDestroy(t){Ri(this._lView[1],this._lView,null,t)}markForCheck(){Qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{Yi(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Kr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ca extends Ea{constructor(t){super(t),this._view=t}detectChanges(){Zi(this._view)}checkNoChanges(){!function(t){Xt(!0);try{Zi(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const Oa=Ia;let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oa,t.__ChangeDetectorRef__=!0,t})();function Ia(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Pt(t.index,e);return new Ea(n,n)}return 47&t.type?new Ea(e[16],e):null}(Kt(),Wt(),t)}const xa=[new ma],Aa=new ba([new ua]),ka=new wa(xa),Ra=function(){return Pa(Kt(),Wt())};let Na=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ra,t})();const ja=Na,Da=class extends ja{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=bi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Si(e,n,t),new Ea(n)}};function Pa(t,e){return 4&t.type?new Da(e,t,Jo(t,e)):null}class Fa{}class Ma{}const La=function(){return Wa(Kt(),Wt())};let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=La,t})();const Ua=Va,qa=class extends Ua{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Jo(this._hostTNode,this._hostLView)}get injector(){return new Je(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ue(this._hostTNode,this._hostLView);if(Re(t)){const e=je(t,this._hostLView),n=Ne(t);return new Je(e[1].data[n+8],e)}return new Je(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ba(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Fa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new qa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=dt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-dt?(e[4]=n[i],ln(n,dt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=zr(i,s),a=n[11],u=Vr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Kr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),ln(Ha(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ba(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);n&&(hn(Ha(this._lContainer),e),jr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);return n&&null!=hn(Ha(this._lContainer),e)?new Ea(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ba(t){return t[8]}function Ha(t){return t[8]||(t[8]=[])}function Wa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Fr(n,Vr(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Wi(r,e,i,t),Gi(e,n)}return new qa(n,t,e)}const za={};class $a extends Yo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Qa(e,this.ngModule)}}function Ka(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ga=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wr});class Qa extends Go{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ui).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ka(this.componentDef.inputs)}get outputs(){return Ka(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,za,i);return s!==za||r===za?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(na,At),o=i.get(sa,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):kr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:wr,clean:Xi,playerHandler:null,flags:0},d=ki(0,null,null,1,0,null,null,null,null,null),f=bi(null,d,h,l,null,null,s,a,o,i);let p,m;ce(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=_i(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(is(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&Yr(i,t,a.classes),null!==a.styles&&Qr(i,t,a.styles)));const c=r.createRenderer(t,e),l=bi(n,Ai(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(qe(Me(a,n),o,e.type),Mi(o,a),Vi(a,n.length,1)),Gi(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Te(a,c,["ng-version",aa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ri(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&Yr(a,c,e.join(" "))}if(m=jt(d,ht),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ui(t,r,e,wi(t,e,1,null),n));const i=Qe(e,t,r.directiveStart,r);_r(i,e);const s=Nt(r,e);return s&&_r(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Kt();e.contentQueries(1,o,t.directiveStart)}const a=Kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ge(a.index),Pi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Fi(e,o)),o}(t,this.componentDef,f,h,[Ss]),Si(d,f,null)}finally{pe()}return new Ya(this.componentType,p,Jo(m,f),f,m)}}class Ya extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ca(r),this.componentType=t}get injector(){return new Je(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Za=new Map;class Ja extends Fa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $a(this);const n=lt(t),r=t[Y]||null;r&&Vo(r),this._bootstrapComponents=Sr(n.bootstrap),this._r3Injector=fs(t,e,[{provide:Fa,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ws.THROW_IF_NOT_FOUND,n=R.Default){return t===ws||t===Fa||t===ss?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xa extends Ma{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,Za.get(i),n),Za.set(i,n));const s=Sr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Ja(this.moduleType,t)}}function tu(t,e,n){const r=te()+t,i=Wt();return i[r]===ci?js(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function eu(t,e,n,r){return iu(Wt(),te(),t,e,n,r)}function nu(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=function(t,e,n,r){const i=Ds(t,e,n);return Ds(t,e+1,r)||i}(t,e,n,r);return Ds(t,e+2,i)||s}(t,u,i,s,o)?js(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):ru(t,u+3)}(Wt(),te(),t,e,n,r,i,s)}function ru(t,e){const n=t[e];return n===ci?void 0:n}function iu(t,e,n,r,i,s){const o=e+n;return Ds(t,o,i)?js(t,o+1,s?r.call(s,i):r(i)):ru(t,o+1)}function su(t,e){const n=zt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new v("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=j(Ls);try{const t=Pe(!1),e=s();return Pe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{j(o)}}function ou(t,e,n){const r=t+ht,i=Wt(),s=Dt(i,r);return function(t,e){return ks.isWrapped(e)&&(e=ks.unwrap(e),t[Bt.lFrame.bindingIndex]=ci),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?iu(i,te(),e,s.transform,n,s):s.transform(n))}function au(t){return e=>{setTimeout(t,void 0,e)}}const uu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=au(u),a&&(a=au(a)),c&&(c=au(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function cu(){return this._results[As()]()}class lu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=As(),n=lu.prototype;n[e]||(n[e]=cu)}get changes(){return this._changes||(this._changes=new uu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=un(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class hu{constructor(t){this.queryList=t,this.matches=null}clone(){return new hu(this.queryList)}setDirty(){this.queryList.setDirty()}}class du{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new du(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Eu(t,e).matches&&this.queries[e].setDirty()}}class fu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class pu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new pu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class mu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new mu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,gu(e,i)),this.matchTNodeWithReadOption(t,e,Ge(e,t,i,!1,!1))}else n===Na?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ge(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ta||r===Va||r===Na&&4&e.type)this.addMatch(e.index,-2);else{const n=Ge(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function gu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function yu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Jo(t,e):4&t.type?Pa(t,e):null}(e,t):-2===n?function(t,e,n){return n===ta?Jo(e,t):n===Na?Pa(e,t):n===Va?Wa(e,t):void 0}(t,e,r):Qe(t,t[1],n,e)}function vu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:yu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function bu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=vu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=dt;t<o.length;t++){const e=o[t];e[17]===e[3]&&bu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];bu(n[1],n,i,r)}}}}}return r}function _u(t){const e=Wt(),n=zt(),r=se();oe(r+1);const i=Eu(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?bu(n,e,r,[]):vu(n,e,i,r);t.reset(s,ea),t.notifyOnChanges()}return!0}return!1}function wu(t,e,n,r){const i=zt();if(i.firstCreatePass){const s=Kt();(function(t,e,n){null===t.queries&&(t.queries=new pu),t.queries.track(new mu(e,n))})(i,new fu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new lu(4==(4&n));Ri(t,e,r,r.destroy),null===e[19]&&(e[19]=new du),e[19].queries.push(new hu(r))}(i,Wt(),n)}function Su(){return t=Wt(),e=se(),t[19].queries[e].queryList;var t,e}function Eu(t,e){return t.queries.getByIndex(e)}function Cu(t,e){return Pa(t,e)}function Ou(t=R.Default){const e=Ia(!0);if(null!=e||t&R.Optional)return e;w("ChangeDetectorRef")}const Tu=new sn("Application Initializer");let Iu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Zo,this.reject=Zo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Gs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(En(Tu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const xu=new sn("AppId"),Au={provide:xu,useFactory:function(){return`${ku()}${ku()}${ku()}`},deps:[]};function ku(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ru=new sn("Platform Initializer"),Nu=new sn("Platform ID"),ju=new sn("appBootstrapListener");let Du=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Pu=new sn("LocaleId"),Fu=new sn("DefaultCurrencyCode");class Mu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Lu=function(t){return new Xa(t)},Vu=Lu,Uu=function(t){return Promise.resolve(Lu(t))},qu=function(t){const e=Lu(t),n=Sr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Qa(n)),t},[]);return new Mu(e,n)},Bu=qu,Hu=function(t){return Promise.resolve(qu(t))};let Wu=(()=>{class t{constructor(){this.compileModuleSync=Vu,this.compileModuleAsync=Uu,this.compileModuleAndAllComponentsSync=Bu,this.compileModuleAndAllComponentsAsync=Hu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const zu=(()=>Promise.resolve(0))();function $u(t){"undefined"==typeof Zone?zu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ku{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uu(!1),this.onMicrotaskEmpty=new uu(!1),this.onStable=new uu(!1),this.onError=new uu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yu(t),Qu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Zu(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Ju(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Zu(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ju(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Yu(t),Qu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ku.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ku.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Gu,Zo,Zo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Gu={};function Qu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Zu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ju(t){t._nesting--,Qu(t)}class Xu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uu,this.onMicrotaskEmpty=new uu,this.onStable=new uu,this.onError=new uu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let tc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ku.assertNotInAngularZone(),$u(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$u(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(En(Ku))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),ec=(()=>{class t{constructor(){this._applications=new Map,sc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return sc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class nc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function rc(t){sc=t}let ic,sc=new nc,oc=!0,ac=!1;function uc(){return ac=!0,oc}function cc(){if(ac)throw new Error("Cannot enable prod mode after platform setup.");oc=!1}const lc=new sn("AllowMultipleToken");class hc{constructor(t,e){this.name=t,this.token=e}}function dc(t,e,n=[]){const r=`Platform: ${e}`,i=new sn(r);return(e=[])=>{let s=fc();if(!s||s.injector.get(lc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:as,useValue:"platform"});!function(t){if(ic&&!ic.destroyed&&!ic.injector.get(lc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ic=t.get(pc);const e=t.get(Ru,null);e&&e.forEach(t=>t())}(ws.create({providers:t,name:r}))}return function(t){const e=fc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function fc(){return ic&&!ic.destroyed?ic:null}let pc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Xu:("zone.js"===t?void 0:t)||new Ku({enableLongStackTrace:uc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Ku,useValue:n}];return n.run(()=>{const e=ws.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(br,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{yc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Gs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Iu);return t.runInitializers(),t.donePromise.then(()=>(Vo(i.injector.get(Pu,Mo)||Mo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=mc({},e);return function(t,e,n){const r=new Xa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(gc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(En(ws))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function mc(t,e){return Array.isArray(e)?e.reduce(mc,t):Object.assign(Object.assign({},t),e)}let gc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ku.assertNotInAngularZone(),$u(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Go?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Fa),i=n.create(ws.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(tc,null),a=o&&i.injector.get(ec);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),yc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;yc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ju,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(En(Ku),En(ws),En(br),En(Yo),En(Iu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function yc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class vc{}class bc{}const _c={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let wc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||_c}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Sc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Sc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(En(Wu),En(bc,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Sc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ec=function(t){return null},Cc=dc(null,"core",[{provide:Nu,useValue:"unknown"},{provide:pc,deps:[ws]},{provide:ec,deps:[]},{provide:Du,deps:[]}]),Oc=[{provide:gc,useClass:gc,deps:[Ku,ws,br,Yo,Iu]},{provide:Ga,deps:[Ku],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Iu,useClass:Iu,deps:[[new In,Tu]]},{provide:Wu,useClass:Wu,deps:[]},Au,{provide:ba,useFactory:function(){return Aa},deps:[]},{provide:wa,useFactory:function(){return ka},deps:[]},{provide:Pu,useFactory:function(t){return Vo(t=t||"undefined"!=typeof $localize&&$localize.locale||Mo),t},deps:[[new Tn(Pu),new In,new xn]]},{provide:Fu,useValue:"USD"}];let Tc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(En(gc))},t.\u0275mod=it({type:t}),t.\u0275inj=E({providers:Oc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return d});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function c(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function l(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function d(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return T}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return A}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return p}),n.d(e,"k",function(){return m}),n.d(e,"l",function(){return y}),n.d(e,"m",function(){return v}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g}),n.d(e,"q",function(){return _}),n.d(e,"r",function(){return b});var r=n("mrSG"),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){return function(t){var e=i(t);return s.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function a(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function m(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function _(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var w=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,S.prototype.create),s}return Object(r.d)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?E(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new w(i,a,r);return u},t}();function E(t,e){return t.replace(C,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var C=/\{\$([^}]+)}/g;function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){var n=new I(t,e);return n.subscribe.bind(n)}var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function x(){}function A(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[v,u.A,[new u.B,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("Y7HM");class m extends r.a{constructor(t,e=0,n=f){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function g(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.g)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Wb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=Object(r.Ib)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Wb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Wb)(o).location;return new b(Object(r.Wb)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(v,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(v,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(g),r.Wb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w(Object(r.Wb)(g),Object(r.Wb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const O=r.nb;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(O(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.wb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(r.u),r.Mb(r.l),r.Mb(r.E))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new R(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new R(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class R{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}let P=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.u),r.Mb(r.E))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();class F{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class M{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const L=new M,V=new F;let U=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.sb)(e))return L;if(Object(r.tb)(e))return V;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb())},t.\u0275pipe=r.Lb({name:"async",type:t,pure:!1}),t})(),q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:T,useClass:I}]}),t})();function B(t){return"server"===t}let H=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new W(Object(r.Wb)(o),window)}),t})();class W{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=z(this.window.history)||z(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function z(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class $ extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new $,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=G||(G=document.querySelector("base"),G)?G.getAttribute("href"):null;return null==e?null:(n=e,K||(K=document.createElement("a")),K.setAttribute("href",n),"/"===K.pathname.charAt(0)?K.pathname:"/"+K.pathname);var n}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let K,G=null;const Q=new r.r("TRANSITION_ID"),Y=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Q,o,r.s],multi:!0}];class Z{static init(){Object(r.X)(new Z)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const J=new r.r("EventManagerPlugins");let X=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(J),r.Wb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class tt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let et=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),nt=(()=>{class t extends et{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(rt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(rt))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function rt(t){s().remove(t)}const it={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},st=/%COMP%/g;function ot(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ot(t,i,n):(i=i.replace(st,t),n.push(i))}return n}function at(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ut=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ct(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new lt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ht(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ot(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(X),r.Wb(nt),r.Wb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class ct{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(it[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=it[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=it[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,at(n)):this.eventManager.addEventListener(t,e,at(n))}}class lt extends ct{constructor(t,e,n,r){super(t),this.component=n;const i=ot(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(st,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(st,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ht extends ct{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ot(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let dt=(()=>{class t extends tt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const ft=["alt","control","meta","shift"],pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yt=(()=>{class t extends tt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(ft.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&mt.hasOwnProperty(e)&&(e=mt[e]))}return pt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ft.forEach(r=>{r!=n&&(0,gt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const vt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){$.makeCurrent(),Z.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],bt=Object(r.S)(r.W,"browser",vt),_t=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:J,useClass:dt,multi:!0,deps:[o,r.A,r.C]},{provide:J,useClass:yt,multi:!0,deps:[o]},[],{provide:ut,useClass:ut,deps:[X,nt,r.c]},{provide:r.F,useExisting:ut},{provide:et,useExisting:nt},{provide:nt,useClass:nt,deps:[o]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:X,useClass:X,deps:[J,r.A]},[]];let wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Q,useExisting:r.c},Y]}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:_t,imports:[q,r.f]}),t})();"undefined"!=typeof window&&window;var St=n("Cfvw"),Et=n("LRne"),Ct=n("XNiG"),Ot=n("9ppp");class Tt extends Ct.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ot.a;return this._value}next(t){super.next(this._value=t)}}var It=n("z+Ro"),xt=n("DH7j"),At=n("7o/Q");class kt extends At.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Rt extends At.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Nt=n("SeVD"),jt=n("HDdC");function Dt(t,e,n,r,i=new Rt(t,n,r)){if(!i.closed)return e instanceof jt.a?e.subscribe(i):Object(Nt.a)(e)(i)}var Pt=n("yCtX");const Ft={};class Mt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Lt(t,this.resultSelector))}}class Lt extends kt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ft),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Dt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ft?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Vt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ut=n("bHdf");function qt(...t){return Object(Ut.a)(1)(Object(Et.a)(...t))}var Bt=n("EY2u");function Ht(t){return new jt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(St.a)(n):Object(Bt.b)()).subscribe(e)})}var Wt=n("EQ5u"),zt=n("lJxs"),$t=n("zx2A");function Kt(t,e){return"function"==typeof e?n=>n.pipe(Kt((n,r)=>Object(St.a)(t(n,r)).pipe(Object(zt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Gt(t))}class Gt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Qt(t,this.project))}}class Qt extends $t.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new $t.a(this),r=this.destination;r.add(n),this.innerSubscription=Object($t.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Yt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Zt(t){return e=>0===t?Object(Bt.b)():e.lift(new Jt(t))}class Jt{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new Xt(t,this.total))}}class Xt extends At.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function te(...t){const e=t[t.length-1];return Object(It.a)(e)?(t.pop(),n=>qt(t,n,e)):e=>qt(t,e)}function ee(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ne(t,e,n))}}class ne{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new re(t,this.accumulator,this.seed,this.hasSeed))}}class re extends At.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ie(t,e){return function(n){return n.lift(new se(t,e))}}class se{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new oe(t,this.predicate,this.thisArg))}}class oe extends At.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ae(t){return function(e){const n=new ue(t),r=e.lift(n);return n.caught=r}}class ue{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ce(t,this.selector,this.caught))}}class ce extends $t.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new $t.a(this);this.add(r);const i=Object($t.c)(n,r);i!==r&&this.add(i)}}}var le=n("5+tZ");function he(t,e){return Object(le.a)(t,e,1)}function de(t){return function(e){return 0===t?Object(Bt.b)():e.lift(new fe(t))}}class fe{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new pe(t,this.total))}}class pe extends At.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function me(t=ve){return e=>e.lift(new ge(t))}class ge{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ye(t,this.errorFactory))}}class ye extends At.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Pb){t=Pb}this.destination.error(t)}}}function ve(){return new Vt}function be(t=null){return e=>e.lift(new _e(t))}class _e{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new we(t,this.defaultValue))}}class we extends At.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Se=n("SpAZ");function Ee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ie((e,n)=>t(e,n,r)):Se.a,Zt(1),n?be(e):me(()=>new Vt))}var Ce=n("vkgz"),Oe=n("x+ZX"),Te=n("quSY");class Ie{constructor(t){this.callback=t}call(t,e){return e.subscribe(new xe(t,this.callback))}}class xe extends At.a{constructor(t,e){super(t),this.add(new Te.a(e))}}class Ae{constructor(t,e){this.id=t,this.url=e}}class ke extends Ae{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Re extends Ae{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ne extends Ae{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class je extends Ae{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class De extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fe extends Ae{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Me extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ue{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $e="primary";class Ke{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ge(t){return new Ke(t)}function Qe(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ye(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ze(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Je(t[i],e[i]))return!1;return!0}function Je(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Xe(t){return Array.prototype.concat.apply([],t)}function tn(t){return t.length>0?t[t.length-1]:null}function en(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function nn(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(St.a)(Promise.resolve(t)):Object(Et.a)(t)}function rn(t,e,n){return n?function(t,e){return Ze(t,e)}(t.queryParams,e.queryParams)&&sn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Je(t[n],e[n]))}(t.queryParams,e.queryParams)&&on(t.root,e.root)}function sn(t,e){if(!hn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!sn(t.children[n],e.children[n]))return!1}return!0}function on(t,e){return an(t,e,e.segments)}function an(t,e,n){if(t.segments.length>n.length)return!!hn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!hn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!on(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!hn(t.segments,r)&&!!t.children.primary&&an(t.children.primary,e,i)}}class un{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return pn.serialize(this)}}class cn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,en(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mn(this)}}class ln{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return Sn(this)}}function hn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class dn{}class fn{parse(t){const e=new In(t);return new un(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${gn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${vn(e)}=${vn(t)}`).join("&"):`${vn(e)}=${vn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const pn=new fn;function mn(t){return t.segments.map(t=>Sn(t)).join("/")}function gn(t,e){if(!t.hasChildren())return mn(t);if(e){const e=t.children.primary?gn(t.children.primary,!1):"",n=[];return en(t.children,(t,e)=>{e!==$e&&n.push(`${e}:${gn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return en(t.children,(t,r)=>{r===$e&&(n=n.concat(e(t,r)))}),en(t.children,(t,r)=>{r!==$e&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===$e?[gn(t.children.primary,!1)]:[`${n}:${gn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${mn(t)}/${e[0]}`:`${mn(t)}/(${e.join("//")})`}}function yn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vn(t){return yn(t).replace(/%3B/gi,";")}function bn(t){return yn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _n(t){return decodeURIComponent(t)}function wn(t){return _n(t.replace(/\+/g,"%20"))}function Sn(t){return`${bn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${bn(t)}=${bn(e[t])}`).join("")}`;var e}const En=/^[^\/()?;=#]+/;function Cn(t){const e=t.match(En);return e?e[0]:""}const On=/^[^=?&#]+/,Tn=/^[^?&#]+/;class In{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new cn(t,e)),n}parseSegment(){const t=Cn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ln(_n(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Cn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Cn(this.remaining);t&&(n=t,this.capture(n))}t[_n(e)]=_n(n)}parseQueryParam(t){const e=function(t){const e=t.match(On);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Tn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=wn(e),i=wn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Cn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=$e);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new cn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class xn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=An(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=An(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=kn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return kn(t,this._root).map(t=>t.value)}}function An(t,e){if(t===e.value)return e;for(const n of e.children){const e=An(t,n);if(e)return e}return null}function kn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=kn(t,n);if(r.length)return r.unshift(e),r}return[]}class Rn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Nn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class jn extends xn{constructor(t,e){super(t),this.snapshot=e,Vn(this,t)}toString(){return this.snapshot.toString()}}function Dn(t,e){const n=function(t,e){const n=new Mn([],{},{},"",{},$e,e,null,t.root,-1,{});return new Ln("",new Rn(n,[]))}(t,e),r=new Tt([new ln("",{})]),i=new Tt({}),s=new Tt({}),o=new Tt({}),a=new Tt(""),u=new Pn(r,i,o,a,s,$e,e,n.root);return u.snapshot=n.root,new jn(new Rn(u,[]),n)}class Pn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(zt.a)(t=>Ge(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(zt.a)(t=>Ge(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Mn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ln extends xn{constructor(t,e){super(e),this.url=t,Vn(this,e)}toString(){return Un(this._root)}}function Vn(t,e){e.value._routerState=t,e.children.forEach(e=>Vn(t,e))}function Un(t){const e=t.children.length>0?` { ${t.children.map(Un).join(", ")} } `:"";return`${t.value}${e}`}function qn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ze(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ze(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ze(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ze(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bn(t,e){return Ze(t.params,e.params)&&function(t,e){return hn(t,e)&&t.every((t,n)=>Ze(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Bn(t.parent,e.parent))}function Hn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Hn(t,e,r);return Hn(t,e)})}(t,e,n);return new Rn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Wn(e,t),t}}const n=new Pn(new Tt((r=e.value).url),new Tt(r.params),new Tt(r.queryParams),new Tt(r.fragment),new Tt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Hn(t,e));return new Rn(n,i)}var r}function Wn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Wn(t.children[n],e.children[n])}function zn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function $n(t){return"object"==typeof t&&null!=t&&t.outlets}function Kn(t,e,n,r,i){let s={};return r&&en(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new un(n.root===t?e:Gn(n.root,t,e),s,i)}function Gn(t,e,n){const r={};return en(t.children,(t,i)=>{r[i]=t===e?n:Gn(t,e,n)}),new cn(t.segments,r)}class Qn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find($n);if(r&&r!==tn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Zn(t,e,n){if(t||(t=new cn([],{})),0===t.segments.length&&t.hasChildren())return Jn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if($n(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!nr(a,u,e))return s;r+=2}else{if(!nr(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new cn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new cn(t.segments.slice(r.pathIndex),t.children),Jn(e,0,i)}return r.match&&0===i.length?new cn(t.segments,{}):r.match&&!t.hasChildren()?Xn(t,e,n):r.match?Jn(t,0,i):Xn(t,e,n)}function Jn(t,e,n){if(0===n.length)return new cn(t.segments,{});{const r=function(t){return $n(t[0])?t[0].outlets:{[$e]:t}}(n),i={};return en(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Zn(t.children[r],e,n))}),en(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new cn(t.segments,i)}}function Xn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if($n(s)){const t=tr(s.outlets);return new cn(r,t)}if(0===i&&zn(n[0])){r.push(new ln(t.segments[e].path,er(n[0]))),i++;continue}const o=$n(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&zn(a)?(r.push(new ln(o,er(a))),i+=2):(r.push(new ln(o,{})),i++)}return new cn(r,{})}function tr(t){const e={};return en(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Xn(new cn([],{}),0,t))}),e}function er(t){const e={};return en(t,(t,n)=>e[n]=`${t}`),e}function nr(t,e,n){return t==n.path&&Ze(e,n.parameters)}class rr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),qn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Nn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),en(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Nn(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Nn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new We(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Be(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(qn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ir(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ir(t){qn(t.value),t.children.forEach(ir)}class sr{constructor(t,e){this.routes=t,this.module=e}}function or(t){return"function"==typeof t}function ar(t){return t instanceof un}const ur=Symbol("INITIAL_VALUE");function cr(){return Kt(t=>function(...t){let e,n;return Object(It.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(xt.a)(t[0])&&(t=t[0]),Object(Pt.a)(t,n).lift(new Mt(e))}(t.map(t=>t.pipe(Zt(1),te(ur)))).pipe(ee((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ur)return t;if(r===ur&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ar(r))return r}return t},t)},ur),ie(t=>t!==ur),Object(zt.a)(t=>ar(t)?t:!0===t),Zt(1)))}let lr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[oi]},encapsulation:2}),t})();function hr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];dr(r,fr(e,r))}}function dr(t,e){t.children&&hr(t.children,e)}function fr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function pr(t){const e=t.children&&t.children.map(pr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$e&&(n.component=lr),n}function mr(t){return t.outlet||$e}function gr(t,e){const n=t.filter(t=>mr(t)===e);return n.push(...t.filter(t=>mr(t)!==e)),n}const yr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function vr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},yr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ye)(n,t,e);if(!i)return Object.assign({},yr);const s={};en(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function br(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>_r(t,e,n)&&mr(n)!==$e)}(t,n,r)){const i=new cn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&mr(s)!==$e){const n=new cn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[mr(s)]=n}return i}(t,e,r,new cn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>_r(t,e,n))}(t,n,r)){const s=new cn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(_r(t,n,a)&&!i[mr(a)]){const n=new cn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[mr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new cn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function _r(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function wr(t,e,n,r){return!!(mr(t)===r||r!==$e&&_r(e,n,t))&&("**"===t.path||vr(e,t,n).matched)}function Sr(t,e,n){return 0===e.length&&!t.children[n]}class Er{constructor(t){this.segmentGroup=t||null}}class Cr{constructor(t){this.urlTree=t}}function Or(t){return new jt.a(e=>e.error(new Er(t)))}function Tr(t){return new jt.a(e=>e.error(new Cr(t)))}function Ir(t){return new jt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class xr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=br(this.urlTree.root,[],[],this.config).segmentGroup,e=new cn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,$e).pipe(Object(zt.a)(t=>this.createUrlTree(Ar(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ae(t=>{if(t instanceof Cr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Er)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,$e).pipe(Object(zt.a)(e=>this.createUrlTree(Ar(e),t.queryParams,t.fragment))).pipe(ae(t=>{if(t instanceof Er)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new cn([],{[$e]:t}):t;return new un(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(zt.a)(t=>new cn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(St.a)(r).pipe(he(r=>{const i=n.children[r],s=gr(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(zt.a)(t=>({segment:t,outlet:r})))}),ee((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ie((e,n)=>t(e,n,r)):Se.a,de(1),n?be(e):me(()=>new Vt))}())}expandSegment(t,e,n,r,i,s){return Object(St.a)(n).pipe(he(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ae(t=>{if(t instanceof Er)return Object(Et.a)(null);throw t}))),Ee(t=>!!t),ae((t,n)=>{if(t instanceof Vt||"EmptyError"===t.name){if(Sr(e,r,i))return Object(Et.a)(new cn([],{}));throw new Er(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return wr(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Or(e):Or(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Tr(i):this.lineralizeSegments(n,i).pipe(Object(le.a)(n=>{const i=new cn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=vr(e,r,i);if(!o)return Or(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Tr(l):this.lineralizeSegments(r,l).pipe(Object(le.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Et.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(zt.a)(t=>(n._loadedConfig=t,new cn(r,{})))):Object(Et.a)(new cn(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=vr(e,n,r);if(!s)return Or(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(le.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=br(e,o,u,s),l=new cn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(zt.a)(t=>new cn(o,t)));if(0===s.length&&0===c.length)return Object(Et.a)(new cn(o,{}));const h=mr(n)===i;return this.expandSegment(r,l,s,c,h?$e:i,!0).pipe(Object(zt.a)(t=>new cn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Et.a)(new sr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Et.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(le.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(zt.a)(t=>(e._loadedConfig=t,t))):function(t){return new jt.a(e=>e.error(Qe(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Et.a)(new sr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Et.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&or(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!or(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return nn(s)});return Object(Et.a)(i).pipe(cr(),Object(Ce.a)(t=>{if(!ar(t))return;const e=Qe(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(zt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Et.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ir(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new un(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return en(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return en(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new cn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ar(t){const e={};for(const n of Object.keys(t.children)){const r=Ar(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new cn(t.segments.concat(e.segments),e.children)}return t}(new cn(t.segments,e))}class kr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Rr{constructor(t,e){this.component=t,this.route=e}}function Nr(t,e,n){const r=t._root;return Dr(r,e?e._root:null,n,[r.value])}function jr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Dr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Nn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!hn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hn(t.url,e.url)||!Ze(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bn(t,e)||!Ze(t.queryParams,e.queryParams);case"paramsChange":default:return!Bn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new kr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Dr(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rr(a.outlet.component,o))}else o&&Pr(e,a,i),i.canActivateChecks.push(new kr(r)),Dr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),en(s,(t,e)=>Pr(t,n.getContext(e),i)),i}function Pr(t,e,n){const r=Nn(t),i=t.value;en(r,(t,r)=>{Pr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Rr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Fr{}function Mr(t){return new jt.a(e=>e.error(t))}class Lr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=br(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,$e);if(null===e)return null;const n=new Mn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$e,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Rn(n,e),i=new Ln(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Fn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=gr(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Ur(n);return r.sort((t,e)=>t.value.outlet===$e?-1:e.value.outlet===$e?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Sr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!wr(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?tn(n).parameters:{};i=new Mn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hr(t),mr(t),t.component,t,qr(e),Br(e)+n.length,Wr(t))}else{const r=vr(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Mn(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hr(t),mr(t),t.component,t,qr(e),Br(e)+s.length,Wr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=br(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Rn(i,t)]}if(0===a.length&&0===c.length)return[new Rn(i,[])];const l=mr(t)===r,h=this.processSegment(a,u,c,l?$e:r);return null===h?null:[new Rn(i,h)]}}function Vr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ur(t){const e=[],n=new Set;for(const r of t){if(!Vr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Ur(r.children);e.push(new Rn(r.value,t))}return e.filter(t=>!n.has(t))}function qr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Br(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Hr(t){return t.data||{}}function Wr(t){return t.resolve||{}}function zr(t){return Kt(e=>{const n=t(e);return n?Object(St.a)(n).pipe(Object(zt.a)(()=>e)):Object(Et.a)(e)})}class $r extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Kr=new r.r("ROUTES");class Gr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(zt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new sr(Xe(i.injector.get(Kr,void 0,r.q.Self|r.q.Optional)).map(pr),i)}),ae(t=>{throw e._loader$=void 0,t}));return e._loader$=new Wt.a(n,()=>new Ct.a).pipe(Object(Oe.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(St.a)(this.loader.load(t)):nn(t()).pipe(Object(le.a)(t=>t instanceof r.w?Object(Et.a)(t):Object(St.a)(this.compiler.compileModuleAsync(t))))}}class Qr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Yr,this.attachRef=null}}class Yr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Qr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Zr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Jr(t){throw t}function Xr(t,e,n){return e.parse("/")}function ti(t,e){return Object(Et.a)(null)}let ei=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ct.a,this.errorHandler=Jr,this.malformedUriErrorHandler=Xr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ti,afterPreactivation:ti},this.urlHandlingStrategy=new Zr,this.routeReuseStrategy=new $r,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.Y);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new un(new cn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gr(o,a,t=>this.triggerEvent(new Ve(t)),t=>this.triggerEvent(new Ue(t))),this.routerState=Dn(this.currentUrlTree,this.rootComponentType),this.transitions=new Tt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ie(t=>0!==t.id),Object(zt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Kt(t=>{let n=!1,r=!1;return Object(Et.a)(t).pipe(Object(Ce.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Et.a)(t).pipe(Kt(t=>{const n=this.transitions.getValue();return e.next(new ke(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Bt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Kt(t=>function(t,e,n,r,i){return new xr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(zt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Ce.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(le.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Lr(t,e,n,r,i,s).recognize();return null===o?Mr(new Fr):Object(Et.a)(o)}catch(Pb){return Mr(Pb)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(zt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ce.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new ke(n,this.serializeUrl(r),i,s);e.next(a);const u=Dn(r,this.rootComponentType).snapshot;return Object(Et.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Bt.a}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ce.a)(t=>{const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(zt.a)(t=>Object.assign(Object.assign({},t),{guards:Nr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(le.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Et.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(St.a)(t).pipe(Object(le.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Et.a)(!0);const o=s.map(s=>{const o=jr(s,e,i);let a;if(function(t){return t&&or(t.canDeactivate)}(o))a=nn(o.canDeactivate(t,e,n,r));else{if(!or(o))throw new Error("Invalid CanDeactivate guard");a=nn(o(t,e,n,r))}return a.pipe(Ee())});return Object(Et.a)(o).pipe(cr())}(t.component,t.route,n,e,r)),Ee(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(le.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(St.a)(e).pipe(he(e=>qt(function(t,e){return null!==t&&e&&e(new qe(t)),Object(Et.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new He(t)),Object(Et.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ht(()=>{const i=e.guards.map(i=>{const s=jr(i,e.node,n);let o;if(function(t){return t&&or(t.canActivateChild)}(s))o=nn(s.canActivateChild(r,t));else{if(!or(s))throw new Error("Invalid CanActivateChild guard");o=nn(s(r,t))}return o.pipe(Ee())});return Object(Et.a)(i).pipe(cr())}));return Object(Et.a)(i).pipe(cr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Et.a)(!0);const i=r.map(r=>Ht(()=>{const i=jr(r,e,n);let s;if(function(t){return t&&or(t.canActivate)}(i))s=nn(i.canActivate(e,t));else{if(!or(i))throw new Error("Invalid CanActivate guard");s=nn(i(e,t))}return s.pipe(Ee())}));return Object(Et.a)(i).pipe(cr())}(t,e.route,n))),Ee(t=>!0!==t,!0))}(r,s,t,e):Object(Et.a)(n)),Object(zt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ce.a)(t=>{if(ar(t.guardsResult)){const e=Qe(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ie(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ne(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),zr(t=>{if(t.guards.canActivateChecks.length)return Object(Et.a)(t).pipe(Object(Ce.a)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Kt(t=>{let n=!1;return Object(Et.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(le.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Et.a)(t);let s=0;return Object(St.a)(n).pipe(he(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Et.a)({});const s={};return Object(St.a)(i).pipe(Object(le.a)(i=>function(t,e,n,r){const i=jr(t,e,r);return nn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ce.a)(t=>{s[i]=t}))),de(1),Object(le.a)(()=>Object.keys(s).length===i.length?Object(Et.a)(s):Bt.a))}(t._resolve,t,e,r).pipe(Object(zt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Fn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ce.a)(()=>s++),de(1),Object(le.a)(e=>s===n.length?Object(Et.a)(t):Bt.a))})),Object(Ce.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ne(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ce.a)(t=>{const e=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(zt.a)(t=>{const e=function(t,e,n){const r=Hn(t,e._root,n?n._root:void 0);return new jn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ce.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(zt.a)(t=>(new rr(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Ce.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ne(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ie(i))),ae(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ar(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ne(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new je(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(rh){t.reject(rh)}}var i;return Bt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hr(t),this.config=t.map(pr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Kn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Qn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return en(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Qn(n,e,r)}(n);if(s.toRoot())return Kn(e.root,new cn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Yn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Yn(t,t===e.root,0)}const r=zn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Yn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Jn(o.segmentGroup,o.index,s.commands):Zn(o.segmentGroup,o.index,s.commands);return Kn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ar(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Pb){e=this.malformedUriErrorHandler(Pb,this.urlSerializer,t)}return e}isActive(t,e){if(ar(t))return rn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return rn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.N),r.Wb(dn),r.Wb(Yr),r.Wb(w),r.Wb(r.s),r.Wb(r.x),r.Wb(r.i),r.Wb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ni=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ct.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ii(this.skipLocationChange),replaceUrl:ii(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ii(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ei),r.Mb(Pn),r.Xb("tabindex"),r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Zb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.zb]}),t})(),ri=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ct.a,this.subscription=t.events.subscribe(t=>{t instanceof Re&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ii(this.skipLocationChange),replaceUrl:ii(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ii(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ei),r.Mb(Pn),r.Mb(g))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Zb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Vb("href",e.href,r.nc),r.Cb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.zb]}),t})();function ii(t){return""===t||!!t}let si=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Re&&this.update()})}ngAfterContentInit(){Object(Et.a)(this.links.changes,this.linksWithHrefs.changes,Object(Et.a)(null)).pipe(Object(Ut.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(St.a)(e).pipe(Object(Ut.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ei),r.Mb(r.l),r.Mb(r.E),r.Mb(r.h),r.Mb(ni,8),r.Mb(ri,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,ni,1),r.Fb(n,ri,1)),2&t){let t;r.kc(t=r.ac())&&(e.links=t),r.kc(t=r.ac())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.zb]}),t})(),oi=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||$e,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ai(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Yr),r.Mb(r.Q),r.Mb(r.j),r.Xb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ai{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Pn?this.route:t===Yr?this.childContexts:this.parent.get(t,e)}}class ui{}class ci{preload(t,e){return Object(Et.a)(null)}}let li=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Gr(e,n,e=>t.triggerEvent(new Ve(e)),e=>t.triggerEvent(new Ue(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ie(t=>t instanceof Re),he(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(St.a)(n).pipe(Object(Ut.a)(),Object(zt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Et.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(le.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ei),r.Wb(r.x),r.Wb(r.i),r.Wb(r.s),r.Wb(ui))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),hi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ke?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Re&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ze&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ze(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ei),r.Wb(H),r.Wb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const di=new r.r("ROUTER_CONFIGURATION"),fi=new r.r("ROUTER_FORROOT_GUARD"),pi=[w,{provide:dn,useClass:fn},{provide:ei,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new ei(null,t,e,n,r,i,o,Xe(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[dn,Yr,w,r.s,r.x,r.i,Kr,di,[class{},new r.B],[class{},new r.B]]},Yr,{provide:Pn,useFactory:function(t){return t.routerState.root},deps:[ei]},{provide:r.x,useClass:r.K},li,ci,class{preload(t,e){return e().pipe(ae(()=>Object(Et.a)(null)))}},{provide:di,useValue:{enableTracing:!1}}];function mi(){return new r.z("Router",ei)}let gi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[pi,_i(e),{provide:fi,useFactory:bi,deps:[[ei,new r.B,new r.J]]},{provide:di,useValue:n||{}},{provide:g,useFactory:vi,deps:[a,[new r.p(v),new r.B],di]},{provide:hi,useFactory:yi,deps:[ei,H,di]},{provide:ui,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ci},{provide:r.z,multi:!0,useFactory:mi},[wi,{provide:r.d,multi:!0,useFactory:Si,deps:[wi]},{provide:Ci,useFactory:Ei,deps:[wi]},{provide:r.b,multi:!0,useExisting:Ci}]]}}static forChild(e){return{ngModule:t,providers:[_i(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(fi,8),r.Wb(ei,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function yi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new hi(t,e,n)}function vi(t,e,n={}){return n.useHash?new _(t,e):new b(t,e)}function bi(t){return"guarded"}function _i(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Kr,multi:!0,useValue:t}]}let wi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ct.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ei),r=this.injector.get(di);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Et.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(di),n=this.injector.get(li),i=this.injector.get(hi),s=this.injector.get(ei),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function Si(t){return t.appInitializer.bind(t)}function Ei(t){return t.bootstrapListener.bind(t)}const Ci=new r.r("Router Initializer");class Oi{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const Ti={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function Ii(t,e=Ti){const n=(t||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(t=>t.split(":")).map(t=>{const n=e[t[0]]||t;return new Oi(n[0],n[1])}),i=r.filter(t=>t.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}const xi="undefined"!=typeof window&&window||{};let Ai;function ki(){if(void 0===xi.document)return"bs4";const t=xi.document.createElement("span");t.innerText="testing bs version",t.classList.add("d-none"),t.classList.add("visually-hidden"),xi.document.head.appendChild(t);const e=t.getBoundingClientRect(),n=xi.getComputedStyle(t).overflow;return xi.document.head.removeChild(t),!e||e&&0!==e.top?"bs3":n&&"hidden"===n?"bs5":"bs4"}function Ri(){return void 0===xi||(void 0===xi.__theme?(Ai||(Ai=ki()),"bs3"===Ai):"bs3"===xi.__theme)}function Ni(){return!Ri()&&(Ai||(Ai=ki()),"bs4"===Ai)}function ji(){return{isBs3:Ri(),isBs4:Ni(),isBs5:!Ri()&&!Ni()&&(Ai||(Ai=ki()),"bs5"===Ai)}}class Di{constructor(){this.length=0,this.asArray=[]}get(t){if(0===this.length||t<0||t>=this.length)return;let e=this.head;for(let n=0;n<t;n++)e=null==e?void 0:e.next;return null==e?void 0:e.value}add(t,e=this.length){if(e<0||e>this.length)throw new Error("Position is out of the list");const n={value:t,next:void 0,previous:void 0};if(0===this.length)this.head=n,this.tail=n,this.current=n;else if(0===e&&this.head)n.next=this.head,this.head.previous=n,this.head=n;else if(e===this.length&&this.tail)this.tail.next=n,n.previous=this.tail,this.tail=n;else{const t=this.getNode(e-1),r=null==t?void 0:t.next;t&&r&&(t.next=n,r.previous=n,n.previous=t,n.next=r)}this.length++,this.createInternalArrayRepresentation()}remove(t=0){var e;if(0===this.length||t<0||t>=this.length)throw new Error("Position is out of the list");if(0===t&&this.head)this.head=this.head.next,this.head?this.head.previous=void 0:this.tail=void 0;else if(t===this.length-1&&(null===(e=this.tail)||void 0===e?void 0:e.previous))this.tail=this.tail.previous,this.tail.next=void 0;else{const e=this.getNode(t);(null==e?void 0:e.next)&&e.previous&&(e.next.previous=e.previous,e.previous.next=e.next)}this.length--,this.createInternalArrayRepresentation()}set(t,e){if(0===this.length||t<0||t>=this.length)throw new Error("Position is out of the list");const n=this.getNode(t);n&&(n.value=e,this.createInternalArrayRepresentation())}toArray(){return this.asArray}findAll(t){let e=this.head;const n=[];if(!e)return n;for(let r=0;r<this.length;r++){if(!e)return n;t(e.value,r)&&n.push({index:r,value:e.value}),e=e.next}return n}push(...t){return t.forEach(t=>{this.add(t)}),this.length}pop(){if(0===this.length)return;const t=this.tail;return this.remove(this.length-1),null==t?void 0:t.value}unshift(...t){return t.reverse(),t.forEach(t=>{this.add(t,0)}),this.length}shift(){var t;if(0===this.length)return;const e=null===(t=this.head)||void 0===t?void 0:t.value;return this.remove(),e}forEach(t){let e=this.head;for(let n=0;n<this.length;n++){if(!e)return;t(e.value,n),e=e.next}}indexOf(t){let e=this.head,n=-1;for(let r=0;r<this.length;r++){if(!e)return n;if(e.value===t){n=r;break}e=e.next}return n}some(t){let e=this.head,n=!1;for(;e&&!n;){if(t(e.value)){n=!0;break}e=e.next}return n}every(t){let e=this.head,n=!0;for(;e&&n;)t(e.value)||(n=!1),e=e.next;return n}toString(){return"[Linked List]"}find(t){let e=this.head;for(let n=0;n<this.length;n++){if(!e)return;if(t(e.value,n))return e.value;e=e.next}}findIndex(t){let e=this.head;for(let n=0;n<this.length;n++){if(!e)return-1;if(t(e.value,n))return n;e=e.next}return-1}getNode(t){if(0===this.length||t<0||t>=this.length)throw new Error("Position is out of the list");let e=this.head;for(let n=0;n<t;n++)e=null==e?void 0:e.next;return e}createInternalArrayRepresentation(){const t=[];let e=this.head;for(;e;)t.push(e.value),e=e.next;this.asArray=t}}function Pi(){const t="Change";return function(e,n){const r=` __${n}Value`;Object.defineProperty(e,n,{get(){return this[r]},set(e){const i=this[r];this[r]=e,i!==e&&this[n+t]&&this[n+t].emit(e)}})}}function Fi(t,e){if(1&t){const t=r.Tb();r.Sb(0,"li",7),r.Zb("click",function(){r.mc(t);const n=e.index;return r.bc(2).selectSlide(n)}),r.Rb()}2&t&&r.Eb("active",!0===e.$implicit.active)}function Mi(t,e){if(1&t&&(r.Qb(0),r.Sb(1,"ol",5),r.qc(2,Fi,1,2,"li",6),r.Rb(),r.Pb()),2&t){const t=r.bc();r.Bb(2),r.gc("ngForOf",t.indicatorsSlides())}}function Li(t,e){if(1&t){const t=r.Tb();r.Sb(0,"button",9),r.Zb("click",function(){r.mc(t);const n=e.index;return r.bc(2).selectSlide(n)}),r.Rb()}if(2&t){const t=e.$implicit,n=e.index,i=r.bc(2);r.Eb("active",!0===t.active),r.Cb("data-bs-target","#"+i.currentId)("data-bs-slide-to",n)}}function Vi(t,e){if(1&t&&(r.Qb(0),r.Sb(1,"div",5),r.qc(2,Li,1,4,"button",8),r.Rb(),r.Pb()),2&t){const t=r.bc();r.Bb(2),r.gc("ngForOf",t.indicatorsSlides())}}function Ui(t,e){1&t&&(r.Sb(0,"span",13),r.sc(1,"Previous"),r.Rb())}function qi(t,e){if(1&t){const t=r.Tb();r.Sb(0,"a",10),r.Zb("click",function(){return r.mc(t),r.bc().previousSlide()}),r.Nb(1,"span",11),r.qc(2,Ui,2,0,"span",12),r.Rb()}if(2&t){const t=r.bc();r.Eb("disabled",t.checkDisabledClass("prev")),r.Cb("data-bs-target","#"+t.currentId),r.Bb(2),r.gc("ngIf",t.isBs4)}}function Bi(t,e){if(1&t){const t=r.Tb();r.Sb(0,"a",14),r.Zb("click",function(){return r.mc(t),r.bc().nextSlide()}),r.Nb(1,"span",15),r.Sb(2,"span",13),r.sc(3,"Next"),r.Rb(),r.Rb()}if(2&t){const t=r.bc();r.Eb("disabled",t.checkDisabledClass("next")),r.Cb("data-bs-target","#"+t.currentId)}}"undefined"==typeof console||console;const Hi=function(t){return{display:t}},Wi=["*"];let zi=(()=>{class t{constructor(){this.interval=5e3,this.noPause=!1,this.noWrap=!1,this.showIndicators=!0,this.pauseOnFocus=!1,this.indicatorsByChunk=!1,this.itemsPerSlide=1,this.singleSlideOffset=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();var $i=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.NEXT=1]="NEXT",t[t.PREV=2]="PREV",t}({});let Ki=1,Gi=(()=>{class t{constructor(t,e){this.ngZone=e,this.noWrap=!1,this.noPause=!1,this.showIndicators=!0,this.pauseOnFocus=!1,this.indicatorsByChunk=!1,this.itemsPerSlide=1,this.singleSlideOffset=!1,this.isAnimated=!1,this.activeSlideChange=new r.n(!1),this.slideRangeChange=new r.n,this.startFromIndex=0,this._interval=5e3,this._slides=new Di,this._currentVisibleSlidesIndex=0,this.isPlaying=!1,this.destroyed=!1,this.currentId=0,this.getActive=t=>t.active,this.makeSlidesConsistent=t=>{t.forEach((t,e)=>t.item.order=e)},Object.assign(this,t),this.currentId=Ki++}set activeSlide(t){var e;this.multilist||(("number"==typeof(e=t)||"[object Number]"===Object.prototype.toString.call(e))&&(this.customActiveSlide=t),this._slides.length&&t!==this._currentActiveSlide&&this._select(t))}get activeSlide(){return this._currentActiveSlide||0}get interval(){return this._interval}set interval(t){this._interval=t,this.restartTimer()}get slides(){return this._slides.toArray()}get isFirstSlideVisible(){const t=this.getVisibleIndexes();return!(!t||t instanceof Array&&!t.length)&&t.includes(0)}get isLastSlideVisible(){const t=this.getVisibleIndexes();return!(!t||t instanceof Array&&!t.length)&&t.includes(this._slides.length-1)}get isBs4(){return!Ri()}get _bsVer(){return ji()}ngAfterViewInit(){setTimeout(()=>{this.singleSlideOffset&&(this.indicatorsByChunk=!1),this.multilist&&(this._chunkedSlides=function(t,e){const n=[],r=Math.ceil(t.length/e);let i=0;for(;i<r;){const s=t.splice(0,i===r-1&&e<t.length?t.length:e);n.push(s),i++}return n}(this.mapSlidesAndIndexes(),this.itemsPerSlide),this.selectInitialSlides()),this.customActiveSlide&&!this.multilist&&this._select(this.customActiveSlide)},0)}ngOnDestroy(){this.destroyed=!0}addSlide(t){this._slides.add(t),this.multilist&&this._slides.length<=this.itemsPerSlide&&(t.active=!0),!this.multilist&&this.isAnimated&&(t.isAnimated=!0),this.multilist||1!==this._slides.length||(this._currentActiveSlide=void 0,this.customActiveSlide||(this.activeSlide=0),this.play()),this.multilist&&this._slides.length>this.itemsPerSlide&&this.play()}removeSlide(t){const e=this._slides.indexOf(t);if(this._currentActiveSlide===e){let t;this._slides.length>1&&(t=this.isLast(e)?this.noWrap?e-1:0:e),this._slides.remove(e),setTimeout(()=>{this._select(t)},0)}else{this._slides.remove(e);const t=this.getCurrentSlideIndex();setTimeout(()=>{this._currentActiveSlide=t,this.activeSlideChange.emit(this._currentActiveSlide)},0)}}nextSlideFromInterval(t=!1){this.move($i.NEXT,t)}nextSlide(t=!1){this.isPlaying&&this.restartTimer(),this.move($i.NEXT,t)}previousSlide(t=!1){this.isPlaying&&this.restartTimer(),this.move($i.PREV,t)}getFirstVisibleIndex(){return this.slides.findIndex(this.getActive)}getLastVisibleIndex(){return function(t,e){let n=t.length;for(;n--;)if(e(t[n],n,t))return n;return-1}(this.slides,this.getActive)}move(t,e=!1){const n=this.getFirstVisibleIndex(),r=this.getLastVisibleIndex();this.noWrap&&(t===$i.NEXT&&this.isLast(r)||t===$i.PREV&&0===n)||(this.multilist?this.moveMultilist(t):this.activeSlide=this.findNextSlideIndex(t,e)||0)}keydownPress(t){if(13===t.keyCode||"Enter"===t.key||32===t.keyCode||"Space"===t.key)return this.nextSlide(),void t.preventDefault();37!==t.keyCode&&"LeftArrow"!==t.key?39!==t.keyCode&&"RightArrow"!==t.key||this.nextSlide():this.previousSlide()}onMouseLeave(){this.pauseOnFocus||this.play()}onMouseUp(){this.pauseOnFocus||this.play()}pauseFocusIn(){this.pauseOnFocus&&(this.isPlaying=!1,this.resetTimer())}pauseFocusOut(){this.play()}selectSlide(t){this.isPlaying&&this.restartTimer(),this.multilist?this.selectSlideRange(this.indicatorsByChunk?t*this.itemsPerSlide:t):this.activeSlide=this.indicatorsByChunk?t*this.itemsPerSlide:t}play(){this.isPlaying||(this.isPlaying=!0,this.restartTimer())}pause(){this.noPause||(this.isPlaying=!1,this.resetTimer())}getCurrentSlideIndex(){return this._slides.findIndex(this.getActive)}isLast(t){return t+1>=this._slides.length}isFirst(t){return 0===t}indicatorsSlides(){return this.slides.filter((t,e)=>!this.indicatorsByChunk||e%this.itemsPerSlide==0)}selectInitialSlides(){const t=this.startFromIndex<=this._slides.length?this.startFromIndex:0;if(this.hideSlides(),this.singleSlideOffset){if(this._slidesWithIndexes=this.mapSlidesAndIndexes(),this._slides.length-t<this.itemsPerSlide){const e=this._slidesWithIndexes.slice(0,t);this._slidesWithIndexes=[...this._slidesWithIndexes,...e].slice(e.length).slice(0,this.itemsPerSlide)}else this._slidesWithIndexes=this._slidesWithIndexes.slice(t,t+this.itemsPerSlide);this._slidesWithIndexes.forEach(t=>t.item.active=!0),this.makeSlidesConsistent(this._slidesWithIndexes)}else this.selectRangeByNestedIndex(t);this.slideRangeChange.emit(this.getVisibleIndexes())}findNextSlideIndex(t,e){let n=0;if(e||!this.isLast(this.activeSlide)||t===$i.PREV||!this.noWrap){switch(t){case $i.NEXT:if(void 0===this._currentActiveSlide){n=0;break}if(!this.isLast(this._currentActiveSlide)){n=this._currentActiveSlide+1;break}n=!e&&this.noWrap?this._currentActiveSlide:0;break;case $i.PREV:if(void 0===this._currentActiveSlide){n=0;break}if(this._currentActiveSlide>0){n=this._currentActiveSlide-1;break}if(!e&&this.noWrap){n=this._currentActiveSlide;break}n=this._slides.length-1;break;default:throw new Error("Unknown direction")}return n}}mapSlidesAndIndexes(){return this.slides.slice().map((t,e)=>({index:e,item:t}))}selectSlideRange(t){if(!this.isIndexInRange(t)){if(this.hideSlides(),this.singleSlideOffset){const e=this.isIndexOnTheEdges(t)?t:t-this.itemsPerSlide+1,n=this.isIndexOnTheEdges(t)?t+this.itemsPerSlide:t+1;this._slidesWithIndexes=this.mapSlidesAndIndexes().slice(e,n),this.makeSlidesConsistent(this._slidesWithIndexes),this._slidesWithIndexes.forEach(t=>t.item.active=!0)}else this.selectRangeByNestedIndex(t);this.slideRangeChange.emit(this.getVisibleIndexes())}}selectRangeByNestedIndex(t){if(!this._chunkedSlides)return;const e=this._chunkedSlides.map((t,e)=>({index:e,list:t})).find(e=>void 0!==e.list.find(e=>e.index===t));e&&(this._currentVisibleSlidesIndex=e.index,this._chunkedSlides[e.index].forEach(t=>{t.item.active=!0}))}isIndexOnTheEdges(t){return t+1-this.itemsPerSlide<=0||t+this.itemsPerSlide<=this._slides.length}isIndexInRange(t){return this.singleSlideOffset&&this._slidesWithIndexes?this._slidesWithIndexes.map(t=>t.index).indexOf(t)>=0:t<=this.getLastVisibleIndex()&&t>=this.getFirstVisibleIndex()}hideSlides(){this.slides.forEach(t=>t.active=!1)}isVisibleSlideListLast(){return!!this._chunkedSlides&&this._currentVisibleSlidesIndex===this._chunkedSlides.length-1}isVisibleSlideListFirst(){return 0===this._currentVisibleSlidesIndex}moveSliderByOneItem(t){let e,n,r,i,s;if(this.noWrap){e=this.getFirstVisibleIndex(),n=this.getLastVisibleIndex(),r=t===$i.NEXT?e:n,i=t!==$i.NEXT?e-1:this.isLast(n)?0:n+1;const s=this._slides.get(r);s&&(s.active=!1);const o=this._slides.get(i);o&&(o.active=!0);const a=this.mapSlidesAndIndexes().filter(t=>t.item.active);return this.makeSlidesConsistent(a),this.singleSlideOffset&&(this._slidesWithIndexes=a),void this.slideRangeChange.emit(this.getVisibleIndexes())}if(this._slidesWithIndexes&&this._slidesWithIndexes[0]){if(e=this._slidesWithIndexes[0].index,n=this._slidesWithIndexes[this._slidesWithIndexes.length-1].index,t===$i.NEXT){this._slidesWithIndexes.shift(),s=this.isLast(n)?0:n+1;const t=this._slides.get(s);t&&this._slidesWithIndexes.push({index:s,item:t})}else{this._slidesWithIndexes.pop(),s=this.isFirst(e)?this._slides.length-1:e-1;const t=this._slides.get(s);t&&(this._slidesWithIndexes=[{index:s,item:t},...this._slidesWithIndexes])}this.hideSlides(),this._slidesWithIndexes.forEach(t=>t.item.active=!0),this.makeSlidesConsistent(this._slidesWithIndexes),this.slideRangeChange.emit(this._slidesWithIndexes.map(t=>t.index))}}moveMultilist(t){this.singleSlideOffset?this.moveSliderByOneItem(t):(this.hideSlides(),this._currentVisibleSlidesIndex=this.noWrap?t===$i.NEXT?this._currentVisibleSlidesIndex+1:this._currentVisibleSlidesIndex-1:t===$i.NEXT?this.isVisibleSlideListLast()?0:this._currentVisibleSlidesIndex+1:this.isVisibleSlideListFirst()?this._chunkedSlides?this._chunkedSlides.length-1:0:this._currentVisibleSlidesIndex-1,this._chunkedSlides&&this._chunkedSlides[this._currentVisibleSlidesIndex].forEach(t=>t.item.active=!0),this.slideRangeChange.emit(this.getVisibleIndexes()))}getVisibleIndexes(){return!this.singleSlideOffset&&this._chunkedSlides?this._chunkedSlides[this._currentVisibleSlidesIndex].map(t=>t.index):this._slidesWithIndexes?this._slidesWithIndexes.map(t=>t.index):void 0}_select(t){if(isNaN(t))return void this.pause();if(!this.multilist&&void 0!==this._currentActiveSlide){const t=this._slides.get(this._currentActiveSlide);void 0!==t&&(t.active=!1)}const e=this._slides.get(t);void 0!==e&&(this._currentActiveSlide=t,e.active=!0,this.activeSlide=t,this.activeSlideChange.emit(t))}restartTimer(){this.resetTimer();const t=+this.interval;!isNaN(t)&&t>0&&(this.currentInterval=this.ngZone.runOutsideAngular(()=>setInterval(()=>{const t=+this.interval;this.ngZone.run(()=>{this.isPlaying&&!isNaN(this.interval)&&t>0&&this.slides.length?this.nextSlideFromInterval():this.pause()})},t)))}get multilist(){return this.itemsPerSlide>1}resetTimer(){this.currentInterval&&(clearInterval(this.currentInterval),this.currentInterval=void 0)}checkDisabledClass(t){return"prev"===t?0===this.activeSlide&&this.noWrap&&!this.multilist||this.isFirstSlideVisible&&this.noWrap&&this.multilist:this.isLast(this.activeSlide)&&this.noWrap&&!this.multilist||this.isLastSlideVisible&&this.noWrap&&this.multilist}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(zi),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["carousel"]],inputs:{noWrap:"noWrap",noPause:"noPause",showIndicators:"showIndicators",pauseOnFocus:"pauseOnFocus",indicatorsByChunk:"indicatorsByChunk",itemsPerSlide:"itemsPerSlide",singleSlideOffset:"singleSlideOffset",isAnimated:"isAnimated",startFromIndex:"startFromIndex",activeSlide:"activeSlide",interval:"interval"},outputs:{activeSlideChange:"activeSlideChange",slideRangeChange:"slideRangeChange"},ngContentSelectors:Wi,decls:7,vars:8,consts:[["tabindex","0",1,"carousel","slide",3,"id","mouseenter","mouseleave","mouseup","keydown","focusin","focusout"],[4,"ngIf"],[1,"carousel-inner",3,"ngStyle"],["class","left carousel-control carousel-control-prev","tabindex","0","role","button",3,"disabled","click",4,"ngIf"],["class","right carousel-control carousel-control-next","tabindex","0","role","button",3,"disabled","click",4,"ngIf"],[1,"carousel-indicators"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],["type","button","aria-current","true",3,"active","click",4,"ngFor","ngForOf"],["type","button","aria-current","true",3,"click"],["tabindex","0","role","button",1,"left","carousel-control","carousel-control-prev",3,"click"],["aria-hidden","true",1,"icon-prev","carousel-control-prev-icon"],["class","sr-only visually-hidden",4,"ngIf"],[1,"sr-only","visually-hidden"],["tabindex","0","role","button",1,"right","carousel-control","carousel-control-next",3,"click"],["aria-hidden","true",1,"icon-next","carousel-control-next-icon"]],template:function(t,e){1&t&&(r.fc(),r.Sb(0,"div",0),r.Zb("mouseenter",function(){return e.pause()})("mouseleave",function(){return e.onMouseLeave()})("mouseup",function(){return e.onMouseUp()})("keydown",function(t){return e.keydownPress(t)})("focusin",function(){return e.pauseFocusIn()})("focusout",function(){return e.pauseFocusOut()}),r.qc(1,Mi,3,1,"ng-container",1),r.qc(2,Vi,3,1,"ng-container",1),r.Sb(3,"div",2),r.ec(4),r.Rb(),r.qc(5,qi,3,4,"a",3),r.qc(6,Bi,4,3,"a",4),r.Rb()),2&t&&(r.gc("id",e.currentId),r.Bb(1),r.gc("ngIf",!e._bsVer.isBs5&&e.showIndicators&&e.slides.length>1),r.Bb(1),r.gc("ngIf",e._bsVer.isBs5&&e.showIndicators&&e.slides.length>1),r.Bb(1),r.gc("ngStyle",r.ic(6,Hi,e.multilist?"flex":"block")),r.Bb(2),r.gc("ngIf",e.slides.length>1),r.Bb(1),r.gc("ngIf",e.slides.length>1))},directives:[N,P,k],encapsulation:2}),t})(),Qi=(()=>{class t{constructor(t){this.active=!1,this.itemWidth="100%",this.order=0,this.isAnimated=!1,this.addClass=!0,this.multilist=!1,this.carousel=t}ngOnInit(){var t;this.carousel.addSlide(this),this.itemWidth=100/this.carousel.itemsPerSlide+"%",this.multilist=(null===(t=this.carousel)||void 0===t?void 0:t.itemsPerSlide)>1}ngOnDestroy(){this.carousel.removeSlide(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Gi))},t.\u0275cmp=r.Gb({type:t,selectors:[["slide"]],hostVars:15,hostBindings:function(t,e){2&t&&(r.Cb("aria-hidden",!e.active),r.pc("width",e.itemWidth)("order",e.order),r.Eb("multilist-margin",e.multilist)("active",e.active)("carousel-animation",e.isAnimated)("item",e.addClass)("carousel-item",e.addClass))},inputs:{active:"active"},ngContentSelectors:Wi,decls:2,vars:2,consts:[[1,"item"]],template:function(t,e){1&t&&(r.fc(),r.Sb(0,"div",0),r.ec(1),r.Rb()),2&t&&r.Eb("active",e.active)},styles:[".carousel-animation[_nghost-%COMP%] {\n       transition: opacity 0.6s ease, visibility 0.6s ease;\n       float: left;\n    }\n    .carousel-animation.active[_nghost-%COMP%] {\n      opacity: 1;\n      visibility: visible;\n    }\n    .carousel-animation[_nghost-%COMP%]:not(.active) {\n      display: block;\n      position: absolute;\n      opacity: 0;\n      visibility: hidden;\n    }\n    .multilist-margin[_nghost-%COMP%] {\n      margin-right: auto;\n    }\n    .carousel-item[_nghost-%COMP%] {\n      perspective: 1000px;\n    }"]}),t})(),Yi=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[q]]}),t})();const Zi=new r.r("GETS_ALL_EMPLOYEE_DTO"),Ji=function(){return["active"]},Xi=function(){return{exact:!0}},ts=function(t){return[t]},es=function(t,e,n){return{image:t,department:e,ecount:n}};function ns(t,e){if(1&t&&(r.Sb(0,"div",2),r.Sb(1,"div",3),r.Sb(2,"a",4),r.Nb(3,"img",5),r.Rb(),r.Sb(4,"div",6),r.Sb(5,"h5",7),r.sc(6),r.Rb(),r.Sb(7,"p",8),r.sc(8),r.Rb(),r.Sb(9,"p",8),r.sc(10),r.Rb(),r.Sb(11,"p",8),r.sc(12),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.Bb(2),r.gc("routerLinkActive",r.hc(10,Ji))("routerLinkActiveOptions",r.hc(11,Xi))("routerLink",r.ic(12,ts,"/pracownik/"+t.name))("queryParams",r.jc(14,es,t.imageUrl,t.department.name,t.department.employeeCount)),r.Bb(1),r.gc("src",t.imageUrl,r.nc)("alt",t.alt),r.Bb(3),r.tc(t.name),r.Bb(2),r.uc("Department: ",t.department.name,""),r.Bb(2),r.uc(" Employee Count: ",t.department.employeeCount," "),r.Bb(2),r.uc(" ",t.bio," ")}}let rs=(()=>{class t{constructor(t){this._getsAllEmployeeDto=t,this.employees$=this._getsAllEmployeeDto.getAll()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Zi))},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-our-team"]],decls:4,vars:3,consts:[[1,"row","row-cols-1","row-cols-md-3"],["class","col mb-4",4,"ngFor","ngForOf"],[1,"col","mb-4"],[1,"card"],["aria-current","page",3,"routerLinkActive","routerLinkActiveOptions","routerLink","queryParams"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.qc(1,ns,13,18,"div",1),r.cc(2,"async"),r.Rb(),r.Nb(3,"ul")),2&t&&(r.Bb(1),r.gc("ngForOf",r.dc(2,1,e.employees$)))},directives:[k,ri,si],pipes:[U],encapsulation:2,changeDetection:0}),t})(),is=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-home-page"]],decls:16,vars:0,consts:[[1,"container","mt-3"],[1,"row"],[1,"col"],["src","http://mati.rafined.pl/images/doberman-1.jpg","alt","Doberman",2,"display","block","width","100%"],["src","http://mati.rafined.pl/images/doberman-2.jpeg","alt","Doberman 2",2,"display","block","width","100%"],["src","http://mati.rafined.pl/images/doberman-3.jpg","alt","Doberman 3",2,"display","block","width","100%"],[1,"bg-dark","bg-gradient"],[1,"flex-column","p-5","mt-3"],[1,"container"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"carousel"),r.Sb(4,"slide"),r.Nb(5,"img",3),r.Rb(),r.Sb(6,"slide"),r.Nb(7,"img",4),r.Rb(),r.Sb(8,"slide"),r.Nb(9,"img",5),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"div",2),r.sc(11," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Volutpat consequat mauris nunc congue nisi vitae suscipit tellus mauris. Dolor sed viverra ipsum nunc aliquet bibendum. Condimentum vitae sapien pellentesque habitant. In nulla posuere sollicitudin aliquam ultrices sagittis orci a. Et tortor at risus viverra adipiscing at in tellus. Eu scelerisque felis imperdiet proin. Vestibulum mattis ullamcorper velit sed. Vel turpis nunc eget lorem dolor. Sagittis nisl rhoncus mattis rhoncus urna neque viverra. Penatibus et magnis dis parturient montes nascetur ridiculus. Arcu non odio euismod lacinia at quis. Quis commodo odio aenean sed adipiscing. Sit amet mauris commodo quis imperdiet massa tincidunt nunc. Lectus urna duis convallis convallis. Quis ipsum suspendisse ultrices gravida dictum fusce ut placerat orci. Vivamus at augue eget arcu dictum varius duis. Velit aliquet sagittis id consectetur purus ut faucibus pulvinar. Elementum nisi quis eleifend quam adipiscing vitae proin sagittis nisl. Nunc faucibus a pellentesque sit amet. Tristique nulla aliquet enim tortor. Proin fermentum leo vel orci porta non. Id porta nibh venenatis cras sed felis eget. Nec dui nunc mattis enim. Nam at lectus urna duis convallis convallis. Pretium fusce id velit ut tortor pretium viverra suspendisse. Felis bibendum ut tristique et egestas quis ipsum. Semper quis lectus nulla at volutpat diam ut venenatis. Amet consectetur adipiscing elit duis tristique sollicitudin nibh sit. Diam vel quam elementum pulvinar etiam non quam. Consequat id porta nibh venenatis cras. Neque laoreet suspendisse interdum consectetur libero id faucibus nisl tincidunt. Consectetur a erat nam at lectus urna. Consectetur adipiscing elit duis tristique sollicitudin. "),r.Rb(),r.Rb(),r.Rb(),r.Sb(12,"div",6),r.Sb(13,"div",7),r.Sb(14,"div",8),r.Nb(15,"lib-our-team"),r.Rb(),r.Rb(),r.Rb())},directives:[Gi,Qi,rs],encapsulation:2,changeDetection:0}),t})(),ss=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,gi]]}),t})();var os=n("D0XW");function as(){return t=>t.lift(new us)}class us{call(t,e){return e.subscribe(new cs(t))}}class cs extends At.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class ls{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new hs(t,this.compare,this.keySelector))}}class hs extends At.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ds=n("pxpQ"),fs=n("spgP"),ps=n("Jgta"),ms=n("zIRd"),gs=n("mrSG"),ys=n("qOnz"),vs=n("q/0M"),bs=function(t,e){return(bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ws,Ss="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Es=Es||{},Cs=Ss||self;function Os(){}function Ts(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Is(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var xs="closure_uid_"+(1e9*Math.random()>>>0),As=0;function ks(t,e,n){return t.call.apply(t.bind,arguments)}function Rs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ns(t,e,n){return(Ns=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ks:Rs).apply(null,arguments)}function js(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ds(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Ps(){this.s=this.s,this.o=this.o}var Fs={};Ps.prototype.s=!1,Ps.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,xs)&&t[xs]||(t[xs]=++As)}(this);delete Fs[t]}},Ps.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ms=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ls=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Vs(t){return Array.prototype.concat.apply([],arguments)}function Us(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function qs(t){return/^[\s\xa0]*$/.test(t)}var Bs,Hs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ws(t,e){return-1!=t.indexOf(e)}function zs(t,e){return t<e?-1:t>e?1:0}t:{var $s=Cs.navigator;if($s){var Ks=$s.userAgent;if(Ks){Bs=Ks;break t}}Bs=""}function Gs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Qs(t){var e={};for(var n in t)e[n]=t[n];return e}var Ys="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Ys.length;s++)n=Ys[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Js(t){return Js[" "](t),t}Js[" "]=Os;var Xs,to,eo=Ws(Bs,"Opera"),no=Ws(Bs,"Trident")||Ws(Bs,"MSIE"),ro=Ws(Bs,"Edge"),io=ro||no,so=Ws(Bs,"Gecko")&&!(Ws(Bs.toLowerCase(),"webkit")&&!Ws(Bs,"Edge"))&&!(Ws(Bs,"Trident")||Ws(Bs,"MSIE"))&&!Ws(Bs,"Edge"),oo=Ws(Bs.toLowerCase(),"webkit")&&!Ws(Bs,"Edge");function ao(){var t=Cs.document;return t?t.documentMode:void 0}t:{var uo="",co=(to=Bs,so?/rv:([^\);]+)(\)|;)/.exec(to):ro?/Edge\/([\d\.]+)/.exec(to):no?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(to):oo?/WebKit\/(\S+)/.exec(to):eo?/(?:Version)[ \/]?(\S+)/.exec(to):void 0);if(co&&(uo=co?co[1]:""),no){var lo=ao();if(null!=lo&&lo>parseFloat(uo)){Xs=String(lo);break t}}Xs=uo}var ho={};var fo=Cs.document&&no&&(ao()||parseInt(Xs,10))||void 0,po=function(){if(!Cs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Cs.addEventListener("test",Os,e),Cs.removeEventListener("test",Os,e)}catch(n){}return t}();function mo(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function go(t,e){if(mo.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(so){t:{try{Js(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:yo[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&go.Z.h.call(this)}}mo.prototype.h=function(){this.defaultPrevented=!0},Ds(go,mo);var yo={2:"touch",3:"pen",4:"mouse"};go.prototype.h=function(){go.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vo="closure_listenable_"+(1e6*Math.random()|0),bo=0;function _o(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++bo,this.ca=this.fa=!1}function wo(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function So(t){this.src=t,this.g={},this.h=0}function Eo(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Ms(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(wo(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Co(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}So.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Co(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new _o(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Oo="closure_lm_"+(1e6*Math.random()|0),To={};function Io(t,e,n,r,i){if(r&&r.once)return Ao(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Io(t,e[s],n,r,i);return null}return n=Fo(n),t&&t[vo]?t.N(e,n,Is(r)?!!r.capture:!!r,i):xo(t,e,n,!1,r,i)}function xo(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Is(i)?!!i.capture:!!i,a=Do(t);if(a||(t[Oo]=a=new So(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=jo;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)po||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(No(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ao(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ao(t,e[s],n,r,i);return null}return n=Fo(n),t&&t[vo]?t.O(e,n,Is(r)?!!r.capture:!!r,i):xo(t,e,n,!0,r,i)}function ko(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ko(t,e[s],n,r,i);else r=Is(r)?!!r.capture:!!r,n=Fo(n),t&&t[vo]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Co(s=t.g[e],n,r,i))&&(wo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Do(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Co(e,n,r,i)),(n=-1<t?e[t]:null)&&Ro(n))}function Ro(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[vo])Eo(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(No(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Do(e))?(Eo(n,t),0==n.h&&(n.src=null,e[Oo]=null)):wo(t)}}}function No(t){return t in To?To[t]:To[t]="on"+t}function jo(t,e){if(t.ca)t=!0;else{e=new go(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Ro(t),t=n.call(r,e)}return t}function Do(t){return(t=t[Oo])instanceof So?t:null}var Po="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fo(t){return"function"==typeof t?t:(t[Po]||(t[Po]=function(e){return t.handleEvent(e)}),t[Po])}function Mo(){Ps.call(this),this.i=new So(this),this.P=this,this.I=null}function Lo(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new mo(e,t);else if(e instanceof mo)e.target=e.target||t;else{var i=e;Zs(e=new mo(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Vo(o,r,!0,e)&&i}if(i=Vo(o=e.g=t,r,!0,e)&&i,i=Vo(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Vo(o=e.g=n[s],r,!1,e)&&i}function Vo(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Eo(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ds(Mo,Ps),Mo.prototype[vo]=!0,Mo.prototype.removeEventListener=function(t,e,n,r){ko(this,t,e,n,r)},Mo.prototype.M=function(){if(Mo.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)wo(n[r]);delete e.g[t],e.h--}}this.I=null},Mo.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Mo.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Uo=Cs.JSON.stringify;function qo(){var t=Qo,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Bo,Ho=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Wo.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Wo=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new zo},function(t){return t.reset()}),zo=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function $o(t){Cs.setTimeout(function(){throw t},0)}function Ko(t,e){Bo||function(){var t=Cs.Promise.resolve(void 0);Bo=function(){t.then(Yo)}}(),Go||(Bo(),Go=!0),Qo.add(t,e)}var Go=!1,Qo=new Ho;function Yo(){for(var t;t=qo();){try{t.h.call(t.g)}catch(n){$o(n)}var e=Wo;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Go=!1}function Zo(t,e){Mo.call(this),this.h=t||1,this.g=e||Cs,this.j=Ns(this.kb,this),this.l=Date.now()}function Jo(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Xo(t,e,n){if("function"==typeof t)n&&(t=Ns(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ns(t.handleEvent,t)}return 2147483647<Number(e)?-1:Cs.setTimeout(t,e||0)}function ta(t){t.g=Xo(function(){t.g=null,t.i&&(t.i=!1,ta(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Ds(Zo,Mo),(ws=Zo.prototype).da=!1,ws.S=null,ws.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Lo(this,"tick"),this.da&&(Jo(this),this.start()))}},ws.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ws.M=function(){Zo.Z.M.call(this),Jo(this),delete this.g};var ea=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}bs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:ta(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Cs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Ps);function na(t){Ps.call(this),this.h=t,this.g={}}Ds(na,Ps);var ra=[];function ia(t,e,n,r){Array.isArray(n)||(n&&(ra[0]=n.toString()),n=ra);for(var i=0;i<n.length;i++){var s=Io(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function sa(t){Gs(t.g,function(t,e){this.g.hasOwnProperty(e)&&Ro(t)},t),t.g={}}function oa(){this.g=!0}function aa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Uo(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}na.prototype.M=function(){na.Z.M.call(this),sa(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oa.prototype.Aa=function(){this.g=!1},oa.prototype.info=function(){};var ua={},ca=null;function la(){return ca=ca||new Mo}function ha(t){mo.call(this,ua.Ma,t)}function da(t){var e=la();Lo(e,new ha(e,t))}function fa(t,e){mo.call(this,ua.STAT_EVENT,t),this.stat=e}function pa(t){var e=la();Lo(e,new fa(e,t))}function ma(t,e){mo.call(this,ua.Na,t),this.size=e}function ga(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Cs.setTimeout(function(){t()},e)}ua.Ma="serverreachability",Ds(ha,mo),ua.STAT_EVENT="statevent",Ds(fa,mo),ua.Na="timingevent",Ds(ma,mo);var ya={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},va={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ba(){}function _a(){}ba.prototype.h=null;var wa,Sa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ea(){mo.call(this,"d")}function Ca(){mo.call(this,"c")}function Oa(){}function Ta(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new na(this),this.P=xa,this.W=new Zo(t=io?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ia}function Ia(){this.i=null,this.g="",this.h=!1}Ds(Ea,mo),Ds(Ca,mo),Ds(Oa,ba),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},wa=new Oa;var xa=45e3,Aa={},ka={};function Ra(t,e,n){t.K=1,t.v=tu(Ga(e)),t.s=n,t.U=!0,Na(t,null)}function Na(t,e){t.F=Date.now(),Fa(t),t.A=Ga(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),fu(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Ia,t.g=pc(t.l,n?e:null,!t.s),0<t.O&&(t.L=new ea(Ns(t.Ia,t,t.g),t.O)),ia(t.V,t.g,"readystatechange",t.gb),e=t.H?Qs(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),da(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function ja(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Da(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Pa(t,n))==ka){4==e&&(t.o=4,pa(14),i=!1),aa(t.j,t.m,null,"[Incomplete Response]");break}if(r==Aa){t.o=4,pa(15),aa(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}aa(t.j,t.m,r,null),qa(t,r)}ja(t)&&r!=ka&&r!=Aa&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,pa(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),oc(e),e.L=!0,pa(11))):(aa(t.j,t.m,n,"[Invalid Chunked Response]"),Ua(t),Va(t))}function Pa(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ka:(n=Number(e.substring(n,r)),isNaN(n)?Aa:(r+=1)+n>e.length?ka:(e=e.substr(r,n),t.C=r+n,e))}function Fa(t){t.Y=Date.now()+t.P,Ma(t,t.P)}function Ma(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ga(Ns(t.eb,t),e)}function La(t){t.B&&(Cs.clearTimeout(t.B),t.B=null)}function Va(t){0==t.l.G||t.I||cc(t.l,t)}function Ua(t){La(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Jo(t.W),sa(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function qa(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||_u(n.i,t)))if(n.I=t.N,!t.J&&_u(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;uc(n),Zu(n)}sc(n),pa(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ga(Ns(n.ab,n),6e3));if(1>=bu(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else hc(n,11)}else if((t.J||n.g==t)&&uc(n),!qs(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Ws(l,"spdy")||Ws(l,"quic")||Ws(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(wu(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Xa(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=fc(r,r.H?r.la:null,r.W),f.J){Su(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&(La(p),Fa(p)),r.g=f}else ic(r);0<n.l.length&&tc(n)}else"stop"!=s[0]&&"close"!=s[0]||hc(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?hc(n,7):Yu(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}da(4)}catch(s){}}function Ba(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ts(t)||"string"==typeof t)Ls(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Ts(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Ts(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ha(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ha)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Wa(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];za(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)za(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function za(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ws=Ta.prototype).setTimeout=function(t){this.P=t},ws.gb=function(t){t=t.target;var e=this.L;e&&3==zu(t)?e.l():this.Ia(t)},ws.Ia=function(t){try{if(t==this.g)t:{var e=zu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||io||this.g&&(this.h.h||this.g.ga()||$u(this.g)))){this.I||4!=e||7==n||da(8==n||0>=r?3:2),La(this);var i=this.g.ba();this.N=i;e:if(ja(this)){var s=$u(this.g);t="";var o=s.length,a=4==zu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ua(this),Va(this);var u="";break e}this.h.i=new Cs.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qs(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,pa(12),Ua(this),Va(this);break t}aa(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qa(this,i)}this.U?(Da(this,e,u),io&&this.i&&3==e&&(ia(this.V,this.W,"tick",this.fb),this.W.start())):(aa(this.j,this.m,u,null),qa(this,u)),4==e&&Ua(this),this.i&&!this.I&&(4==e?cc(this.l,this):(this.i=!1,Fa(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,pa(12)):(this.o=0,pa(13)),Ua(this),Va(this)}}}catch(e){}},ws.fb=function(){if(this.g){var t=zu(this.g),e=this.g.ga();this.C<e.length&&(La(this),Da(this,t,e),this.i&&4!=t&&Fa(this))}},ws.cancel=function(){this.I=!0,Ua(this)},ws.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(da(3),pa(17)),Ua(this),this.o=2,Va(this)):Ma(this,this.Y-t)},(ws=Ha.prototype).R=function(){Wa(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},ws.T=function(){return Wa(this),this.g.concat()},ws.get=function(t,e){return za(this.h,t)?this.h[t]:e},ws.set=function(t,e){za(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},ws.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var $a=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ka(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ka){this.g=void 0!==e?e:t.g,Qa(this,t.j),this.s=t.s,Ya(this,t.i),Za(this,t.m),this.l=t.l,e=t.h;var n=new cu;n.i=e.i,e.g&&(n.g=new Ha(e.g),n.h=e.h),Ja(this,n),this.o=t.o}else t&&(n=String(t).match($a))?(this.g=!!e,Qa(this,n[1]||"",!0),this.s=eu(n[2]||""),Ya(this,n[3]||"",!0),Za(this,n[4]),this.l=eu(n[5]||"",!0),Ja(this,n[6]||"",!0),this.o=eu(n[7]||"")):(this.g=!!e,this.h=new cu(null,this.g))}function Ga(t){return new Ka(t)}function Qa(t,e,n){t.j=n?eu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ya(t,e,n){t.i=n?eu(e,!0):e}function Za(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ja(t,e,n){e instanceof cu?(t.h=e,function(t,e){e&&!t.j&&(lu(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(hu(this,e),fu(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=nu(e,au)),t.h=new cu(e,t.g))}function Xa(t,e,n){t.h.set(e,n)}function tu(t){return Xa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function eu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ru),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ru(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ka.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nu(e,iu,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(nu(e,iu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(nu(n,"/"==n.charAt(0)?ou:su,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nu(n,uu)),t.join("")};var iu=/[#\/\?@]/g,su=/[#\?:]/g,ou=/[#\?]/g,au=/[#\?@]/g,uu=/#/g;function cu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function lu(t){t.g||(t.g=new Ha,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function hu(t,e){lu(t),e=pu(t,e),za(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,za((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Wa(t)))}function du(t,e){return lu(t),e=pu(t,e),za(t.g.h,e)}function fu(t,e,n){hu(t,e),0<n.length&&(t.i=null,t.g.set(pu(t,e),Us(n)),t.h+=n.length)}function pu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(ws=cu.prototype).add=function(t,e){lu(this),this.i=null,t=pu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ws.forEach=function(t,e){lu(this),this.g.forEach(function(n,r){Ls(n,function(n){t.call(e,n,r,this)},this)},this)},ws.T=function(){lu(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},ws.R=function(t){lu(this);var e=[];if("string"==typeof t)du(this,t)&&(e=Vs(e,this.g.get(pu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Vs(e,t[n])}return e},ws.set=function(t,e){return lu(this),this.i=null,du(this,t=pu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ws.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},ws.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var mu=function(){return function(t,e){this.h=t,this.g=e}}();function gu(t){this.l=t||yu,t=Cs.PerformanceNavigationTiming?0<(t=Cs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Cs.g&&Cs.g.Ea&&Cs.g.Ea()&&Cs.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yu=10;function vu(t){return!!t.h||!!t.g&&t.g.size>=t.j}function bu(t){return t.h?1:t.g?t.g.size:0}function _u(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function wu(t,e){t.g?t.g.add(e):t.h=e}function Su(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Eu(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=_s(t.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Us(t.i)}function Cu(){}function Ou(){this.g=new Cu}function Tu(t,e,n){var r=n||"";try{Ba(t,function(t,n){var i=t;Is(t)&&(i=Uo(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Pb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Pb}}function Iu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function xu(t){this.l=t.$b||null,this.j=t.ib||!1}function Au(t,e){Mo.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ku,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gu.prototype.cancel=function(){var t,e;if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=_s(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Cu.prototype.stringify=function(t){return Cs.JSON.stringify(t,void 0)},Cu.prototype.parse=function(t){return Cs.JSON.parse(t,void 0)},Ds(xu,ba),xu.prototype.g=function(){return new Au(this.l,this.j)},xu.prototype.i=function(t){return function(){return t}}({}),Ds(Au,Mo);var ku=0;function Ru(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Nu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ju(t)}function ju(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ws=Au.prototype).open=function(t,e){if(this.readyState!=ku)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ju(this)},ws.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Cs).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ws.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nu(this)),this.readyState=ku},ws.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ju(this)),this.g&&(this.readyState=3,ju(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Cs.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ru(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},ws.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nu(this):ju(this),3==this.readyState&&Ru(this)}},ws.Ua=function(t){this.g&&(this.response=this.responseText=t,Nu(this))},ws.Ta=function(t){this.g&&(this.response=t,Nu(this))},ws.ha=function(){this.g&&Nu(this)},ws.setRequestHeader=function(t,e){this.v.append(t,e)},ws.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ws.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Au.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Du=Cs.JSON.parse;function Pu(t){Mo.call(this),this.headers=new Ha,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fu,this.K=this.L=!1}Ds(Pu,Mo);var Fu="",Mu=/^https?$/i,Lu=["POST","PUT"];function Vu(t){return"content-type"==t.toLowerCase()}function Uu(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qu(t),Hu(t)}function qu(t){t.D||(t.D=!0,Lo(t,"complete"),Lo(t,"error"))}function Bu(t){if(t.h&&void 0!==Es&&(!t.C[1]||4!=zu(t)||2!=t.ba()))if(t.v&&4==zu(t))Xo(t.Fa,0,t);else if(Lo(t,"readystatechange"),4==zu(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.H).match($a)[1]||null;if(!s&&Cs.self&&Cs.self.location){var o=Cs.self.location.protocol;s=o.substr(0,o.length-1)}i=!Mu.test(s?s.toLowerCase():"")}e=i}if(e)Lo(t,"complete"),Lo(t,"success");else{t.m=6;try{var a=2<zu(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",qu(t)}}finally{Hu(t)}}}function Hu(t,e){if(t.g){Wu(t);var n=t.g,r=t.C[0]?Os:null;t.g=null,t.C=null,e||Lo(t,"ready");try{n.onreadystatechange=r}catch(Pb){}}}function Wu(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Cs.clearTimeout(t.A),t.A=null)}function zu(t){return t.g?t.g.readyState:0}function $u(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Fu:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ku(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Gs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Xa(t,e,n))}function Gu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qu(t){this.za=0,this.l=[],this.h=new oa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gu("baseRetryDelayMs",5e3,t),this.$a=Gu("retryDelaySeedMs",1e4,t),this.Ya=Gu("forwardChannelMaxRetries",2,t),this.ra=Gu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new gu(t&&t.concurrentRequestLimit),this.Ca=new Ou,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Yu(t){if(Ju(t),3==t.G){var e=t.V++,n=Ga(t.F);Xa(n,"SID",t.J),Xa(n,"RID",e),Xa(n,"TYPE","terminate"),nc(t,n),(e=new Ta(t,t.h,e,void 0)).K=2,e.v=tu(Ga(n)),n=!1,Cs.navigator&&Cs.navigator.sendBeacon&&(n=Cs.navigator.sendBeacon(e.v.toString(),"")),!n&&Cs.Image&&((new Image).src=e.v,n=!0),n||(e.g=pc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Fa(e)}dc(t)}function Zu(t){t.g&&(oc(t),t.g.cancel(),t.g=null)}function Ju(t){Zu(t),t.u&&(Cs.clearTimeout(t.u),t.u=null),uc(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Cs.clearTimeout(t.m),t.m=null)}function Xu(t,e){t.l.push(new mu(t.Za++,e)),3==t.G&&tc(t)}function tc(t){vu(t.i)||t.m||(t.m=!0,Ko(t.Ha,t),t.C=0)}function ec(t,e){var n;n=e?e.m:t.V++;var r=Ga(t.F);Xa(r,"SID",t.J),Xa(r,"RID",n),Xa(r,"AID",t.U),nc(t,r),t.o&&t.s&&Ku(r,t.o,t.s),n=new Ta(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=rc(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),wu(t.i,n),Ra(n,r,e)}function nc(t,e){t.j&&Ba({},function(t,n){Xa(e,n,t)})}function rc(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ns(t.j.Oa,t.j,t):null;t:for(var i=t.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=s))s=Math.max(0,i[u].h-100),a=!1;else try{Tu(l,o,"req"+c+"_")}catch($c){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function ic(t){t.g||t.u||(t.Y=1,Ko(t.Ga,t),t.A=0)}function sc(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ga(Ns(t.Ga,t),lc(t,t.A)),t.A++,0))}function oc(t){null!=t.B&&(Cs.clearTimeout(t.B),t.B=null)}function ac(t){t.g=new Ta(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ga(t.oa);Xa(e,"RID","rpc"),Xa(e,"SID",t.J),Xa(e,"CI",t.N?"0":"1"),Xa(e,"AID",t.U),nc(t,e),Xa(e,"TYPE","xmlhttp"),t.o&&t.s&&Ku(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=tu(Ga(e)),n.s=null,n.U=!0,Na(n,t)}function uc(t){null!=t.v&&(Cs.clearTimeout(t.v),t.v=null)}function cc(t,e){var n=null;if(t.g==e){uc(t),oc(t),t.g=null;var r=2}else{if(!_u(t.i,e))return;n=e.D,Su(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Lo(r=la(),new ma(r,n,e,i)),tc(t)}else ic(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(bu(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ga(Ns(t.Ha,t,e),lc(t,t.C)),t.C++,0)))}(t,e)||2==r&&sc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:hc(t,5);break;case 4:hc(t,10);break;case 3:hc(t,6);break;default:hc(t,2)}}function lc(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function hc(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ns(t.jb,t);n||(n=new Ka("//www.google.com/images/cleardot.gif"),Cs.location&&"http"==Cs.location.protocol||Qa(n,"https"),tu(n)),function(t,e){var n=new oa;if(Cs.Image){var r=new Image;r.onload=js(Iu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=js(Iu,n,r,"TestLoadImage: error",!1,e),r.onabort=js(Iu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=js(Iu,n,r,"TestLoadImage: timeout",!1,e),Cs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else pa(2);t.G=0,t.j&&t.j.va(e),dc(t),Ju(t)}function dc(t){t.G=0,t.I=-1,t.j&&(0==Eu(t.i).length&&0==t.l.length||(t.i.i.length=0,Us(t.l),t.l.length=0),t.j.ua())}function fc(t,e,n){var r=function(t){return t instanceof Ka?Ga(t):new Ka(t,void 0)}(n);if(""!=r.i)e&&Ya(r,e+"."+r.i),Za(r,r.m);else{var i=Cs.location;r=function(t,e,n,r){var i=new Ka(null,void 0);return t&&Qa(i,t),e&&Ya(i,e),n&&Za(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Gs(t.aa,function(t,e){Xa(r,e,t)}),n=t.sa,(e=t.D)&&n&&Xa(r,e,n),Xa(r,"VER",t.ma),nc(t,r),r}function pc(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pu(n&&t.Ba&&!t.qa?new xu({ib:!0}):t.qa)).L=t.H,e}function mc(){}function gc(){if(no&&!(10<=Number(fo)))throw Error("Environmental error: no available transport.")}function yc(t,e){Mo.call(this),this.g=new Qu(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!qs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qs(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new _c(this)}function vc(t){Ea.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function bc(){Ca.call(this),this.status=1}function _c(t){this.g=t}(ws=Pu.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wa.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:wa),this.g.onreadystatechange=Ns(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void Uu(this,s)}t=n||"";var i=new Ha(this.headers);r&&Ba(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Vu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Cs.FormData&&t instanceof Cs.FormData,!(0<=Ms(Lu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wu(this),0<this.B&&((this.K=function(t){return no&&function(){return t=ho,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Hs(String(Xs)).split("."),n=Hs("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var s=e[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;t=zs(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||zs(0==s[2].length,0==o[2].length)||zs(s[2],o[2]),s=s[3],o=o[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ns(this.pa,this)):this.A=Xo(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Uu(this,s)}},ws.pa=function(){void 0!==Es&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lo(this,"timeout"),this.abort(8))},ws.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lo(this,"complete"),Lo(this,"abort"),Hu(this))},ws.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hu(this,!0)),Pu.Z.M.call(this)},ws.Fa=function(){this.s||(this.F||this.v||this.l?Bu(this):this.cb())},ws.cb=function(){Bu(this)},ws.ba=function(){try{return 2<zu(this)?this.g.status:-1}catch(to){return-1}},ws.ga=function(){try{return this.g?this.g.responseText:""}catch(to){return""}},ws.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Du(e)}},ws.Da=function(){return this.m},ws.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ws=Qu.prototype).ma=8,ws.G=1,ws.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},ws.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ta(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Zs(n=Qs(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=rc(this,e,r),Xa(i=Ga(this.F),"RID",t),Xa(i,"CVER",22),this.D&&Xa(i,"X-HTTP-Session-Id",this.D),nc(this,i),this.o&&n&&Ku(i,this.o,n),wu(this.i,e),this.Ra&&Xa(i,"TYPE","init"),this.ja?(Xa(i,"$req",r),Xa(i,"SID","null"),e.$=!0,Ra(e,i,null)):Ra(e,i,r),this.G=2}}else 3==this.G&&(t?ec(this,t):0==this.l.length||vu(this.i)||ec(this))},ws.Ga=function(){if(this.u=null,ac(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ga(Ns(this.bb,this),t)}},ws.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pa(10),Zu(this),ac(this))},ws.ab=function(){null!=this.v&&(this.v=null,Zu(this),sc(this),pa(19))},ws.jb=function(t){t?(this.h.info("Successfully pinged google.com"),pa(2)):(this.h.info("Failed to ping google.com"),pa(1))},(ws=mc.prototype).xa=function(){},ws.wa=function(){},ws.va=function(){},ws.ua=function(){},ws.Oa=function(){},gc.prototype.g=function(t,e){return new yc(t,e)},Ds(yc,Mo),yc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ko(Ns(t.hb,t,e))),pa(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=fc(t,null,t.W),tc(t)},yc.prototype.close=function(){Yu(this.g)},yc.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Xu(this.g,e)}else this.v?((e={}).__data__=Uo(t),Xu(this.g,e)):Xu(this.g,t)},yc.prototype.M=function(){this.g.j=null,delete this.j,Yu(this.g),delete this.g,yc.Z.M.call(this)},Ds(vc,Ea),Ds(bc,Ca),Ds(_c,mc),_c.prototype.xa=function(){Lo(this.g,"a")},_c.prototype.wa=function(t){Lo(this.g,new vc(t))},_c.prototype.va=function(t){Lo(this.g,new bc(t))},_c.prototype.ua=function(){Lo(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,yc.prototype.send=yc.prototype.u,yc.prototype.open=yc.prototype.m,yc.prototype.close=yc.prototype.close,ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,va.COMPLETE="complete",_a.EventType=Sa,Sa.OPEN="a",Sa.CLOSE="b",Sa.ERROR="c",Sa.MESSAGE="d",Mo.prototype.listen=Mo.prototype.N,Pu.prototype.listenOnce=Pu.prototype.O,Pu.prototype.getLastError=Pu.prototype.La,Pu.prototype.getLastErrorCode=Pu.prototype.Da,Pu.prototype.getStatus=Pu.prototype.ba,Pu.prototype.getResponseJson=Pu.prototype.Qa,Pu.prototype.getResponseText=Pu.prototype.ga,Pu.prototype.send=Pu.prototype.ea;var wc=ya,Sc=va,Ec=ua,Cc=xu,Oc=_a,Tc=Pu,Ic=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ic.o=-1;var xc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ac=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(gs.d)(e,t),e}(Error),kc=new vs.b("@firebase/firestore");function Rc(){return kc.logLevel}function Nc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(kc.logLevel<=vs.a.DEBUG){var r=e.map(Pc);kc.debug.apply(kc,Object(gs.h)(["Firestore (8.10.1): "+t],r))}}function jc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(kc.logLevel<=vs.a.ERROR){var r=e.map(Pc);kc.error.apply(kc,Object(gs.h)(["Firestore (8.10.1): "+t],r))}}function Dc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(kc.logLevel<=vs.a.WARN){var r=e.map(Pc);kc.warn.apply(kc,Object(gs.h)(["Firestore (8.10.1): "+t],r))}}function Pc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Pb){return t}}function Fc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw jc(e),new Error(e)}function Mc(t,e){t||Fc()}function Lc(t,e){return t}function Vc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Uc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Vc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function qc(t,e){return t<e?-1:t>e?1:0}function Bc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Hc(t){return t+"\0"}var Wc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ac(xc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ac(xc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ac(xc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ac(xc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?qc(this.nanoseconds,t.nanoseconds):qc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),zc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Wc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function $c(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Qc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Fc(),void 0===n?n=t.length-e:n>t.length-e&&Fc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gs.d)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Ac(xc.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Qc),Zc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gs.d)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Zc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Ac(xc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ac(xc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ac(xc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ac(xc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Qc),Xc=function(){function t(t){this.fields=t,t.sort(Jc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Bc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),tl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return qc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();tl.EMPTY_BYTE_STRING=new tl("");var el=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nl(t){if(Mc(!!t),"string"==typeof t){var e=0,n=el.exec(t);if(Mc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rl(t.seconds),nanos:rl(t.nanos)}}function rl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function il(t){return"string"==typeof t?tl.fromBase64String(t):tl.fromUint8Array(t)}function sl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ol(t){var e=t.mapValue.fields.__previous_value__;return sl(e)?ol(e):e}function al(t){var e=nl(t.mapValue.fields.__local_write_time__.timestampValue);return new Wc(e.seconds,e.nanos)}function ul(t){return null==t}function cl(t){return 0===t&&1/t==-1/0}function ll(t){return"number"==typeof t&&Number.isInteger(t)&&!cl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var hl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Yc.fromString(e))},t.fromName=function(e){return new t(Yc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Yc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Yc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Yc(e.slice()))},t}();function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sl(t)?4:10:Fc()}function fl(t,e){var n=dl(t);if(n!==dl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return al(t).isEqual(al(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=nl(t.timestampValue),r=nl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return il(t.bytesValue).isEqual(il(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return rl(t.geoPointValue.latitude)===rl(e.geoPointValue.latitude)&&rl(t.geoPointValue.longitude)===rl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rl(t.integerValue)===rl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=rl(t.doubleValue),r=rl(e.doubleValue);return n===r?cl(n)===cl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Bc(t.arrayValue.values||[],e.arrayValue.values||[],fl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if($c(n)!==$c(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fl(n[i],r[i])))return!1;return!0}(t,e);default:return Fc()}}function pl(t,e){return void 0!==(t.values||[]).find(function(t){return fl(t,e)})}function ml(t,e){var n=dl(t),r=dl(e);if(n!==r)return qc(n,r);switch(n){case 0:return 0;case 1:return qc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=rl(t.integerValue||t.doubleValue),r=rl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return gl(t.timestampValue,e.timestampValue);case 4:return gl(al(t),al(e));case 5:return qc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=il(t),r=il(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=qc(n[i],r[i]);if(0!==s)return s}return qc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=qc(rl(t.latitude),rl(e.latitude));return 0!==n?n:qc(rl(t.longitude),rl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ml(n[i],r[i]);if(s)return s}return qc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=qc(r[o],s[o]);if(0!==a)return a;var u=ml(n[r[o]],i[s[o]]);if(0!==u)return u}return qc(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Fc()}}function gl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return qc(t,e);var n=nl(t),r=nl(e),i=qc(n.seconds,r.seconds);return 0!==i?i:qc(n.nanos,r.nanos)}function yl(t){return vl(t)}function vl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=nl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?il(t.bytesValue).toBase64():"referenceValue"in t?hl.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=vl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+vl(t.fields[s])}return e+"}"}(t.mapValue):Fc();var e}function bl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function _l(t){return!!t&&"integerValue"in t}function wl(t){return!!t&&"arrayValue"in t}function Sl(t){return!!t&&"nullValue"in t}function El(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cl(t){return!!t&&"mapValue"in t}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Kc(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Ol(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ol(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Tl=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Cl(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(e)},t.prototype.setAll=function(t){var e=this,n=Jc.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=Ol(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Cl(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return fl(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Cl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Kc(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Ol(this.value))},t}();function Il(t){var e=[];return Kc(t.fields,function(t,n){var r=new Jc([t]);if(Cl(n)){var i=Il(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Xc(e)}var xl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,zc.min(),Tl.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Tl.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Tl.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Tl.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Tl.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Al=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function kl(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Al(t,e,n,r,i,s,o)}function Rl(t){var e=Lc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+yl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Wl(e.startAt)),e.endAt&&(n+="|ub:",n+=Wl(e.endAt)),e.h=n}return e.h}function Nl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!$l(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!fl(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gl(t.startAt,e.startAt)&&Gl(t.endAt,e.endAt)}function jl(t){return hl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Dl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(gs.d)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Pl(t,n,r):"array-contains"===n?new Vl(t,r):"in"===n?new Ul(t,r):"not-in"===n?new ql(t,r):"array-contains-any"===n?new Bl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Fl(t,n):new Ml(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ml(e,this.value)):null!==e&&dl(this.value)===dl(e)&&this.m(ml(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Fc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Pl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=hl.fromName(r.referenceValue),i}return Object(gs.d)(e,t),e.prototype.matches=function(t){var e=hl.comparator(t.key,this.key);return this.m(e)},e}(Dl),Fl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ll(0,n),r}return Object(gs.d)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Dl),Ml=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ll(0,n),r}return Object(gs.d)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Dl);function Ll(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return hl.fromName(t.referenceValue)})}var Vl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(gs.d)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return wl(e)&&pl(e.arrayValue,this.value)},e}(Dl),Ul=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(gs.d)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&pl(this.value.arrayValue,e)},e}(Dl),ql=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(gs.d)(e,t),e.prototype.matches=function(t){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!pl(this.value.arrayValue,e)},e}(Dl),Bl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(gs.d)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!wl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return pl(e.value.arrayValue,t)})},e}(Dl),Hl=function(t,e){this.position=t,this.before=e};function Wl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return yl(t)}).join(",")}var zl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function $l(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Kl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?hl.comparator(hl.fromName(o.referenceValue),n.key):ml(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Gl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!fl(t.position[n],e.position[n]))return!1;return!0}var Ql=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function Yl(t,e,n,r,i,s,o,a){return new Ql(t,e,n,r,i,s,o,a)}function Zl(t){return new Ql(t)}function Jl(t){return!ul(t.limit)&&"F"===t.limitType}function Xl(t){return!ul(t.limit)&&"L"===t.limitType}function th(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function eh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function nh(t){return null!==t.collectionGroup}function rh(t){var e=Lc(t);if(null===e.p){e.p=[];var n=eh(e),r=th(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new zl(n)),e.p.push(new zl(Jc.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new zl(Jc.keyField(),u))}}}return e.p}function ih(t){var e=Lc(t);if(!e.T)if("F"===e.limitType)e.T=kl(e.path,e.collectionGroup,rh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=rh(e);r<i.length;r++){var s=i[r];n.push(new zl(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Hl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Hl(e.startAt.position,!e.startAt.before):null;e.T=kl(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function sh(t,e,n){return new Ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oh(t,e){return Nl(ih(t),ih(e))&&t.limitType===e.limitType}function ah(t){return Rl(ih(t))+"|lt:"+t.limitType}function uh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+yl(e.value);var e}).join(", ")+"]"),ul(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Wl(t.startAt)),t.endAt&&(e+=", endAt: "+Wl(t.endAt)),"Target("+e+")"}(ih(t))+"; limitType="+t.limitType+")"}function ch(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):hl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Kl(t.startAt,rh(t),e)||t.endAt&&Kl(t.endAt,rh(t),e))}(t,e)}function lh(t){return function(e,n){for(var r=!1,i=0,s=rh(t);i<s.length;i++){var o=s[i],a=hh(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function hh(t,e,n){var r=t.field.isKeyField()?hl.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ml(r,i):Fc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fc()}}function dh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cl(e)?"-0":e}}function fh(t){return{integerValue:""+t}}function ph(t,e){return ll(e)?fh(e):dh(t,e)}var mh=function(){this._=void 0};function gh(t,e,n){return t instanceof bh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof _h?wh(t,e):t instanceof Sh?Eh(t,e):function(t,e){var n=vh(t,e),r=Oh(n)+Oh(t.A);return _l(n)&&_l(t.A)?fh(r):dh(t.R,r)}(t,e)}function yh(t,e,n){return t instanceof _h?wh(t,e):t instanceof Sh?Eh(t,e):n}function vh(t,e){return t instanceof Ch?_l(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var bh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gs.d)(e,t),e}(mh),_h=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(gs.d)(e,t),e}(mh);function wh(t,e){for(var n=Th(e),r=function(t){n.some(function(e){return fl(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Sh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(gs.d)(e,t),e}(mh);function Eh(t,e){for(var n=Th(e),r=function(t){n=n.filter(function(e){return!fl(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ch=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(gs.d)(e,t),e}(mh);function Oh(t){return rl(t.integerValue||t.doubleValue)}function Th(t){return wl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ih=function(t,e){this.field=t,this.transform=e},xh=function(t,e){this.version=t,this.transformResults=e},Ah=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function kh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Rh=function(){};function Nh(t,e,n){t instanceof Mh?function(t,e,n){var r=t.value.clone(),i=Uh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Lh?function(t,e,n){if(kh(t.precondition,e)){var r=Uh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Vh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function jh(t,e,n){t instanceof Mh?function(t,e,n){if(kh(t.precondition,e)){var r=t.value.clone(),i=qh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Fh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Lh?function(t,e,n){if(kh(t.precondition,e)){var r=qh(t.fieldTransforms,n,e),i=e.data;i.setAll(Vh(t)),i.setAll(r),e.convertToFoundDocument(Fh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){kh(t.precondition,e)&&e.convertToNoDocument(zc.min())}(t,e)}function Dh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=vh(s.transform,o||null);null!=a&&(null==n&&(n=Tl.empty()),n.set(s.field,a))}return n||null}function Ph(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Bc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof _h&&e instanceof _h||t instanceof Sh&&e instanceof Sh?Bc(t.elements,e.elements,fl):t instanceof Ch&&e instanceof Ch?fl(t.A,e.A):t instanceof bh&&e instanceof bh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Fh(t){return t.isFoundDocument()?t.version:zc.min()}var Mh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(gs.d)(e,t),e}(Rh),Lh=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(gs.d)(e,t),e}(Rh);function Vh(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Uh(t,e,n){var r=new Map;Mc(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yh(o,a,n[i]))}return r}function qh(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,gh(a,u,e))}return r}var Bh,Hh,Wh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(gs.d)(e,t),e}(Rh),zh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(gs.d)(e,t),e}(Rh),$h=function(t){this.count=t};function Kh(t){switch(t){case xc.OK:return Fc();case xc.CANCELLED:case xc.UNKNOWN:case xc.DEADLINE_EXCEEDED:case xc.RESOURCE_EXHAUSTED:case xc.INTERNAL:case xc.UNAVAILABLE:case xc.UNAUTHENTICATED:return!1;case xc.INVALID_ARGUMENT:case xc.NOT_FOUND:case xc.ALREADY_EXISTS:case xc.PERMISSION_DENIED:case xc.FAILED_PRECONDITION:case xc.ABORTED:case xc.OUT_OF_RANGE:case xc.UNIMPLEMENTED:case xc.DATA_LOSS:return!0;default:return Fc()}}function Gh(t){if(void 0===t)return jc("GRPC error has no .code"),xc.UNKNOWN;switch(t){case Bh.OK:return xc.OK;case Bh.CANCELLED:return xc.CANCELLED;case Bh.UNKNOWN:return xc.UNKNOWN;case Bh.DEADLINE_EXCEEDED:return xc.DEADLINE_EXCEEDED;case Bh.RESOURCE_EXHAUSTED:return xc.RESOURCE_EXHAUSTED;case Bh.INTERNAL:return xc.INTERNAL;case Bh.UNAVAILABLE:return xc.UNAVAILABLE;case Bh.UNAUTHENTICATED:return xc.UNAUTHENTICATED;case Bh.INVALID_ARGUMENT:return xc.INVALID_ARGUMENT;case Bh.NOT_FOUND:return xc.NOT_FOUND;case Bh.ALREADY_EXISTS:return xc.ALREADY_EXISTS;case Bh.PERMISSION_DENIED:return xc.PERMISSION_DENIED;case Bh.FAILED_PRECONDITION:return xc.FAILED_PRECONDITION;case Bh.ABORTED:return xc.ABORTED;case Bh.OUT_OF_RANGE:return xc.OUT_OF_RANGE;case Bh.UNIMPLEMENTED:return xc.UNIMPLEMENTED;case Bh.DATA_LOSS:return xc.DATA_LOSS;default:return Fc()}}(Hh=Bh||(Bh={}))[Hh.OK=0]="OK",Hh[Hh.CANCELLED=1]="CANCELLED",Hh[Hh.UNKNOWN=2]="UNKNOWN",Hh[Hh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hh[Hh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hh[Hh.NOT_FOUND=5]="NOT_FOUND",Hh[Hh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hh[Hh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hh[Hh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hh[Hh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hh[Hh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hh[Hh.ABORTED=10]="ABORTED",Hh[Hh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hh[Hh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hh[Hh.INTERNAL=13]="INTERNAL",Hh[Hh.UNAVAILABLE=14]="UNAVAILABLE",Hh[Hh.DATA_LOSS=15]="DATA_LOSS";var Qh=function(){function t(t,e){this.comparator=t,this.root=e||Zh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Yh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Yh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Yh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Yh(this.root,t,this.comparator,!0)},t}(),Yh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Zh=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fc();if(this.right.isRed())throw Fc();var t=this.left.check();if(t!==this.right.check())throw Fc();return t+(this.isRed()?0:1)},t}();Zh.EMPTY=null,Zh.RED=!0,Zh.BLACK=!1,Zh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Fc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Zh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Jh=function(){function t(t){this.comparator=t,this.data=new Qh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Xh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Xh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Xh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),td=new Qh(hl.comparator);function ed(){return td}var nd=new Qh(hl.comparator);function rd(){return nd}var id=new Qh(hl.comparator);function sd(){return id}var od=new Jh(hl.comparator);function ad(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=od,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var ud=new Jh(qc);function cd(){return ud}var ld=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(zc.min(),r,cd(),ed(),ad())},t}(),hd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(tl.EMPTY_BYTE_STRING,n,ad(),ad(),ad())},t}(),dd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},fd=function(t,e){this.targetId=t,this.V=e},pd=function(t,e,n,r){void 0===n&&(n=tl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},md=function(){function t(){this.S=0,this.D=vd(),this.C=tl.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=ad(),e=ad(),n=ad();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Fc()}}),new hd(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=vd()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),gd=function(){function t(t){this.W=t,this.G=new Map,this.H=ed(),this.J=yd(),this.Y=new Jh(qc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Fc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(jl(i))if(0===n){var s=new hl(i.path);this.tt(e,s,xl.newNoDocument(s,zc.min()))}else Mc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&jl(s.target)){var o=new hl(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,xl.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=ad();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ld(t,n,this.Y,this.H,r);return this.H=ed(),this.J=yd(),this.Y=new Jh(qc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new md,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Jh(qc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Nc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new md),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function yd(){return new Qh(hl.comparator)}function vd(){return new Qh(hl.comparator)}var bd={asc:"ASCENDING",desc:"DESCENDING"},_d={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wd=function(t,e){this.databaseId=t,this.I=e};function Sd(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ed(t,e){return t.I?e.toBase64():e.toUint8Array()}function Cd(t,e){return Sd(t,e.toTimestamp())}function Od(t){return Mc(!!t),zc.fromTimestamp(function(t){var e=nl(t);return new Wc(e.seconds,e.nanos)}(t))}function Td(t,e){return function(t){return new Yc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Id(t){var e=Yc.fromString(t);return Mc(Zd(e)),e}function xd(t,e){return Td(t.databaseId,e.path)}function Ad(t,e){var n=Id(e);if(n.get(1)!==t.databaseId.projectId)throw new Ac(xc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ac(xc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new hl(jd(n))}function kd(t,e){return Td(t.databaseId,e)}function Rd(t){var e=Id(t);return 4===e.length?Yc.emptyPath():jd(e)}function Nd(t){return new Yc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jd(t){return Mc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Dd(t,e,n){return{name:xd(t,e),fields:n.value.mapValue.fields}}function Pd(t,e,n){var r=Ad(t,e.name),i=Od(e.updateTime),s=new Tl({mapValue:{fields:e.fields}}),o=xl.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Fd(t,e){var n;if(e instanceof Mh)n={update:Dd(t,e.key,e.value)};else if(e instanceof Wh)n={delete:xd(t,e.key)};else if(e instanceof Lh)n={update:Dd(t,e.key,e.data),updateMask:Yd(e.fieldMask)};else{if(!(e instanceof zh))return Fc();n={verify:xd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof bh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _h)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ch)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Fc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Cd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fc()}(t,e.precondition)),n}function Md(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ah.updateTime(Od(t.updateTime)):void 0!==t.exists?Ah.exists(t.exists):Ah.none()}(e.currentDocument):Ah.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Mc("REQUEST_TIME"===e.setToServerValue),n=new bh):"appendMissingElements"in e?n=new _h(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Sh(e.removeAllFromArray.values||[]):"increment"in e?n=new Ch(t,e.increment):Fc();var r=Jc.fromServerFormat(e.fieldPath);return new Ih(r,n)}(t,e)}):[];if(e.update){var i=Ad(t,e.update.name),s=new Tl({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Xc((t.fieldPaths||[]).map(function(t){return Jc.fromServerFormat(t)}))}(e.updateMask);return new Lh(i,s,o,n,r)}return new Mh(i,s,n,r)}if(e.delete){var a=Ad(t,e.delete);return new Wh(a,n)}if(e.verify){var u=Ad(t,e.verify);return new zh(u,n)}return Fc()}function Ld(t,e){return{documents:[kd(t,e.path)]}}function Vd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=kd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=kd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(El(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NAN"}};if(Sl(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(El(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NOT_NAN"}};if(Sl(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$d(t.field),op:zd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:$d(t.field),direction:Wd(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||ul(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Bd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Bd(e.endAt)),n}function Ud(t){var e=Rd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mc(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=qd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new zl(Kd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ul(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Hd(n.startAt));var l=null;return n.endAt&&(l=Hd(n.endAt)),Yl(e,i,a,o,u,"F",c,l)}function qd(t){return t?void 0!==t.unaryFilter?[Qd(t)]:void 0!==t.fieldFilter?[Gd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return qd(t)}).reduce(function(t,e){return t.concat(e)}):Fc():[]}function Bd(t){return{before:t.before,values:t.position}}function Hd(t){return new Hl(t.values||[],!!t.before)}function Wd(t){return bd[t]}function zd(t){return _d[t]}function $d(t){return{fieldPath:t.canonicalString()}}function Kd(t){return Jc.fromServerFormat(t.fieldPath)}function Gd(t){return Dl.create(Kd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Qd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Kd(t.unaryFilter.field);return Dl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Kd(t.unaryFilter.field);return Dl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Kd(t.unaryFilter.field);return Dl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Kd(t.unaryFilter.field);return Dl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fc()}}function Yd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Zd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Jd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=tf(e)),e=Xd(t.get(n),e);return tf(e)}function Xd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function tf(t){return t+"\x01\x01"}function ef(t){var e=t.length;if(Mc(e>=2),2===e)return Mc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Yc.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Fc(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Fc()}s=o+2}return new Yc(r)}var nf=function(t,e){this.seconds=t,this.nanoseconds=e},rf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};rf.store="owner",rf.key="owner";var sf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};sf.store="mutationQueues",sf.keyPath="userId";var of=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};of.store="mutations",of.keyPath="batchId",of.userMutationsIndex="userMutationsIndex",of.userMutationsKeyPath=["userId","batchId"];var af=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Jd(e)]},t.key=function(t,e,n){return[t,Jd(e),n]},t}();af.store="documentMutations",af.PLACEHOLDER=new af;var uf=function(t,e){this.path=t,this.readTime=e},cf=function(t,e){this.path=t,this.version=e},lf=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};lf.store="remoteDocuments",lf.readTimeIndex="readTimeIndex",lf.readTimeIndexPath="readTime",lf.collectionReadTimeIndex="collectionReadTimeIndex",lf.collectionReadTimeIndexPath=["parentPath","readTime"];var hf=function(t){this.byteSize=t};hf.store="remoteDocumentGlobal",hf.key="remoteDocumentGlobalKey";var df=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};df.store="targets",df.keyPath="targetId",df.queryTargetsIndexName="queryTargetsIndex",df.queryTargetsKeyPath=["canonicalId","targetId"];var ff=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ff.store="targetDocuments",ff.keyPath=["targetId","path"],ff.documentTargetsIndex="documentTargetsIndex",ff.documentTargetsKeyPath=["path","targetId"];var pf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pf.key="targetGlobalKey",pf.store="targetGlobal";var mf=function(t,e){this.collectionId=t,this.parent=e};mf.store="collectionParents",mf.keyPath=["collectionId","parent"];var gf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};gf.store="clientMetadata",gf.keyPath="clientId";var yf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};yf.store="bundles",yf.keyPath="bundleId";var vf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};vf.store="namedQueries",vf.keyPath="name";var bf=Object(gs.h)(Object(gs.h)([],Object(gs.h)(Object(gs.h)([],Object(gs.h)(Object(gs.h)([],Object(gs.h)(Object(gs.h)([],[sf.store,of.store,af.store,lf.store,df.store,rf.store,pf.store,ff.store]),[gf.store])),[hf.store])),[mf.store])),[yf.store,vf.store]),_f="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Sf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ef=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Fc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Cf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Sf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new If(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Nf(e.target.error);n.ft.reject(new If(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new If(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Nc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Af(e)},t}(),Of=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(ys.i)())&&jc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Nc("SimpleDb","Removing database:",t),kf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(ys.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(gs.b)(this,void 0,void 0,function(){var e,n=this;return Object(gs.e)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Nc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new If(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ac(xc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new If(t,n))},i.onupgradeneeded=function(t){Nc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Nc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(gs.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(gs.e)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(gs.e)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Cf.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Ef.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Nc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Tf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return kf(this.Pt.delete())},t}(),If=function(t){function e(e,n){var r=this;return(r=t.call(this,xc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(gs.d)(e,t),e}(Ac);function xf(t){return"IndexedDbTransactionError"===t.name}var Af=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Nc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Nc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),kf(n)},t.prototype.add=function(t){return Nc("SimpleDb","ADD",this.store.name,t,t),kf(this.store.add(t))},t.prototype.get=function(t){var e=this;return kf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Nc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Nc("SimpleDb","DELETE",this.store.name,t),kf(this.store.delete(t))},t.prototype.count=function(){return Nc("SimpleDb","COUNT",this.store.name),kf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){Nc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Ef(function(n,r){e.onerror=function(t){var e=Nf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Ef(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Tf(i),o=e(i.primaryKey,i.value,s);if(o instanceof Ef){var a=o.catch(function(t){return s.done(),Ef.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Ef.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function kf(t){return new Ef(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Nf(t.target.error);n(e)}})}var Rf=!1;function Nf(t){var e=Of._t(Object(ys.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ac("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Rf||(Rf=!0,setTimeout(function(){throw r},0)),r}}return t}var jf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(gs.d)(e,t),e}(wf);function Df(t,e){var n=Lc(t);return Of.It(n.Mt,e)}var Pf=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Nh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&jh(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&jh(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(zc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},ad())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Bc(this.mutations,t.mutations,function(t,e){return Ph(t,e)})&&Bc(this.baseMutations,t.baseMutations,function(t,e){return Ph(t,e)})},t}(),Ff=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Mc(e.mutations.length===r.length);for(var i=sd(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Mf=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=zc.min()),void 0===s&&(s=zc.min()),void 0===o&&(o=tl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Lf=function(t){this.Lt=t};function Vf(t,e){if(e.document)return Pd(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=hl.fromSegments(e.noDocument.path),r=Wf(e.noDocument.readTime),i=xl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=hl.fromSegments(e.unknownDocument.path);return r=Wf(e.unknownDocument.version),xl.newUnknownDocument(s,r)}return Fc()}function Uf(t,e,n){var r=qf(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:xd(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Sd(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new lf(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Hf(e.version);return o=e.hasCommittedMutations,new lf(null,new uf(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Hf(e.version);return new lf(new cf(c,l),null,null,!0,r,i)}return Fc()}function qf(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Bf(t){var e=new Wc(t[0],t[1]);return zc.fromTimestamp(e)}function Hf(t){var e=t.toTimestamp();return new nf(e.seconds,e.nanoseconds)}function Wf(t){var e=new Wc(t.seconds,t.nanoseconds);return zc.fromTimestamp(e)}function zf(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Md(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Md(t.Lt,e)}),s=Wc.fromMillis(e.localWriteTimeMs);return new Pf(e.batchId,s,n,i)}function $f(t){var e,n,r=Wf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Wf(t.lastLimboFreeSnapshotVersion):zc.min();return void 0!==t.query.documents?(Mc(1===(n=t.query).documents.length),e=ih(Zl(Rd(n.documents[0])))):e=function(t){return ih(Ud(t))}(t.query),new Mf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,tl.fromBase64String(t.resumeToken))}function Kf(t,e){var n,r=Hf(e.snapshotVersion),i=Hf(e.lastLimboFreeSnapshotVersion);n=jl(e.target)?Ld(t.Lt,e.target):Vd(t.Lt,e.target);var s=e.resumeToken.toBase64();return new df(e.targetId,Rl(e.target),r,s,e.sequenceNumber,i,n)}function Gf(t){var e=Ud({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?sh(e,e.limit,"L"):e}var Qf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Yf(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Wf(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Yf(t).put({bundleId:(n=e).id,createTime:Hf(Od(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Zf(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Gf(e.bundledQuery),readTime:Wf(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Zf(t).put(function(t){return{name:t.name,readTime:Hf(Od(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Yf(t){return Df(t,yf.store)}function Zf(t){return Df(t,vf.store)}var Jf=function(){function t(){this.Bt=new Xf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ef.resolve()},t.prototype.getCollectionParents=function(t,e){return Ef.resolve(this.Bt.getEntries(e))},t}(),Xf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Jh(Yc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Jh(Yc.comparator)).toArray()},t}(),tp=function(){function t(){this.qt=new Xf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:Jd(i)};return ep(t).put(s)}return Ef.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Hc(e),""],!1,!0);return ep(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(ef(s.parent))}return n})},t}();function ep(t){return Df(t,mf.store)}var np={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function ip(t,e,n){var r=t.store(of.store),i=t.store(af.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Mc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=af.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return Ef.waitFor(s).next(function(){return c})}function sp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fc();e=t.noDocument}return JSON.stringify(e).length}rp.DEFAULT_COLLECTION_PERCENTILE=10,rp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rp.DEFAULT=new rp(41943040,rp.DEFAULT_COLLECTION_PERCENTILE,rp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rp.DISABLED=new rp(-1,0,0);var op=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Mc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return up(t).$t({index:of.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=cp(t),o=up(t);return o.add({}).next(function(a){Mc("number"==typeof a);for(var u=new Pf(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Fd(t.Lt,e)}),i=n.mutations.map(function(e){return Fd(t.Lt,e)});return new of(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Jh(function(t,e){return qc(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=af.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(m,af.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Ef.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return up(t).get(e).next(function(t){return t?(Mc(t.userId===n.userId),zf(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Ef.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return up(t).$t({index:of.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Mc(e.batchId>=r),s=zf(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return up(t).$t({index:of.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return up(t).Nt(of.userMutationsIndex,n).next(function(t){return t.map(function(t){return zf(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=af.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return cp(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],c=ef(r[1]);if(a===n.userId&&e.path.isEqual(c))return up(t).get(u).next(function(t){if(!t)throw Fc();Mc(t.userId===n.userId),s.push(zf(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Jh(qc),i=[];return e.forEach(function(e){var s=af.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=cp(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=ef(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Ef.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=af.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Jh(qc);return cp(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],c=ef(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(up(t).get(e).next(function(t){if(null===t)throw Fc();Mc(t.userId===n.userId),r.push(zf(n.R,t))}))}),Ef.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return ip(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Ef.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Ef.resolve();var r=IDBKeyRange.lowerBound(af.prefixForUser(e.userId)),i=[];return cp(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=ef(t[1]);i.push(s)}else r.done()}).next(function(){Mc(0===i.length)})})},t.prototype.containsKey=function(t,e){return ap(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return lp(t).get(this.userId).next(function(t){return t||new sf(e.userId,-1,"")})},t}();function ap(t,e,n){var r=af.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return cp(t).$t({range:s,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function up(t){return Df(t,of.store)}function cp(t){return Df(t,af.store)}function lp(t){return Df(t,sf.store)}var hp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),dp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new hp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return zc.fromTimestamp(new Wc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return fp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Mc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return fp(t).$t(function(o,a){var u=$f(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Ef.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return fp(t).$t(function(t,n){var r=$f(n);e(r)})},t.prototype.Xt=function(t){return pp(t).get(pf.key).next(function(t){return Mc(null!==t),t})},t.prototype.Zt=function(t,e){return pp(t).put(pf.key,e)},t.prototype.te=function(t,e){return fp(t).put(Kf(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Rl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fp(t).$t({range:r,index:df.queryTargetsIndexName},function(t,n,r){var s=$f(n);Nl(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=mp(t);return e.forEach(function(e){var o=Jd(e.path);i.push(s.put(new ff(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Ef.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=mp(t);return Ef.forEach(e,function(e){var s=Jd(e.path);return Ef.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=mp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=mp(t),i=ad();return r.$t({range:n,Ft:!0},function(t,e,n){var r=ef(t[1]),s=new hl(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Jd(e.path),r=IDBKeyRange.bound([n],[Hc(n)],!1,!0),i=0;return mp(t).$t({index:ff.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return fp(t).get(e).next(function(t){return t?$f(t):null})},t}();function fp(t){return Df(t,df.store)}function pp(t){return Df(t,pf.store)}function mp(t){return Df(t,ff.store)}function gp(t){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(e){if(t.code!==xc.FAILED_PRECONDITION||t.message!==_f)throw t;return Nc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function yp(t,e){var n=t[1],r=e[1],i=qc(t[0],e[0]);return 0===i?qc(n,r):i}var vp=function(){function t(t){this.ne=t,this.buffer=new Jh(yp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();yp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),bp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Nc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(gs.b)(e,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return xf(e=n.sent())?(Nc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,gp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),_p=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ef.resolve(Ic.o);var r=new vp(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Nc("LruGarbageCollector","Garbage collection skipped; disabled"),Ef.resolve(np)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Nc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),np):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Nc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Rc()<=vs.a.DEBUG&&Nc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ef.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),wp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new _p(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Sp(t,n)},t.prototype.removeReference=function(t,e,n){return Sp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Sp(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return lp(t).Ot(function(r){return ap(t,r,e).next(function(t){return t&&(n=!0),Ef.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),mp(t).delete([0,Jd(o.path)])})});i.push(u)}}).next(function(){return Ef.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Sp(t,e)},t.prototype.we=function(t,e){var n,r=mp(t),i=Ic.o;return r.$t({index:ff.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Ic.o&&e(new hl(ef(n)),i),i=o,n=s):i=Ic.o}).next(function(){i!==Ic.o&&e(new hl(ef(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Sp(t,e){return mp(t).put(function(t,e){return new ff(0,Jd(t.path),e)}(e,t.currentSequenceNumber))}var Ep=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Kc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return Gc(this.inner)},t}(),Cp=function(){function t(){this.changes=new Ep(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:zc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:xl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ef.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Op=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return xp(t).put(Ap(e),n)},t.prototype.removeEntry=function(t,e){var n=xp(t),r=Ap(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return xp(t).get(Ap(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return xp(t).get(Ap(e)).next(function(t){return{document:n.ye(e,t),size:sp(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=ed();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=ed(),i=new Qh(hl.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,sp(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ef.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return xp(t).$t({range:r},function(t,e,r){for(var o=hl.fromSegments(t);s&&hl.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=ed(),s=e.path.length+1,o={};if(n.isEqual(zc.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=qf(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=lf.collectionReadTimeIndex}return xp(t).$t(o,function(t,n,o){if(t.length===s){var a=Vf(r.R,n);e.path.isPrefixOf(a.key.path)?ch(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Tp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ip(t).get(hf.key).next(function(t){return Mc(!!t),t})},t.prototype.me=function(t,e){return Ip(t).put(hf.key,e)},t.prototype.ye=function(t,e){if(e){var n=Vf(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(zc.min()))return n}return xl.newInvalidDocument(t)},t}(),Tp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ep(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(gs.d)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Jh(function(t,e){return qc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=Uf(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=sp(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=Uf(e.Ie.R,xl.newNoDocument(s,zc.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Ef.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Cp);function Ip(t){return Df(t,hf.store)}function xp(t){return Df(t,lf.store)}function Ap(t){return t.path.toArray()}var kp=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Mc(n<r&&n>=0&&r<=11);var s=new Cf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(rf.store)}(t),function(t){t.createObjectStore(sf.store,{keyPath:sf.keyPath}),t.createObjectStore(of.store,{keyPath:of.keyPath,autoIncrement:!0}).createIndex(of.userMutationsIndex,of.userMutationsKeyPath,{unique:!0}),t.createObjectStore(af.store)}(t),Rp(t),function(t){t.createObjectStore(lf.store)}(t));var o=Ef.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ff.store),t.deleteObjectStore(df.store),t.deleteObjectStore(pf.store)}(t),Rp(t)),o=o.next(function(){return function(t){var e=t.store(pf.store),n=new pf(0,0,zc.min().toTimestamp(),0);return e.put(pf.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(of.store).Nt().next(function(n){t.deleteObjectStore(of.store),t.createObjectStore(of.store,{keyPath:of.keyPath,autoIncrement:!0}).createIndex(of.userMutationsIndex,of.userMutationsKeyPath,{unique:!0});var r=e.store(of.store),i=n.map(function(t){return r.put(t)});return Ef.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(gf.store,{keyPath:gf.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(hf.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(lf.store);e.createIndex(lf.readTimeIndex,lf.readTimeIndexPath,{unique:!1}),e.createIndex(lf.collectionReadTimeIndex,lf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(yf.store,{keyPath:yf.keyPath})}(t),function(t){t.createObjectStore(vf.store,{keyPath:vf.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(lf.store).$t(function(t,n){e+=sp(n)}).next(function(){var n=new hf(e);return t.store(hf.store).put(hf.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(sf.store),r=t.store(of.store);return n.Nt().next(function(n){return Ef.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(of.userMutationsIndex,i).next(function(r){return Ef.forEach(r,function(r){Mc(r.userId===n.userId);var i=zf(e.R,r);return ip(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(ff.store),n=t.store(lf.store);return t.store(pf.store).get(pf.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new Yc(n),o=function(t){return[0,Jd(t)]}(s);r.push(e.get(o).next(function(n){return n?Ef.resolve():function(n){return e.put(new ff(0,Jd(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Ef.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(mf.store,{keyPath:mf.keyPath});var n=e.store(mf.store),r=new Xf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Jd(i)})}};return e.store(lf.store).$t({Ft:!0},function(t,e){var n=new Yc(t);return i(n.popLast())}).next(function(){return e.store(af.store).$t({Ft:!0},function(t,e){var n=ef(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(df.store);return n.$t(function(t,r){var i=$f(r),s=Kf(e.R,i);return n.put(s)})},t}();function Rp(t){t.createObjectStore(ff.store,{keyPath:ff.keyPath}).createIndex(ff.documentTargetsIndex,ff.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(df.store,{keyPath:df.keyPath}).createIndex(df.queryTargetsIndexName,df.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(pf.store)}var Np="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jp=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ac(xc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wp(this,i),this.Le=n+"main",this.R=new Lf(u),this.Be=new Of(this.Le,11,new kp(this.R)),this.qe=new dp(this.referenceDelegate,this.R),this.Ut=new tp,this.Ue=function(t,e){return new Op(t,e)}(this.R,this.Ut),this.Ke=new Qf,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&jc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ac(xc.FAILED_PRECONDITION,Np);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ic(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(gs.b)(e,void 0,void 0,function(){return Object(gs.e)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(gs.b)(e,void 0,void 0,function(){return Object(gs.e)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(gs.b)(e,void 0,void 0,function(){return Object(gs.e)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Pp(e).put(new gf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(xf(e))return Nc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Nc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Dp(t).get(rf.key).next(function(t){return Ef.resolve(e.tn(t))})},t.prototype.en=function(t){return Pp(t).delete(this.clientId)},t.prototype.nn=function(){return Object(gs.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(gs.e)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Df(t,gf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ef.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ef.resolve(!0):Dp(t).get(rf.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ac(xc.FAILED_PRECONDITION,Np);return!1}}return!(!e.networkEnabled||!e.inForeground)||Pp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Nc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(gs.b)(this,void 0,void 0,function(){var t=this;return Object(gs.e)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[rf.store,gf.store],function(e){var n=new jf(e,Ic.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Pp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return op.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Nc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",bf,function(s){return r=new jf(s,i.Ne?i.Ne.next():Ic.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw jc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ac(xc.FAILED_PRECONDITION,_f);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Dp(t).get(rf.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ac(xc.FAILED_PRECONDITION,Np)})},t.prototype.Ze=function(t){var e=new rf(this.clientId,this.allowTabSynchronization,Date.now());return Dp(t).put(rf.key,e)},t.yt=function(){return Of.yt()},t.prototype.Xe=function(t){var e=this,n=Dp(t);return n.get(rf.key).next(function(t){return e.tn(t)?(Nc("IndexedDbPersistence","Releasing primary lease."),n.delete(rf.key)):Ef.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(jc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(ys.q)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Nc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return jc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){jc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Dp(t){return Df(t,rf.store)}function Pp(t){return Df(t,gf.store)}function Fp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Mp=function(t,e){this.progress=t,this.wn=e},Lp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return hl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):nh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new hl(e)).next(function(t){var e=rd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=rd();return this.Ut.getCollectionParents(t,i).next(function(o){return Ef.forEach(o,function(o){var a=function(t,e){return new Ql(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=xl.newInvalidDocument(c),r=r.insert(c,l)),jh(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){ch(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=ad(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Lh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Vp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ad(),i=ad(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Up=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(zc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Jl(e)||Xl(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Rc()<=vs.a.DEBUG&&Nc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),uh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Jh(lh(t));return e.forEach(function(e,r){ch(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Rc()<=vs.a.DEBUG&&Nc("QueryEngine","Using full collection scan to execute query:",uh(e)),this.Sn.getDocumentsMatchingQuery(t,e,zc.min())},t}(),qp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Qh(qc),this.Fn=new Ep(function(t){return Rl(t)},Nl),this.$n=zc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Lp(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function Bp(t,e,n,r){return new qp(t,e,n,r)}function Hp(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(gs.e)(this,function(o){switch(o.label){case 0:return n=Lc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new Lp(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=ad(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Wp(t,e){var n=Lc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Ef.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);Mc(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function zp(t){var e=Lc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function $p(t,e){var n=Lc(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return Mc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=ed();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Kp(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(zc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Ef.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function Kp(t,e,n,r,i){var s=ad();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=ed();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(zc.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):Nc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Gp(t,e){var n=Lc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Qp(t,e){var n=Lc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Ef.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Mf(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function Yp(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(gs.e)(this,function(a){switch(a.label){case 0:r=Lc(t),i=r.kn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!xf(o=a.sent()))throw o;return Nc("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function Zp(t,e,n){var r=Lc(t),i=zc.min(),s=ad();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Lc(t),i=r.Fn.get(n);return void 0!==i?Ef.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,ih(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:zc.min(),n?s:ad())}).next(function(t){return{documents:t,Bn:s}})})}function Jp(t,e){var n=Lc(t),r=Lc(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Xp(t){var e=Lc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Lc(t),i=ed(),s=qf(n),o=xp(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:lf.readTimeIndex,range:a},function(t,e){var n=Vf(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Bf(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function tm(t){return Object(gs.b)(this,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){return[2,(e=Lc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=xp(t),n=zc.min();return e.$t({index:lf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Bf(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function em(t,e,n,r){return Object(gs.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,d,f;return Object(gs.e)(this,function(p){switch(p.label){case 0:for(i=Lc(t),s=ad(),o=ed(),a=sd(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Qp(i,function(t){return ih(Zl(Yc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Kp(t,d,o,zc.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function nm(t,e,n){return void 0===n&&(n=ad()),Object(gs.b)(this,void 0,void 0,function(){var r,i;return Object(gs.e)(this,function(s){switch(s.label){case 0:return[4,Qp(t,ih(Gf(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Lc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Od(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ke.saveNamedQuery(t,e);var o=r.withResumeToken(tl.EMPTY_BYTE_STRING,s);return i.kn=i.kn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var rm=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ef.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Od(n.createTime)}),Ef.resolve()},t.prototype.getNamedQuery=function(t,e){return Ef.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Gf(t.bundledQuery),readTime:Od(t.readTime)}}(e)),Ef.resolve()},t}(),im=function(){function t(){this.Wn=new Jh(sm.Gn),this.zn=new Jh(sm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new sm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new sm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new hl(new Yc([])),r=new sm(n,t),i=new sm(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new hl(new Yc([])),n=new sm(e,t),r=new sm(e,t+1),i=ad();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new sm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),sm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return hl.comparator(t.key,e.key)||qc(t.ns,e.ns)},t.Hn=function(t,e){return qc(t.ns,e.ns)||hl.comparator(t.key,e.key)},t}(),om=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Jh(sm.Gn)}return t.prototype.checkEmpty=function(t){return Ef.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Pf(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new sm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ef.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Ef.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Ef.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ef.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ef.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new sm(e,0),i=new sm(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Ef.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Jh(qc);return e.forEach(function(t){var e=new sm(t,0),i=new sm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Ef.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;hl.isDocumentKey(i)||(i=i.child(""));var s=new sm(new hl(i),0),o=new Jh(qc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Ef.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Mc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ef.forEach(e.mutations,function(i){var s=new sm(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new sm(e,0),r=this.rs.firstAfterOrEqual(n);return Ef.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ef.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),am=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Qh(hl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ef.resolve(n?n.document.clone():xl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=ed();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():xl.newInvalidDocument(t))}),Ef.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=ed(),i=new hl(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||ch(e,u)&&(r=r.insert(u.key,u.clone()))}return Ef.resolve(r)},t.prototype.fs=function(t,e){return Ef.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new um(this)},t.prototype.getSize=function(t){return Ef.resolve(this.size)},t}(),um=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(gs.d)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Ef.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Cp),cm=function(){function t(t){this.persistence=t,this.ds=new Ep(function(t){return Rl(t)},Nl),this.lastRemoteSnapshotVersion=zc.min(),this.highestTargetId=0,this.ws=0,this._s=new im,this.targetCount=0,this.ys=hp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Ef.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ef.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ef.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ef.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ef.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new hp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ef.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ef.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ef.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ef.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Ef.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ef.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ef.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Ef.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ef.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ef.resolve(n)},t.prototype.containsKey=function(t,e){return Ef.resolve(this._s.containsKey(e))},t}(),lm=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ic(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new cm(this),this.Ut=new Jf,this.Ue=function(t,e){return new am(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Lf(e),this.Ke=new rm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new om(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Nc("MemoryPersistence","Starting transaction:",t);var i=new hm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Ef.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),hm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(gs.d)(e,t),e}(wf),dm=function(){function t(t){this.persistence=t,this.As=new im,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Fc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ef.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ef.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ef.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ef.forEach(this.vs,function(r){var i=hl.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ef.or([function(){return Ef.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),fm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function pm(t,e){return"firestore_clients_"+t+"_"+e}function mm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function gm(t,e){return"firestore_targets_"+t+"_"+e}fm.UNAUTHENTICATED=new fm(null),fm.GOOGLE_CREDENTIALS=new fm("google-credentials-uid"),fm.FIRST_PARTY=new fm("first-party-uid"),fm.MOCK_USER=new fm("mock-user");var ym=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Ac(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(jc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),vm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ac(i.error.code,i.error.message)),s?new t(e,i.state,r):(jc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=cd(),o=0;i&&o<r.activeTargetIds.length;++o)i=ll(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(jc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),_m=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(jc("SharedClientState","Failed to parse online state: "+e),null)},t}(),wm=function(){function t(){this.activeTargetIds=cd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Sm=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Qh(qc),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=pm(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new wm),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(gs.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(gs.e)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(pm(this.persistenceKey,r)))&&(s=bm.Vs(r,i))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(gm(this.persistenceKey,t));if(n){var r=vm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(gm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Nc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Nc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Nc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Nc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void jc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(gs.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(gs.e)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Ic.o;if(null!=t)try{var n=JSON.parse(t);Mc("number"==typeof n),e=n}catch(t){jc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ic.o&&this.sequenceNumberHandler(o);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new ym(this.currentUser,t,e,n),i=mm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=mm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=gm(this.persistenceKey,t),i=new vm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return bm.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return ym.Vs(new fm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return vm.Vs(r,e)},t.prototype.js=function(t){return _m.Vs(t)},t.prototype.ii=function(t){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Nc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=cd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Em=function(){function t(){this.li=new wm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new wm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Cm=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Om=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Nc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Nc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Tm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Im=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),xm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(gs.d)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,s){var o=new Tc;o.listenOnce(Sc.COMPLETE,function(){try{switch(o.getLastErrorCode()){case wc.NO_ERROR:var e=o.getResponseJson();Nc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case wc.TIMEOUT:Nc("Connection",'RPC "'+t+'" timed out'),s(new Ac(xc.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:var n=o.getStatus();if(Nc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(xc).indexOf(e)>=0?e:xc.UNKNOWN}(r.status);s(new Ac(a,r.message))}else s(new Ac(xc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ac(xc.UNAVAILABLE,"Connection failed."));break;default:Fc()}}finally{Nc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new gc,i=la(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Cc({})),this.ki(s.initMessageHeaders,e),Object(ys.n)()||Object(ys.p)()||Object(ys.l)()||Object(ys.m)()||Object(ys.r)()||Object(ys.k)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Nc("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Im({Ei:function(t){c?Nc("Connection","Not sending because WebChannel is closed:",t):(u||(Nc("Connection","Opening WebChannel transport."),a.open(),u=!0),Nc("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Oc.EventType.OPEN,function(){c||Nc("Connection","WebChannel transport opened.")}),h(a,Oc.EventType.CLOSE,function(){c||(c=!0,Nc("Connection","WebChannel transport closed"),l.Vi())}),h(a,Oc.EventType.ERROR,function(t){c||(c=!0,Dc("Connection","WebChannel transport errored:",t),l.Vi(new Ac(xc.UNAVAILABLE,"The operation could not be completed")))}),h(a,Oc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Mc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Nc("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Bh[t];if(void 0!==e)return Gh(e)}(i),o=r.message;void 0===s&&(s=xc.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Ac(s,o)),a.close()}else Nc("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Ec.STAT_EVENT,function(t){10===t.stat?Nc("Connection","Detected buffering proxy"):11===t.stat&&Nc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Nc("RestConnection","Sending: ",i,n);var s={};return this.ki(s,r),this.Fi(t,i,s,n).then(function(t){return Nc("RestConnection","Received: ",t),t},function(e){throw Dc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Tm[t]},t}());function Am(){return"undefined"!=typeof window?window:null}function km(){return"undefined"!=typeof document?document:null}function Rm(t){return new wd(t,!0)}var Nm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Nc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),jm=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Nm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===xc.RESOURCE_EXHAUSTED?(jc(e.toString()),jc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===xc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Ac(xc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(gs.b)(t,void 0,void 0,function(){return Object(gs.e)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Nc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Nc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Dm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(gs.d)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Fc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Mc(void 0===e||"string"==typeof e),tl.fromBase64String(e||"")):(Mc(void 0===e||e instanceof Uint8Array),tl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?xc.UNKNOWN:Gh(t.code);return new Ac(e,t.message||"")}(a);n=new pd(r,i,s,o||null)}else if("documentChange"in e){i=Ad(t,(r=e.documentChange).document.name),s=Od(r.document.updateTime);var a=new Tl({mapValue:{fields:r.document.fields}}),u=(o=xl.newFoundDocument(i,s,a),r.targetIds||[]);n=new dd(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Ad(t,(r=e.documentDelete).document),s=r.readTime?Od(r.readTime):zc.min(),a=xl.newNoDocument(i,s),n=new dd([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ad(t,(r=e.documentRemove).document),n=new dd([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Fc();var c=e.filter;i=new $h(r=c.count||0),n=new fd(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return zc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?zc.min():e.readTime?Od(e.readTime):zc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Nd(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=jl(r)?{documents:Ld(t,r)}:{query:Vd(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ed(t,e.resumeToken):e.snapshotVersion.compareTo(zc.min())>0&&(n.readTime=Sd(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Nd(this.R),e.removeTarget=t,this.cr(e)},e}(jm),Pm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(gs.d)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Mc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Mc(void 0!==e),t.map(function(t){return function(t,e){var n=Od(t.updateTime?t.updateTime:e);return n.isEqual(zc.min())&&(n=Od(e)),new xh(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Od(t.commitTime);return this.listener.Tr(n,e)}return Mc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Nd(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Fd(e.R,t)})};this.cr(n)},e}(jm),Fm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(gs.d)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ac(xc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===xc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ac(xc.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===xc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ac(xc.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Mm=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(jc(e),this.Vr=!1):Nc("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Lm=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(gs.b)(s,void 0,void 0,function(){return Object(gs.e)(this,function(t){switch(t.label){case 0:return Km(this)?(Nc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(gs.b)(this,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){switch(n.label){case 0:return(e=Lc(t)).Or.add(4),[4,Um(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Vm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Mm(n,r)};function Vm(t){return Object(gs.b)(this,void 0,void 0,function(){var e,n;return Object(gs.e)(this,function(r){switch(r.label){case 0:if(!Km(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Um(t){return Object(gs.b)(this,void 0,void 0,function(){var e,n;return Object(gs.e)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function qm(t,e){var n=Lc(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),$m(n)?zm(n):ug(n).er()&&Hm(n,e))}function Bm(t,e){var n=Lc(t),r=ug(n);n.$r.delete(e),r.er()&&Wm(n,e),0===n.$r.size&&(r.er()?r.ir():Km(n)&&n.Br.set("Unknown"))}function Hm(t,e){t.qr.U(e.targetId),ug(t).mr(e)}function Wm(t,e){t.qr.U(e),ug(t).yr(e)}function zm(t){t.qr=new gd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),ug(t).start(),t.Br.Sr()}function $m(t){return Km(t)&&!ug(t).tr()&&t.$r.size>0}function Km(t){return 0===Lc(t).Or.size}function Gm(t){t.qr=void 0}function Qm(t){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(e){return t.$r.forEach(function(e,n){Hm(t,e)}),[2]})})}function Ym(t,e){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(n){return Gm(t),$m(t)?(t.Br.Nr(e),zm(t)):t.Br.set("Unknown"),[2]})})}function Zm(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r,i,s;return Object(gs.e)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof pd&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(gs.e)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Nc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Jm(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof dd?t.qr.X(e):e instanceof fd?t.qr.rt(e):t.qr.et(e),n.isEqual(zc.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,zp(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(tl.EMPTY_BYTE_STRING,n.snapshotVersion)),Wm(t,e);var r=new Mf(n.target,e,1,n.sequenceNumber);Hm(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Nc("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Jm(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Jm(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r=this;return Object(gs.e)(this,function(i){switch(i.label){case 0:if(!xf(e))throw e;return t.Or.add(1),[4,Um(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return zp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(gs.b)(r,void 0,void 0,function(){return Object(gs.e)(this,function(e){switch(e.label){case 0:return Nc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Vm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Xm(t,e){return e().catch(function(n){return Jm(t,n,e)})}function tg(t){return Object(gs.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(gs.e)(this,function(o){switch(o.label){case 0:e=Lc(t),n=cg(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Km(t)&&t.Fr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Gp(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=cg(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Jm(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return eg(e)&&ng(e),[2]}})})}function eg(t){return Km(t)&&!cg(t).tr()&&t.Fr.length>0}function ng(t){cg(t).start()}function rg(t){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(e){return cg(t).Ar(),[2]})})}function ig(t){return Object(gs.b)(this,void 0,void 0,function(){var e,n,r;return Object(gs.e)(this,function(i){for(e=cg(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function sg(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r,i;return Object(gs.e)(this,function(s){switch(s.label){case 0:return r=t.Fr.shift(),i=Ff.from(r,e,n),[4,Xm(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,tg(t)];case 2:return s.sent(),[2]}})})}function og(t,e){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(n){switch(n.label){case 0:return e&&cg(t).pr?[4,function(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r;return Object(gs.e)(this,function(i){switch(i.label){case 0:return Kh(r=e.code)&&r!==xc.ABORTED?(n=t.Fr.shift(),cg(t).sr(),[4,Xm(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,tg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return eg(t)&&ng(t),[2]}})})}function ag(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n;return Object(gs.e)(this,function(r){switch(r.label){case 0:return n=Lc(t),e?(n.Or.delete(2),[4,Vm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Um(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ug(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Lc(t);return r.br(),new Dm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Qm.bind(null,t),Ri:Ym.bind(null,t),_r:Zm.bind(null,t)}),t.Mr.push(function(n){return Object(gs.b)(e,void 0,void 0,function(){return Object(gs.e)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),$m(t)?zm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Gm(t),e.label=3;case 3:return[2]}})})})),t.Ur}function cg(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Lc(t);return r.br(),new Pm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:rg.bind(null,t),Ri:og.bind(null,t),Ir:ig.bind(null,t),Tr:sg.bind(null,t)}),t.Mr.push(function(n){return Object(gs.b)(e,void 0,void 0,function(){return Object(gs.e)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,tg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Nc("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var lg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Sf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ac(xc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function hg(t,e){if(jc("AsyncQueue",e+": "+t),xf(t))return new Ac(xc.UNAVAILABLE,e+": "+t);throw t}var dg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||hl.comparator(e.key,n.key)}:function(t,e){return hl.comparator(t.key,e.key)},this.keyedMap=rd(),this.sortedSet=new Qh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),fg=function(){function t(){this.Qr=new Qh(hl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Fc():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),pg=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,dg.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),mg=function(){this.Wr=void 0,this.listeners=[]},gg=function(){this.queries=new Ep(function(t){return ah(t)},oh),this.onlineState="Unknown",this.Gr=new Set};function yg(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(gs.e)(this,function(c){switch(c.label){case 0:if(n=Lc(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new mg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=hg(a,"Initialization of query '"+uh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&wg(n),[2]}})})}function vg(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(gs.e)(this,function(a){return n=Lc(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function bg(t,e){for(var n=Lc(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&wg(n)}function _g(t,e,n){var r=Lc(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function wg(t){t.Gr.forEach(function(t){t.next()})}var Sg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new pg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=pg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Eg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Cg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ad(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Pd(this.R,t.document,!1):xl.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Od(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Cg(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||ad()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(gs.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(gs.e)(this,function(s){switch(s.label){case 0:return[4,em(this.localStore,new Cg(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,nm(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mp(Object.assign({},this.progress),t))]}})})}}();var Og=function(t){this.key=t},Tg=function(t){this.key=t},Ig=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ad(),this.mutatedKeys=ad(),this.lo=lh(t),this.fo=new dg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new fg,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=Jl(this.query)&&i.size===this.query.limit?i.last():null,c=Xl(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=ch(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Jl(this.query)||Xl(this.query))for(;o.size>this.query.limit;){var l=Jl(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new pg(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new fg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ad(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Tg(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Og(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ad();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return pg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),xg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ag=function(t){this.key=t,this.bo=!1},kg=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Ep(function(t){return ah(t)},oh),this.Vo=new Map,this.So=new Set,this.Do=new Qh(hl.comparator),this.Co=new Map,this.No=new im,this.xo={},this.ko=new Map,this.Fo=hp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Rg(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(gs.e)(this,function(a){switch(a.label){case 0:return n=oy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Qp(n.localStore,ih(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Ng(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&qm(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Ng(t,e,n,r){return Object(gs.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(gs.e)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(gs.b)(this,void 0,void 0,function(){var i,s,o;return Object(gs.e)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Zp(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(zg(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,Zp(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Ig(e,i.Bn),o=s._o(i.documents),a=hd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),zg(t,n,u.To),c=new xg(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function jg(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i;return Object(gs.e)(this,function(s){switch(s.label){case 0:return n=Lc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!oh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Yp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Bm(n.remoteStore,r.targetId),Hg(n,r.targetId)}).catch(gp)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Hg(n,r.targetId),[4,Yp(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Dg(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(gs.e)(this,function(a){switch(a.label){case 0:r=ay(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Lc(t),i=Wc.now(),s=e.reduce(function(t,e){return t.add(e.key)},ad());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Dh(c,n.get(c.key));null!=l&&o.push(new Lh(c.key,l,Il(l.value.mapValue),Ah.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Qh(qc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Gg(r,i.changes)];case 3:return a.sent(),[4,tg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=hg(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Pg(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r;return Object(gs.e)(this,function(i){switch(i.label){case 0:n=Lc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,$p(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Mc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Mc(r.bo):t.removedDocuments.size>0&&(Mc(r.bo),r.bo=!1))}),[4,Gg(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,gp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Fg(t,e,n){var r=Lc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Lc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&wg(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mg(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(gs.e)(this,function(c){switch(c.label){case 0:return(r=Lc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Qh(hl.comparator)).insert(s,xl.newNoDocument(s,zc.min())),a=ad().add(s),u=new ld(zc.min(),new Map,new Jh(qc),o,a),[4,Pg(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Kg(r),[3,4];case 2:return[4,Yp(r.localStore,e,!1).then(function(){return Hg(r,e,n)}).catch(gp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Lg(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i;return Object(gs.e)(this,function(s){switch(s.label){case 0:n=Lc(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Wp(n.localStore,e)];case 2:return i=s.sent(),Bg(n,r,null),qg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Gg(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,gp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Vg(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r,i;return Object(gs.e)(this,function(s){switch(s.label){case 0:r=Lc(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Lc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Mc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),Bg(r,e,n),qg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Gg(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,gp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Ug(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(gs.e)(this,function(a){switch(a.label){case 0:Km((n=Lc(t)).remoteStore)||Nc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Lc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return s=a.sent(),o=hg(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function qg(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function Bg(t,e,n){var r=Lc(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Hg(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Wg(t,e)})}function Wg(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Bm(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Kg(t))}function zg(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Og?(t.No.addReference(s.key,e),$g(t,s)):s instanceof Tg?(Nc("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Wg(t,s.key)):Fc()}}function $g(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Nc("SyncEngine","New document in limbo: "+n),t.So.add(r),Kg(t))}function Kg(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new hl(Yc.fromString(e)),r=t.Fo.next();t.Co.set(r,new Ag(n)),t.Do=t.Do.insert(n,r),qm(t.remoteStore,new Mf(ih(Zl(n.path)),r,2,Ic.o))}}function Gg(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(gs.e)(this,function(a){switch(a.label){case 0:return r=Lc(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Vp.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(gs.e)(this,function(l){switch(l.label){case 0:n=Lc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ef.forEach(e,function(e){return Ef.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Ef.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!xf(r=l.sent()))throw r;return Nc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.kn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Qg(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r;return Object(gs.e)(this,function(i){switch(i.label){case 0:return(n=Lc(t)).currentUser.isEqual(e)?[3,3]:(Nc("SyncEngine","User change. New user:",e.toKey()),[4,Hp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new Ac(xc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Gg(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Yg(t,e){var n=Lc(t),r=n.Co.get(e);if(r&&r.bo)return ad().add(r.key);var i=ad(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function Zg(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i;return Object(gs.e)(this,function(s){switch(s.label){case 0:return[4,Zp((n=Lc(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&zg(n,e.targetId,i.To),i)]}})})}function Jg(t){return Object(gs.b)(this,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){return[2,Xp((e=Lc(t)).localStore).then(function(t){return Gg(e,t)})]})})}function Xg(t,e,n,r){return Object(gs.b)(this,void 0,void 0,function(){var i,s;return Object(gs.e)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Lc(t),r=Lc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Ef.resolve(null)})})}((i=Lc(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,tg(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Bg(i,e,r||null),qg(i,e),function(t,e){Lc(Lc(t)._n).Gt(e)}(i.localStore,e)):Fc(),o.label=4;case 4:return[4,Gg(i,s)];case 5:return o.sent(),[3,7];case 6:Nc("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function ty(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(gs.e)(this,function(c){switch(c.label){case 0:return oy(n=Lc(t)),ay(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ey(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,ag(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)qm(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Hg(n,e),Yp(n.localStore,e,!0)}),Bm(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,ey(n,a)];case 5:return c.sent(),function(t){var e=Lc(t);e.Co.forEach(function(t,n){Bm(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Qh(hl.comparator)}(n),n.$o=!1,[4,ag(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ey(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(gs.e)(this,function(m){switch(m.label){case 0:n=Lc(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,Qp(n.localStore,ih(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Zg(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Jp(n.localStore,a)];case 8:return p=m.sent(),[4,Qp(n.localStore,p)];case 9:return u=m.sent(),[4,Ng(n,ny(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ny(t){return Yl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ry(t){var e=Lc(t);return Lc(Lc(e.localStore).persistence).fn()}function iy(t,e,n,r){return Object(gs.b)(this,void 0,void 0,function(){var i,s,o;return Object(gs.e)(this,function(a){switch(a.label){case 0:return(i=Lc(t)).$o?(Nc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Xp(i.localStore)];case 3:return s=a.sent(),o=ld.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Gg(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Yp(i.localStore,e,!0)];case 6:return a.sent(),Hg(i,e,r),[3,8];case 7:Fc(),a.label=8;case 8:return[2]}})})}function sy(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(gs.e)(this,function(d){switch(d.label){case 0:if(!(r=oy(t)).$o)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Nc("SyncEngine","Adding an already active target "+o),[3,5]):[4,Jp(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,Qp(r.localStore,a)];case 3:return u=d.sent(),[4,Ng(r,ny(a),u.targetId,!1)];case 4:d.sent(),qm(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(gs.e)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Yp(r.localStore,t,!1).then(function(){Bm(r.remoteStore,t),Hg(r,t)}).catch(gp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function oy(t){var e=Lc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mg.bind(null,e),e.vo._r=bg.bind(null,e.eventManager),e.vo.Mo=_g.bind(null,e.eventManager),e}function ay(t){var e=Lc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vg.bind(null,e),e}var uy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(e){switch(e.label){case 0:return this.R=Rm(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Bp(this.persistence,new Up,t.initialUser,this.R)},t.prototype.qo=function(t){return new lm(dm.bs,this.R)},t.prototype.Bo=function(t){return new Em},t.prototype.terminate=function(){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),cy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(gs.d)(e,t),e.prototype.initialize=function(e){return Object(gs.b)(this,void 0,void 0,function(){var n=this;return Object(gs.e)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,tm(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,ay(this.Qo.syncEngine)];case 4:return r.sent(),[4,tg(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return Bp(this.persistence,new Up,t.initialUser,this.R)},e.prototype.Uo=function(t){return new bp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Fp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rp.withCacheSize(this.cacheSizeBytes):rp.DEFAULT;return new jp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Am(),km(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Em},e}(uy),ly=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(gs.d)(e,t),e.prototype.initialize=function(e){return Object(gs.b)(this,void 0,void 0,function(){var n,r=this;return Object(gs.e)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Sm?(this.sharedClientState.syncEngine={ui:Xg.bind(null,n),ai:iy.bind(null,n),hi:sy.bind(null,n),fn:ry.bind(null,n),ci:Jg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(gs.b)(r,void 0,void 0,function(){return Object(gs.e)(this,function(e){switch(e.label){case 0:return[4,ty(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Am();if(!Sm.yt(e))throw new Ac(xc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Sm(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(cy),hy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n=this;return Object(gs.e)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Fg(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Qg.bind(null,this.syncEngine),[4,ag(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new gg},t.prototype.createDatastore=function(t){var e=Rm(t.databaseInfo.databaseId),n=new xm(t.databaseInfo);return function(t,e,n){return new Fm(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Fg(o.syncEngine,t,0)},s=Om.yt()?new Om:new Cm,new Lm(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new kg(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(gs.b)(this,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){switch(n.label){case 0:return e=Lc(t),Nc("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Um(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),dy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),fy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Sf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(gs.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(gs.e)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Eg(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(gs.b)(this,void 0,void 0,function(){var t,e;return Object(gs.e)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(gs.b)(this,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(gs.b)(this,void 0,void 0,function(){var t,e;return Object(gs.e)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(gs.b)(this,void 0,void 0,function(){var e,n=this;return Object(gs.e)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ac(xc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(gs.e)(this,function(u){switch(u.label){case 0:return n=Lc(t),r=Nd(n.R)+"/documents",i={documents:e.map(function(t){return xd(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Mc(!!e.found);var n=Ad(t,e.found.name),r=Od(e.found.updateTime),i=new Tl({mapValue:{fields:e.found.fields}});return xl.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Mc(!!e.missing),Mc(!!e.readTime);var n=Ad(t,e.missing),r=Od(e.readTime);return xl.newNoDocument(n,r)}(t,e):Fc()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Mc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Wh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(gs.b)(this,void 0,void 0,function(){var t,e=this;return Object(gs.e)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=hl.fromPath(n);e.mutations.push(new zh(r,e.precondition(r)))}),[4,function(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i;return Object(gs.e)(this,function(s){switch(s.label){case 0:return n=Lc(t),r=Nd(n.R)+"/documents",i={writes:e.map(function(t){return Fd(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Fc();e=zc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ac(xc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ah.updateTime(e):Ah.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(zc.min()))throw new Ac(xc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ah.updateTime(e)}return Ah.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),py=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Nm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(gs.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(gs.e)(this,function(r){return t=new fy(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ul(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Kh(e)}return!1},t}(),my=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=fm.UNAUTHENTICATED,this.clientId=Uc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(gs.b)(r,void 0,void 0,function(){return Object(gs.e)(this,function(e){switch(e.label){case 0:return Nc("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ac(xc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Sf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(gs.b)(t,void 0,void 0,function(){var t,n;return Object(gs.e)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=hg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function gy(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(gs.e)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Nc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(gs.b)(i,void 0,void 0,function(){return Object(gs.e)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Hp(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function yy(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r;return Object(gs.e)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,vy(t)];case 1:return n=i.sent(),Nc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(gs.b)(this,void 0,void 0,function(){var n,r;return Object(gs.e)(this,function(i){switch(i.label){case 0:return(n=Lc(t)).asyncQueue.verifyOperationInProgress(),Nc("RemoteStore","RemoteStore received new credentials"),r=Km(n),n.Or.add(3),[4,Um(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Vm(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function vy(t){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Nc("FirestoreClient","Using default OfflineComponentProvider"),[4,gy(t,new uy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function by(t){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Nc("FirestoreClient","Using default OnlineComponentProvider"),[4,yy(t,new hy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function _y(t){return vy(t).then(function(t){return t.persistence})}function wy(t){return vy(t).then(function(t){return t.localStore})}function Sy(t){return by(t).then(function(t){return t.remoteStore})}function Ey(t){return by(t).then(function(t){return t.syncEngine})}function Cy(t){return Object(gs.b)(this,void 0,void 0,function(){var e,n;return Object(gs.e)(this,function(r){switch(r.label){case 0:return[4,by(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Rg.bind(null,e.syncEngine),n.onUnlisten=jg.bind(null,e.syncEngine),n)]}})})}function Oy(t,e,n){var r=this;void 0===n&&(n={});var i=new Sf;return t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(r,void 0,void 0,function(){var r;return Object(gs.e)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new dy({next:function(s){e.enqueueAndForget(function(){return vg(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ac(xc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ac(xc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Sg(Zl(n.path),s,{includeMetadataChanges:!0,so:!0});return yg(t,o)},[4,Cy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Ty(t,e,n){var r=this;void 0===n&&(n={});var i=new Sf;return t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(r,void 0,void 0,function(){var r;return Object(gs.e)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new dy({next:function(n){e.enqueueAndForget(function(){return vg(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Ac(xc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Sg(n,s,{includeMetadataChanges:!0,so:!0});return yg(t,o)},[4,Cy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Iy=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},xy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ay=new Map,ky=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ry=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(fm.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ny=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),jy=function(){function t(t){var e=this;this.currentUser=fm.UNAUTHENTICATED,this.oc=new Sf,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Nc("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Nc("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Nc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Mc("string"==typeof n.accessToken),new ky(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(gs.b)(n,void 0,void 0,function(){return Object(gs.e)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Mc(null===t||"string"==typeof t),new fm(t)},t}(),Dy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=fm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Py=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Dy(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(fm.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Fy(t,e,n){if(!n)throw new Ac(xc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function My(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ac(xc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ly(t,e,n,r){if(!0===e&&!0===r)throw new Ac(xc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Vy(t){if(!hl.isDocumentKey(t))throw new Ac(xc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Uy(t){if(hl.isDocumentKey(t))throw new Ac(xc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function qy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Fc()}function By(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ac(xc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qy(t);throw new Ac(xc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Hy(t,e){if(e<=0)throw new Ac(xc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Wy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ac(xc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ac(xc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ly("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),zy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,t instanceof xy?(this._databaseId=t,this._credentials=new Ry):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ac(xc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xy(t.options.projectId)}(t),this._credentials=new jy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ac(xc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ac(xc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ry;switch(t.type){case"gapi":var e=t.client;return Mc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Py(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ac(xc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Ay.get(this))&&(Nc("ComponentProvider","Removing Datastore"),Ay.delete(this),t.terminate()),Promise.resolve();var t},t}(),$y=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Gy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ky=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Gy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Zl(r))||this)._path=r,i.type="collection",i}return Object(gs.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new $y(this.firestore,null,new hl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ky);function Qy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ys.h)(t),Fy("collection","path",e),t instanceof zy)return Uy(n=Yc.fromString.apply(Yc,Object(gs.h)([e],r))),new Gy(t,null,n);if(!(t instanceof $y||t instanceof Gy))throw new Ac(xc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Uy(n=Yc.fromString.apply(Yc,Object(gs.h)([t.path],r)).child(Yc.fromString(e))),new Gy(t.firestore,null,n)}function Yy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ys.h)(t),1===arguments.length&&(e=Uc.u()),Fy("doc","path",e),t instanceof zy)return Vy(n=Yc.fromString.apply(Yc,Object(gs.h)([e],r))),new $y(t,null,new hl(n));if(!(t instanceof $y||t instanceof Gy))throw new Ac(xc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vy(n=t._path.child(Yc.fromString.apply(Yc,Object(gs.h)([e],r)))),new $y(t.firestore,t instanceof Gy?t.converter:null,new hl(n))}function Zy(t,e){return t=Object(ys.h)(t),e=Object(ys.h)(e),(t instanceof $y||t instanceof Gy)&&(e instanceof $y||e instanceof Gy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Jy(t,e){return t=Object(ys.h)(t),e=Object(ys.h)(e),t instanceof Ky&&e instanceof Ky&&t.firestore===e.firestore&&oh(t._query,e._query)&&t.converter===e.converter}var Xy=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Nm(this,"async_queue_retry"),this.Ic=function(){var e=km();e&&Nc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=km();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=km();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Sf;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(gs.b)(this,void 0,void 0,function(){var t,e=this;return Object(gs.e)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!xf(t=n.sent()))throw t;return Nc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,jc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=lg.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Fc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(gs.b)(this,void 0,void 0,function(){var t;return Object(gs.e)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function tv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Sf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var ev=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Xy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(gs.d)(e,t),e.prototype._terminate=function(){return this._firestoreClient||rv(this),this._firestoreClient.terminate()},e}(zy);function nv(t){return t._firestoreClient||rv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Iy(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new my(t._credentials,t._queue,r)}function iv(t,e,n){var r=this,i=new Sf;return t.asyncQueue.enqueue(function(){return Object(gs.b)(r,void 0,void 0,function(){var r;return Object(gs.e)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,gy(t,n)];case 1:return s.sent(),[4,yy(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===xc.FAILED_PRECONDITION||t.code===xc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function sv(t){if(t._initialized||t._terminated)throw new Ac(xc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ov=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ac(xc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),av=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(tl.fromBase64String(e))}catch(e){throw new Ac(xc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(tl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),uv=function(t){this._methodName=t},cv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ac(xc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ac(xc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return qc(this._lat,t._lat)||qc(this._long,t._long)},t}(),lv=/^__.*__$/,hv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Lh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Mh(t,this.data,e,this.fieldTransforms)},t}(),dv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Lh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function fv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fc()}}var pv=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Dv(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(fv(this.Nc)&&lv.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),mv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Rm(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new pv({Nc:t,methodName:e,qc:n,path:Jc.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function gv(t){var e=t._freezeSettings(),n=Rm(t._databaseId);return new mv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yv(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Uc(s.merge||s.mergeFields?2:0,e,n,i);kv("Data must be an object, but it was:",o,r);var a,u,c=xv(r,o);if(s.merge)a=new Xc(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Rv(e,d[h],n);if(!o.contains(f))throw new Ac(xc.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Pv(l,f)||l.push(f)}a=new Xc(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new hv(new Tl(c),a,u)}var vv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gs.d)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(uv);function bv(t,e,n){return new pv({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var _v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gs.d)(e,t),e.prototype._toFieldTransform=function(t){return new Ih(t.path,new bh)},e.prototype.isEqual=function(t){return t instanceof e},e}(uv),wv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(gs.d)(e,t),e.prototype._toFieldTransform=function(t){var e=bv(this,t,!0),n=this.Kc.map(function(t){return Iv(t,e)}),r=new _h(n);return new Ih(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(uv),Sv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(gs.d)(e,t),e.prototype._toFieldTransform=function(t){var e=bv(this,t,!0),n=this.Kc.map(function(t){return Iv(t,e)}),r=new Sh(n);return new Ih(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(uv),Ev=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(gs.d)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ch(t.R,ph(t.R,this.Qc));return new Ih(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(uv);function Cv(t,e,n,r){var i=t.Uc(1,e,n);kv("Data must be an object, but it was:",i,r);var s=[],o=Tl.empty();Kc(r,function(t,r){var a=jv(e,t,n);r=Object(ys.h)(r);var u=i.Oc(a);if(r instanceof vv)s.push(a);else{var c=Iv(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Xc(s);return new dv(o,a,i.fieldTransforms)}function Ov(t,e,n,r,i,s){var o=t.Uc(1,e,n),a=[Rv(e,r,n)],u=[i];if(s.length%2!=0)throw new Ac(xc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Rv(e,s[c])),u.push(s[c+1]);for(var l=[],h=Tl.empty(),d=a.length-1;d>=0;--d)if(!Pv(l,a[d])){var f=a[d],p=u[d];p=Object(ys.h)(p);var m=o.Oc(f);if(p instanceof vv)l.push(f);else{var g=Iv(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new Xc(l);return new dv(h,y,o.fieldTransforms)}function Tv(t,e,n,r){return void 0===r&&(r=!1),Iv(n,t.Uc(r?4:3,e))}function Iv(t,e){if(Av(t=Object(ys.h)(t)))return kv("Unsupported field value:",e,t),xv(t,e);if(t instanceof uv)return function(t,e){if(!fv(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Iv(s[i],e.Mc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(ys.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ph(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Wc.fromDate(t);return{timestampValue:Sd(e.R,n)}}if(t instanceof Wc)return n=new Wc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Sd(e.R,n)};if(t instanceof cv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof av)return{bytesValue:Ed(e.R,t._byteString)};if(t instanceof $y){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Td(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+qy(t))}(t,e)}function xv(t,e){var n={};return Gc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kc(t,function(t,r){var i=Iv(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Av(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Wc||t instanceof cv||t instanceof av||t instanceof $y||t instanceof uv)}function kv(t,e,n){if(!Av(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=qy(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Rv(t,e,n){if((e=Object(ys.h)(e))instanceof ov)return e._internalPath;if("string"==typeof e)return jv(t,e);throw Dv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Nv=new RegExp("[~\\*/\\[\\]]");function jv(t,e,n){if(e.search(Nv)>=0)throw Dv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ov.bind.apply(ov,Object(gs.h)([void 0],e.split(".")))))._internalPath}catch(Pb){throw Dv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Dv(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Ac(xc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Pv(t,e){return t.some(function(t){return t.isEqual(e)})}var Fv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new $y(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Mv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Lv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Mv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gs.d)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Fv);function Lv(t,e){return"string"==typeof e?jv(t,e):e instanceof ov?e._internalPath:e._delegate._internalPath}var Vv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Uv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(gs.d)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new qv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Lv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Fv),qv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gs.d)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Uv),Bv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Vv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new qv(n._firestore,n._userDataWriter,r.key,r,new Vv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ac(xc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new qv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Vv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new qv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Vv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Hv(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Hv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fc()}}function Wv(t,e){return t instanceof Uv&&e instanceof Uv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Bv&&e instanceof Bv&&t._firestore===e._firestore&&Jy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function zv(t){if(Xl(t)&&0===t.explicitOrderBy.length)throw new Ac(xc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $v=function(){};function Kv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Gv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(gs.d)(e,t),e.prototype._apply=function(t){var e=gv(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ac(xc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){eb(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(tb(r,t,l[c]));a={arrayValue:{values:u}}}else a=tb(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||eb(o,s),a=Tv(n,"where",o,"in"===s||"not-in"===s);var h=Dl.create(i,s,a);return function(t,e){if(e.g()){var n=eh(t);if(null!==n&&!n.isEqual(e.field))throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=th(t);null!==r&&nb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ac(xc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ky(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}($v),Qv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(gs.d)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zl(e,n);return function(t,e){if(null===th(t)){var n=eh(t);null!==n&&nb(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Ky(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ql(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}($v),Yv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(gs.d)(e,t),e.prototype._apply=function(t){return new Ky(t.firestore,t.converter,sh(t._query,this.Hc,this.Jc))},e}($v),Zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(gs.d)(e,t),e.prototype._apply=function(t){var e=Xv(t,this.type,this.Yc,this.Xc);return new Ky(t.firestore,t.converter,function(t,e){return new Ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}($v),Jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(gs.d)(e,t),e.prototype._apply=function(t){var e=Xv(t,this.type,this.Yc,this.Xc);return new Ky(t.firestore,t.converter,function(t,e){return new Ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}($v);function Xv(t,e,n,r){if(n[0]=Object(ys.h)(n[0]),n[0]instanceof Fv)return function(t,e,n,r,i){if(!r)throw new Ac(xc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=rh(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(bl(e,r.key));else{var c=r.data.field(u.field);if(sl(c))throw new Ac(xc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Hl(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=gv(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Ac(xc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!nh(t)&&-1!==c.indexOf("/"))throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Yc.fromString(c));if(!hl.isDocumentKey(l))throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new hl(l);a.push(bl(e,h))}else{var d=Tv(n,r,c);a.push(d)}}return new Hl(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function tb(t,e,n){if("string"==typeof(n=Object(ys.h)(n))){if(""===n)throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!nh(e)&&-1!==n.indexOf("/"))throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Yc.fromString(n));if(!hl.isDocumentKey(r))throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bl(t,new hl(r))}if(n instanceof $y)return bl(t,n._key);throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qy(n)+".")}function eb(t,e){if(!Array.isArray(t)||0===t.length)throw new Ac(xc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ac(xc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function nb(t,e,n){if(!n.isEqual(e))throw new Ac(xc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var rb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),dl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(il(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Fc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Kc(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new cv(rl(t.latitude),rl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=ol(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(al(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=nl(t);return new Wc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Yc.fromString(t);Mc(Zd(n));var r=new xy(n.get(1),n.get(3)),i=new hl(n.popFirst(5));return r.isEqual(e)||jc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ib(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gs.d)(e,t),e.prototype.convertBytes=function(t){return new av(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new $y(this.firestore,null,e)},e}(rb),ob=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=gv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=ab(t,this._firestore),i=ib(r.converter,e,n),s=yv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ah.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=ab(t,this._firestore);return s="string"==typeof(e=Object(ys.h)(e))||e instanceof ov?Ov(this._dataReader,"WriteBatch.update",o._key,e,n,r):Cv(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Ah.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ab(t,this._firestore);return this._mutations=this._mutations.concat(new Wh(e._key,Ah.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ac(xc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ab(t,e){if((t=Object(ys.h)(t)).firestore!==e)throw new Ac(xc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ub=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gs.d)(e,t),e.prototype.convertBytes=function(t){return new av(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new $y(this.firestore,null,e)},e}(rb);function cb(t,e,n){t=By(t,$y);var r=By(t.firestore,ev),i=ib(t.converter,e,n);return db(r,[yv(gv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ah.none())])}function lb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=By(t,$y);var s=By(t.firestore,ev),o=gv(s);return db(s,[("string"==typeof(e=Object(ys.h)(e))||e instanceof ov?Ov(o,"updateDoc",t._key,e,n,r):Cv(o,"updateDoc",t._key,e)).toMutation(t._key,Ah.exists(!0))])}function hb(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(ys.h)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||tv(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(tv(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof $y)c=By(t.firestore,ev),l=Zl(t._key.path),u={next:function(e){i[a]&&i[a](fb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=By(t,Ky);c=By(f.firestore,ev),l=f._query;var p=new ub(c);u={next:function(t){i[a]&&i[a](new Bv(c,p,f,t))},error:i[a+1],complete:i[a+2]},zv(t._query)}return function(t,e,n,r){var i=this,s=new dy(r),o=new Sg(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(i,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){switch(n.label){case 0:return e=yg,[4,Cy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(i,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){switch(n.label){case 0:return e=vg,[4,Cy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(nv(c),l,h,u)}function db(t,e){return function(t,e){var n=this,r=new Sf;return t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(n,void 0,void 0,function(){var n;return Object(gs.e)(this,function(i){switch(i.label){case 0:return n=Dg,[4,Ey(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(nv(t),e)}function fb(t,e,n){var r=n.docs.get(e._key),i=new ub(t);return new Uv(t,i,e._key,r,new Vv(n.hasPendingWrites,n.fromCache),e.converter)}var pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(gs.d)(e,t),e.prototype.get=function(e){var n=this,r=ab(e,this._firestore),i=new ub(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Uv(n._firestore,i,r._key,t._document,new Vv(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=gv(t)}return t.prototype.get=function(t){var e=this,n=ab(t,this._firestore),r=new sb(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Fc();var i=t[0];if(i.isFoundDocument())return new Fv(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Fv(e._firestore,r,n._key,null,n.converter);throw Fc()})},t.prototype.set=function(t,e,n){var r=ab(t,this._firestore),i=ib(r.converter,e,n),s=yv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=ab(t,this._firestore);return s="string"==typeof(e=Object(ys.h)(e))||e instanceof ov?Ov(this._dataReader,"Transaction.update",o._key,e,n,r):Cv(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=ab(t,this._firestore);return this._transaction.delete(e._key),this},t}());function mb(){if("undefined"==typeof Uint8Array)throw new Ac(xc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gb(){if("undefined"==typeof atob)throw new Ac(xc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return gb(),new t(av.fromBase64String(e))},t.fromUint8Array=function(e){return mb(),new t(av.fromUint8Array(e))},t.prototype.toBase64=function(){return gb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return mb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),vb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){sv(t=By(t,ev));var n=nv(t),r=t._freezeSettings(),i=new hy;return iv(n,i,new cy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){sv(t=By(t,ev));var e=nv(t),n=t._freezeSettings(),r=new hy;return iv(e,r,new ly(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ac(xc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Sf;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(gs.b)(e,void 0,void 0,function(){var e;return Object(gs.e)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(gs.b)(this,void 0,void 0,function(){return Object(gs.e)(this,function(e){switch(e.label){case 0:return Of.yt()?[4,Of.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Fp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),bb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof xy||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Dc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var s=(t=By(t,zy))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Dc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=fm.MOCK_USER;else{o=Object(ys.d)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ac(xc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new fm(u)}t._credentials=new Ny(new ky(o,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(gs.b)(e,void 0,void 0,function(){var e,n;return Object(gs.e)(this,function(r){switch(r.label){case 0:return[4,_y(t)];case 1:return e=r.sent(),[4,Sy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Lc(t);return e.Or.delete(0),Vm(e)}(n))]}})})})}(nv(By(this._delegate,ev)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(gs.b)(e,void 0,void 0,function(){var e,n;return Object(gs.e)(this,function(r){switch(r.label){case 0:return[4,_y(t)];case 1:return e=r.sent(),[4,Sy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(gs.b)(this,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){switch(n.label){case 0:return(e=Lc(t)).Or.add(0),[4,Um(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(nv(By(this._delegate,ev)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ly("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Sf;return t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(e,void 0,void 0,function(){var e;return Object(gs.e)(this,function(r){switch(r.label){case 0:return e=Ug,[4,Ey(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(nv(By(this._delegate,ev)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new dy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(n,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){switch(n.label){case 0:return e=function(t,e){Lc(t).Gr.add(e),e.next()},[4,Cy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(n,void 0,void 0,function(){var e;return Object(gs.e)(this,function(n){switch(n.label){case 0:return e=function(t,e){Lc(t).Gr.delete(e)},[4,Cy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(nv(t=By(t,ev)),tv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Ac(xc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new jb(this,Qy(this._delegate,t))}catch(t){throw Ob(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Cb(this,Yy(this._delegate,t))}catch(t){throw Ob(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new kb(this,function(t,e){if(t=By(t,zy),Fy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ac(xc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ky(t,null,function(t){return new Ql(Yc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Ob(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Sf;return t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(n,void 0,void 0,function(){var n;return Object(gs.e)(this,function(i){switch(i.label){case 0:return[4,function(t){return by(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new py(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(nv(t),function(n){return e(new pb(t,n))})}(this._delegate,function(n){return t(new wb(e,n))})},t.prototype.batch=function(){var t=this;return nv(this._delegate),new Sb(new ob(this._delegate,function(e){return db(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Ac(xc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ac(xc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),_b=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gs.d)(e,t),e.prototype.convertBytes=function(t){return new yb(new av(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Cb.eu(e,this.firestore,null)},e}(rb),wb=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new _b(t)}return t.prototype.get=function(t){var e=this,n=Db(t);return this._delegate.get(n).then(function(t){return new xb(e._firestore,new Uv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Db(t);return n?(My("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Db(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(gs.h)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Db(t);return this._delegate.delete(e),this},t}(),Sb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Db(t);return n?(My("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Db(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(gs.h)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Db(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Eb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new qv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ab(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new _b(e),n),i.set(n,s)),s},t}();Eb.su=new WeakMap;var Cb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _b(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Ac(xc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new $y(n._delegate,r,new hl(e)))},t.eu=function(e,n,r){return new t(n,new $y(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new jb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new jb(this.firestore,Qy(this._delegate,t))}catch(t){throw Ob(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(ys.h)(t))instanceof $y&&Zy(this._delegate,t)},t.prototype.set=function(t,e){e=My("DocumentReference.set",e);try{return e?cb(this._delegate,t,e):cb(this._delegate,t)}catch(t){throw Ob(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?lb(this._delegate,t):lb.apply(void 0,Object(gs.h)([this._delegate,t,e],n))}catch(t){throw Ob(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return db(By((t=this._delegate).firestore,ev),[new Wh(t._key,Ah.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tb(e),i=Ib(e,function(e){return new xb(t.firestore,new Uv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return hb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=By(t,$y);var e=By(t.firestore,ev),n=nv(e),r=new ub(e);return function(t,e){var n=this,r=new Sf;return t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(n,void 0,void 0,function(){var n;return Object(gs.e)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r,i;return Object(gs.e)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Lc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ac(xc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=hg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,wy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Uv(e,r,t._key,n,new Vv(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=By(t,$y);var e=By(t.firestore,ev);return Oy(nv(e),t._key,{source:"server"}).then(function(n){return fb(e,t,n)})}(this._delegate):function(t){t=By(t,$y);var e=By(t.firestore,ev);return Oy(nv(e),t._key).then(function(n){return fb(e,t,n)})}(this._delegate)).then(function(t){return new xb(e.firestore,new Uv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Eb.nu(this.firestore,e):null))},t}();function Ob(t,e,n){return t.message=t.message.replace(e,n),t}function Tb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!tv(r))return r}return{}}function Ib(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=tv(t[0])?t[0]:tv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var xb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Cb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Wv(this._delegate,t._delegate)},t}(),Ab=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gs.d)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(xb),kb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _b(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Kv(this._delegate,function(t,e,n){var r=e,i=Lv("where",t);return new Gv(i,r,n)}(e,n,r)))}catch(e){throw Ob(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Kv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Lv("orderBy",t);return new Qv(r,n)}(e,n)))}catch(e){throw Ob(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Kv(this._delegate,function(t){return Hy("limit",t),new Yv("limit",t,"F")}(e)))}catch(e){throw Ob(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Kv(this._delegate,function(t){return Hy("limitToLast",t),new Yv("limitToLast",t,"L")}(e)))}catch(e){throw Ob(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Kv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zv("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Ob(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Kv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zv("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Ob(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Kv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jv("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Ob(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Kv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jv("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Ob(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Jy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=By(t,Ky);var e=By(t.firestore,ev),n=nv(e),r=new ub(e);return function(t,e){var n=this,r=new Sf;return t.asyncQueue.enqueueAndForget(function(){return Object(gs.b)(n,void 0,void 0,function(){var n;return Object(gs.e)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(gs.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(gs.e)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Zp(t,e,!0)];case 1:return a=u.sent(),r=new Ig(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=hg(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,wy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Bv(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=By(t,Ky);var e=By(t.firestore,ev),n=nv(e),r=new ub(e);return Ty(n,t._query,{source:"server"}).then(function(n){return new Bv(e,r,t,n)})}(this._delegate):function(t){t=By(t,Ky);var e=By(t.firestore,ev),n=nv(e),r=new ub(e);return zv(t._query),Ty(n,t._query).then(function(n){return new Bv(e,r,t,n)})}(this._delegate)).then(function(t){return new Nb(e.firestore,new Bv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tb(e),i=Ib(e,function(e){return new Nb(t.firestore,new Bv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return hb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Eb.nu(this.firestore,e):null))},t}(),Rb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ab(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Nb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new kb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Ab(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Rb(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Ab(n._firestore,r))})},t.prototype.isEqual=function(t){return Wv(this._delegate,t._delegate)},t}(),jb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(gs.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Cb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Cb(this.firestore,void 0===t?Yy(this._delegate):Yy(this._delegate,t))}catch(t){throw Ob(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=By(t.firestore,ev),r=Yy(t),i=ib(t.converter,e);return db(n,[yv(gv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ah.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Cb(e.firestore,t)})},e.prototype.isEqual=function(t){return Zy(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Eb.nu(this.firestore,t):null))},e}(kb);function Db(t){return By(t,$y)}var Pb,Fb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(ov.bind.apply(ov,Object(gs.h)([void 0],t)))}return t.documentId=function(){return new t(Jc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(ys.h)(t))instanceof ov&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Mb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new _v("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new vv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Ev("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Lb=n("/6Yf"),Vb={Firestore:bb,GeoPoint:cv,Timestamp:Wc,Blob:yb,Transaction:wb,WriteBatch:Sb,DocumentReference:Cb,DocumentSnapshot:xb,Query:kb,QueryDocumentSnapshot:Ab,QuerySnapshot:Nb,CollectionReference:jb,FieldPath:Fb,FieldValue:Mb,setLogLevel:function(t){kc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Lb.a("firestore",function(t){return function(t,e){return new bb(t,new ev(t,e),new vb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Vb)))})(Pb=ms.a),Pb.registerVersion("@firebase/firestore","2.4.1");var Ub=n("VRyK"),qb=n("qgXg"),Bb=n("Ylt2");class Hb extends Ct.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Wb(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Ot.a;if(this.isStopped||this.hasError?s=Te.a.EMPTY:(this.observers.push(t),s=new Bb.a(this,t)),r&&t.add(t=new ds.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||qb.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Wb{constructor(t,e){this.time=t,this.value=e}}function zb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new Hb(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function $b(t,e){return e?Kt(()=>t,e):Kt(()=>t)}var Kb=n("tf+s");const Gb=new r.r("angularfire2.auth.use-emulator"),Qb=new r.r("angularfire2.auth.settings"),Yb=new r.r("angularfire2.auth.tenant-id"),Zb=new r.r("angularfire2.auth.langugage-code"),Jb=new r.r("angularfire2.auth.use-device-language"),Xb=new r.r("angularfire.auth.persistence");let t_=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new fs.d(i),d=Object(fs.h)(h),f=new Ct.a,p=Object(Et.a)(void 0).pipe(Object(ds.b)(h.outsideAngular),Kt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(zt.a)(()=>Object(fs.g)(t,i,e)),Object(zt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(fs.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),zb({bufferSize:1,refCount:!1}));if(B(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Et.a)(null);else{p.pipe(Ee()).subscribe();const t=p.pipe(Kt(t=>t.getRedirectResult().then(t=>t,()=>null)),d,zb({bufferSize:1,refCount:!1})),e=t=>new jt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Kt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Kt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe($b(n),Object(Kb.a)(h.outsideAngular),Object(ds.b)(h.insideAngular)),this.user=t.pipe($b(r),Object(Kb.a)(h.outsideAngular),Object(ds.b)(h.insideAngular)),this.idToken=this.user.pipe(Kt(t=>t?Object(St.a)(t.getIdToken()):Object(Et.a)(null))),this.idTokenResult=this.user.pipe(Kt(t=>t?Object(St.a)(t.getIdTokenResult()):Object(Et.a)(null))),this.credential=Object(Ub.a)(t,f,this.authState.pipe(ie(t=>!t))).pipe(Object(zt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Kb.a)(h.outsideAngular),Object(ds.b)(h.insideAngular))}return Object(fs.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(fs.c),r.Wb(fs.b,8),r.Wb(r.C),r.Wb(r.A),r.Wb(Gb,8),r.Wb(Qb,8),r.Wb(Yb,8),r.Wb(Zb,8),r.Wb(Jb,8),r.Wb(Xb,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(fs.c),r.Wb(fs.b,8),r.Wb(r.C),r.Wb(r.A),r.Wb(Gb,8),r.Wb(Qb,8),r.Wb(Yb,8),r.Wb(Zb,8),r.Wb(Jb,8),r.Wb(Xb,8))},token:t,providedIn:"any"}),t})();function e_(t,e){return function(t,e=os.b){return new jt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function n_(t,e){return e_(t,e).pipe(Object(zt.a)(t=>({payload:t,type:"query"})))}function r_(t,e){return n_(t,e).pipe(te(void 0),as(),Object(zt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function i_(t,e,n){return r_(t,n).pipe(ee((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return s_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return s_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return s_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new ls(void 0,void 0)),Object(zt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function s_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function o_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(fs.e)(t_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class a_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=r_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(zt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(te(void 0),as(),ie(([t,e])=>e.length>0||!t),Object(zt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ee((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=o_(t);return i_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return n_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(St.a)(this.query.get(t)).pipe(Object(ds.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new u_(this.ref.doc(t),this.afs)}}class u_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=p_(n,e);return new a_(r,i,this.afs)}snapshotChanges(){return e_(this.ref,this.afs.schedulers.outsideAngular).pipe(te(void 0),as(),Object(zt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(zt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(St.a)(this.ref.get(t)).pipe(Object(ds.b)(this.afs.schedulers.insideAngular))}}class c_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?r_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ie(t=>t.length>0),this.afs.keepUnstableUntilFirst):r_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ee((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=o_(t);return i_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return n_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(St.a)(this.query.get(t)).pipe(Object(ds.b)(this.afs.schedulers.insideAngular))}}const l_=new r.r("angularfire2.enableFirestorePersistence"),h_=new r.r("angularfire2.firestore.persistenceSettings"),d_=new r.r("angularfire2.firestore.settings"),f_=new r.r("angularfire2.firestore.use-emulator");function p_(t,e=(t=>t)){return{query:e(t),ref:t}}let m_=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new fs.d(s),this.keepUnstableUntilFirst=Object(fs.h)(this.schedulers);const c=Object(fs.g)(t,s,e);!ps.a.auth&&u&&Object(fs.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(fs.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!B(i)){const e=()=>{try{return Object(St.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Pb){return"undefined"!=typeof console&&console.warn(Pb),Object(Et.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Et.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=p_(n,e),s=this.schedulers.ngZone.run(()=>r);return new a_(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new c_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new u_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(fs.c),r.Wb(fs.b,8),r.Wb(l_,8),r.Wb(d_,8),r.Wb(r.C),r.Wb(r.A),r.Wb(h_,8),r.Wb(f_,8),r.Wb(Gb,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(fs.c),r.Wb(fs.b,8),r.Wb(l_,8),r.Wb(d_,8),r.Wb(r.C),r.Wb(r.A),r.Wb(h_,8),r.Wb(f_,8),r.Wb(Gb,8))},token:t,providedIn:"any"}),t})(),g_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:l_,useValue:!0},{provide:h_,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[m_]}),t})();const y_=(t,e)=>{if(void 0===e)return t;const n=Object.keys(e);return t.filter(t=>{return r=t,i=e,void 0===n.find(t=>r[t]!==i[t]);var r,i})};let v_=(()=>{class t{constructor(t){this._client=t}getAll(t){return this._client.collection("employees").valueChanges({idField:"id"}).pipe(Object(zt.a)(e=>y_(e,t)))}add(t){this._client.collection("employees").add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(m_))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const b_=new r.r("ADDS_EMPLOYEE_DTO");let __=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[v_,{provide:Zi,useExisting:v_},{provide:b_,useExisting:v_}],imports:[[g_]]}),t})(),w_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,Yi.forRoot(),__,gi.forChild([{path:"",component:is}]),ss]]}),t})(),S_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-about-us-page"]],decls:5,vars:0,consts:[[1,"container"],[1,"text-uppercase","fw-bolder","text-center"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"section"),r.Sb(2,"h1",1),r.sc(3,"Meet Our Team!"),r.Rb(),r.Nb(4,"lib-our-team"),r.Rb(),r.Rb())},directives:[rs],encapsulation:2,changeDetection:0}),t})(),E_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,ss,__,gi.forChild([{path:"",component:S_}])]]}),t})();const C_=["*"];function O_(t,e){1&t&&r.Ob(0)}function T_(t,e){if(1&t&&(r.Sb(0,"bar",3),r.ec(1),r.Rb()),2&t){const t=r.bc();r.gc("type",t.type)("value",t._value)("max",t.max)("animate",t.animate)("striped",t.striped)}}function I_(t,e){if(1&t&&(r.Sb(0,"bar",3),r.sc(1),r.Rb()),2&t){const t=e.$implicit,n=r.bc(2);r.gc("type",t.type)("value",t.value)("max",t.max||n.max)("animate",n.animate)("striped",n.striped),r.Bb(1),r.tc(t.label)}}function x_(t,e){if(1&t&&r.qc(0,I_,2,6,"bar",4),2&t){const t=r.bc();r.gc("ngForOf",t._values)}}let A_=(()=>{class t{constructor(t,e){this.el=t,this.renderer=e,this.max=100,this.value=0,this.animate=!1,this.striped=!1,this.type="info",this.percent=100}get isBs3(){return Ri()}ngOnChanges(t){var e;(t.value||t.max)&&(this.percent=Number(t.value.currentValue||0)/Number((null===(e=t.max)||void 0===e?void 0:e.currentValue)||this.max||100)*100),t.type&&this.applyTypeClasses()}applyTypeClasses(){if(this._prevType){const t=`bg-${this._prevType}`;this.renderer.removeClass(this.el.nativeElement,`progress-bar-${this._prevType}`),this.renderer.removeClass(this.el.nativeElement,t),this._prevType=void 0}if(this.type){const t=`bg-${this.type}`;this.renderer.addClass(this.el.nativeElement,`progress-bar-${this.type}`),this.renderer.addClass(this.el.nativeElement,t),this._prevType=this.type}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E))},t.\u0275cmp=r.Gb({type:t,selectors:[["bar"]],hostAttrs:["role","progressbar","aria-valuemin","0"],hostVars:15,hostBindings:function(t,e){2&t&&(r.Cb("aria-valuenow",e.value)("aria-valuetext",e.percent?e.percent.toFixed(0)+"%":"")("aria-valuemax",e.max),r.pc("height","100","%")("width",e.percent,"%"),r.Eb("progress-bar",!0)("progress-bar-animated",!e.isBs3&&e.animate)("progress-bar-striped",e.striped)("active",e.isBs3&&e.animate))},inputs:{max:"max",value:"value",animate:"animate",striped:"striped",type:"type"},features:[r.zb],ngContentSelectors:C_,decls:1,vars:0,template:function(t,e){1&t&&(r.fc(),r.ec(0))},encapsulation:2,changeDetection:0}),t})(),k_=(()=>{class t{constructor(){this.animate=!1,this.max=100}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),R_=(()=>{class t{constructor(t){this.max=100,this.animate=!1,this.striped=!1,this.isStacked=!1,this._value=0,Object.assign(this,t)}set value(t){this.isStacked=Array.isArray(t),"number"==typeof t?(this._value=t,this._values=void 0):(this._value=void 0,this._values=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(k_))},t.\u0275cmp=r.Gb({type:t,selectors:[["progressbar"]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Cb("max",e.max),r.Eb("progress",!0))},inputs:{max:"max",animate:"animate",striped:"striped",value:"value",type:"type"},ngContentSelectors:C_,decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["NotStacked",""],["Stacked",""],[3,"type","value","max","animate","striped"],[3,"type","value","max","animate","striped",4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(r.fc(),r.qc(0,O_,1,0,"ng-container",0),r.qc(1,T_,2,5,"ng-template",null,1,r.rc),r.qc(3,x_,1,1,"ng-template",null,2,r.rc)),2&t){const t=r.lc(2),n=r.lc(4);r.gc("ngIf",!e.isStacked)("ngIfThen",t)("ngIfElse",n)}},directives:[N,A_,k],styles:["[_nghost-%COMP%] {\n      width: 100%;\n      display: flex;\n    }"],changeDetection:0}),t})(),N_=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[q]]}),t})();var j_=n("n6bG");function D_(t,e,n,r){return Object(j_.a)(n)&&(r=n,n=void 0),r?D_(t,e,n).pipe(Object(zt.a)(t=>Object(xt.a)(t)?r(...t):r(t))):new jt.a(r=>{P_(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function P_(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)P_(t[s],e,n,r,i)}r.add(s)}var F_=n("3N8a");class M_ extends F_.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var L_=n("IjjT");class V_ extends L_.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const U_=new V_(M_);var q_=function(t){return t.top="top",t.bottom="bottom",t.left="left",t.right="right",t.auto="auto",t.end="right",t.start="left",t["top left"]="top left",t["top right"]="top right",t["right top"]="right top",t["right bottom"]="right bottom",t["bottom right"]="bottom right",t["bottom left"]="bottom left",t["left bottom"]="left bottom",t["left top"]="left top",t["top start"]="top left",t["top end"]="top right",t["end top"]="right top",t["end bottom"]="right bottom",t["bottom end"]="bottom right",t["bottom start"]="bottom left",t["start bottom"]="start bottom",t["start top"]="left top",t}({}),B_=function(t){return t.top="top",t.bottom="bottom",t.left="start",t.right="end",t.auto="auto",t.end="end",t.start="start",t["top left"]="top start",t["top right"]="top end",t["right top"]="end top",t["right bottom"]="end bottom",t["bottom right"]="bottom end",t["bottom left"]="bottom start",t["left bottom"]="start bottom",t["left top"]="start top",t["top start"]="top start",t["top end"]="top end",t["end top"]="end top",t["end bottom"]="end bottom",t["bottom end"]="bottom end",t["bottom start"]="bottom start",t["start bottom"]="start bottom",t["start top"]="start top",t}({});function H_(t,e){if(1!==t.nodeType)return[];const n=t.ownerDocument.defaultView,r=null==n?void 0:n.getComputedStyle(t,null);return e?r&&r[e]:r}const W_="undefined"!=typeof window&&"undefined"!=typeof document,z_=W_&&!(!window.MSInputMethodContext||!document.documentMode),$_=W_&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function K_(t){return 11===t?z_:10===t?$_:z_||$_}function G_(t){if(!t)return document.documentElement;const e=K_(10)?document.body:null;let n,r=null==t?void 0:t.offsetParent;for(;r===e&&t.nextElementSibling&&n!==t.nextElementSibling;)n=t.nextElementSibling,r=n.offsetParent;const i=r&&r.nodeName;return i&&"BODY"!==i&&"HTML"!==i?r&&-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===H_(r,"position")?G_(r):r:n?n.ownerDocument.documentElement:document.documentElement}function Q_(t){return null!==t.parentNode?Q_(t.parentNode):t}function Y_(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;const n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);const o=s.commonAncestorContainer;if(t!==o&&e!==o||r.contains(i))return function(t){const{nodeName:e}=t;return"BODY"!==e&&("HTML"===e||G_(t.firstElementChild)===t)}(o)?o:G_(o);const a=Q_(t);return a.host?Y_(a.host,e):Y_(t,Q_(e).host)}function Z_(t){if(!t||!t.parentElement||K_())return document.documentElement;let e=t.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===H_(e,"transform");)e=e.parentElement;return e||document.documentElement}function J_(t,e){const n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t[`border${n}Width`])+parseFloat(t[`border${r}Width`])}function X_(t,e,n,r){const i=n,s=r;return Math.max(e[`offset${t}`],e[`scroll${t}`],i[`client${t}`],i[`offset${t}`],i[`scroll${t}`],K_(10)?parseInt(i[`offset${t}`],10)+parseInt(s["margin"+("Height"===t?"Top":"Left")],10)+parseInt(s["margin"+("Height"===t?"Bottom":"Right")],10):0)}function tw(t){const e=t.body,n=t.documentElement,r=K_(10)?getComputedStyle(n):void 0;return{height:X_("Height",e,n,r),width:X_("Width",e,n,r)}}function ew(t,e="top"){const n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){const e=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||e)[n]}return t[n]}function nw(t){return Object.assign(Object.assign({},t),{right:(t.left||0)+t.width,bottom:(t.top||0)+t.height})}function rw(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function iw(t){const e=t.getBoundingClientRect();try{if(K_(10)){const n=ew(t,"top"),r=ew(t,"left");e&&rw(e.top)&&rw(e.left)&&rw(e.bottom)&&rw(e.right)&&(e.top+=n,e.left+=r,e.bottom+=n,e.right+=r)}}catch(Pb){return e}if(!(e&&rw(e.top)&&rw(e.left)&&rw(e.bottom)&&rw(e.right)))return e;const n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?tw(t.ownerDocument):void 0,i=(null==r?void 0:r.width)||t.clientWidth||rw(e.right)&&rw(n.left)&&e.right-n.left||0,s=(null==r?void 0:r.height)||t.clientHeight||rw(e.bottom)&&rw(n.top)&&e.bottom-n.top||0;let o=t.offsetWidth-i,a=t.offsetHeight-s;if(o||a){const e=H_(t);o-=J_(e,"x"),a-=J_(e,"y"),n.width-=o,n.height-=a}return nw(n)}function sw(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function ow(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:e,overflowX:n,overflowY:r}=H_(t);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(n))?t:ow(sw(t))}function aw(t,e,n=!1){var r,i,s,o,a,u;const c=K_(10),l="HTML"===e.nodeName,h=iw(t),d=iw(e),f=ow(t),p=H_(e),m=parseFloat(p.borderTopWidth),g=parseFloat(p.borderLeftWidth);n&&l&&(d.top=Math.max(null!==(r=d.top)&&void 0!==r?r:0,0),d.left=Math.max(null!==(i=d.left)&&void 0!==i?i:0,0));let y=nw({top:(null!==(s=h.top)&&void 0!==s?s:0)-(null!==(o=d.top)&&void 0!==o?o:0)-m,left:(null!==(a=h.left)&&void 0!==a?a:0)-(null!==(u=d.left)&&void 0!==u?u:0)-g,width:h.width,height:h.height});if(y.marginTop=0,y.marginLeft=0,!c&&l){const t=parseFloat(p.marginTop),e=parseFloat(p.marginLeft);rw(y.top)&&(y.top-=m-t),rw(y.bottom)&&(y.bottom-=m-t),rw(y.left)&&(y.left-=g-e),rw(y.right)&&(y.right-=g-e),y.marginTop=t,y.marginLeft=e}return(c&&!n?e.contains(f):e===f&&"BODY"!==f.nodeName)&&(y=function(t,e,n=!1){const r=ew(e,"top"),i=ew(e,"left"),s=n?-1:1;return rw(t.top)&&(t.top+=r*s),rw(t.bottom)&&(t.bottom+=r*s),rw(t.left)&&(t.left+=i*s),rw(t.right)&&(t.right+=i*s),t}(y,e)),y}function uw(t){const e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===H_(t,"position")||uw(sw(t)))}function cw(t,e,n=0,r,i=!1){let s={top:0,left:0};const o=i?Z_(t):Y_(t,e);if("viewport"===r)s=function(t,e=!1){const n=t.ownerDocument.documentElement,r=aw(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:ew(n),a=e?0:ew(n,"left");return nw({top:o-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:a-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:s})}(o,i);else{let n;"scrollParent"===r?(n=ow(sw(e)),"BODY"===n.nodeName&&(n=t.ownerDocument.documentElement)):n="window"===r?t.ownerDocument.documentElement:r;const a=aw(n,o,i);if(a&&"HTML"===n.nodeName&&!uw(o)){const{height:e,width:n}=tw(t.ownerDocument);rw(s.top)&&rw(a.top)&&rw(a.marginTop)&&(s.top+=a.top-a.marginTop),rw(s.top)&&(s.bottom=Number(e)+Number(a.top)),rw(s.left)&&rw(a.left)&&rw(a.marginLeft)&&(s.left+=a.left-a.marginLeft),rw(s.top)&&(s.right=Number(n)+Number(a.left))}else a&&(s=a)}return rw(s.left)&&(s.left+=n),rw(s.top)&&(s.top+=n),rw(s.right)&&(s.right-=n),rw(s.bottom)&&(s.bottom-=n),s}function lw({width:t,height:e}){return t*e}function hw(t,e,n,r,i=["top","bottom","right","left"],s="viewport",o=0){var a,u,c,l;if(-1===t.indexOf("auto"))return t;const h=cw(n,r,o,s),d={top:{width:null!==(a=h.width)&&void 0!==a?a:0,height:e.top&&h.top?e.top-h.top:0},right:{width:h.right&&e.right?h.right-e.right:0,height:null!==(u=h.height)&&void 0!==u?u:0},bottom:{width:null!==(c=h.width)&&void 0!==c?c:0,height:h.bottom&&e.bottom?h.bottom-e.bottom:0},left:{width:e.left&&h.left?e.left-h.left:0,height:null!==(l=h.height)&&void 0!==l?l:0}},f=Object.keys(d).map(t=>Object.assign(Object.assign({key:t},d[t]),{area:lw(d[t])})).sort((t,e)=>e.area-t.area);let p=f.filter(({width:t,height:e})=>t>=n.clientWidth&&e>=n.clientHeight);p=p.filter(t=>i.some(e=>e===t.key));const m=p.length>0?p[0].key:f[0].key,g=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${ji().isBs5?B_[m]:m}`),m+(g?`-${g}`:"")}const dw=(t,e=0)=>t?parseFloat(t):e;function fw(t){const e=t.ownerDocument.defaultView,n=null==e?void 0:e.getComputedStyle(t),r=dw(null==n?void 0:n.marginTop)+dw(null==n?void 0:n.marginBottom),i=dw(null==n?void 0:n.marginLeft)+dw(null==n?void 0:n.marginRight);return{width:Number(t.offsetWidth)+i,height:Number(t.offsetHeight)+r}}function pw(t,e,n){return aw(e,n?Z_(t):Y_(t,e),n)}function mw(t,e,n){var r,i,s;const o=n.split(" ")[0],a=fw(t),u={width:a.width,height:a.height},c=-1!==["right","left"].indexOf(o),l=c?"top":"left",h=c?"left":"top",d=c?"height":"width",f=c?"width":"height";return u[l]=(null!==(r=e[l])&&void 0!==r?r:0)+e[d]/2-a[d]/2,u[h]=o===h?(null!==(i=e[h])&&void 0!==i?i:0)-a[f]:null!==(s=e[function(t){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,t=>e[t])}(h)])&&void 0!==s?s:0,u}function gw(t,e){var n;return!!(null===(n=t.modifiers[e])||void 0===n?void 0:n.enabled)}const yw={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function vw(t,e){return!!ji().isBs5&&yw[e].includes(t)}function bw(t){return ji().isBs5?vw(t,"end")?"ms-2":vw(t,"start")?"me-2":vw(t,"top")?"mb-2":vw(t,"bottom")?"mt-2":"":""}function _w(t,e,n){t&&e&&Object.keys(e).forEach(r=>{let i="";var s;-1!==["width","height","top","right","bottom","left"].indexOf(r)&&""!==(s=e[r])&&!isNaN(parseFloat(s))&&isFinite(Number(s))&&(i="px"),n?n.setStyle(t,r,`${String(e[r])}${i}`):t.style[r]=String(e[r])+i})}function ww(t){var e,n,r,i,s,o;let a=t.offsets.target;const u=t.instance.target.querySelector(".arrow");if(!u)return t;const c=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),l=c?"height":"width",h=c?"Top":"Left",d=h.toLowerCase(),f=c?"left":"top",p=c?"bottom":"right",m=fw(u)[l],g=t.placement.split(" ")[1];(null!==(e=t.offsets.host[p])&&void 0!==e?e:0)-m<(null!==(n=a[d])&&void 0!==n?n:0)&&(a[d]-=(null!==(r=a[d])&&void 0!==r?r:0)-((null!==(i=t.offsets.host[p])&&void 0!==i?i:0)-m)),Number(t.offsets.host[d])+Number(m)>(null!==(s=a[p])&&void 0!==s?s:0)&&(a[d]+=Number(t.offsets.host[d])+Number(m)-Number(a[p])),a=nw(a);const y=H_(t.instance.target),v=parseFloat(y[`margin${h}`])||0,b=parseFloat(y[`border${h}Width`])||0;let _;if(g){const e=parseFloat(y.borderRadius)||0,n=Number(v+b+e);_=d===g?Number(t.offsets.host[d])+n:Number(t.offsets.host[d])+Number(t.offsets.host[l]-n)}else _=Number(t.offsets.host[d])+Number(t.offsets.host[l]/2-m/2);let w=_-(null!==(o=a[d])&&void 0!==o?o:0)-v-b;return w=Math.max(Math.min(a[l]-(m+5),w),0),t.offsets.arrow={[d]:Math.round(w),[f]:""},t.instance.arrow=u,t}function Sw(t){if(t.offsets.target=nw(t.offsets.target),!gw(t.options,"flip"))return t.offsets.target=Object.assign(Object.assign({},t.offsets.target),mw(t.instance.target,t.offsets.host,t.placement)),t;const e=cw(t.instance.target,t.instance.host,0,"viewport",!1);let n=t.placement.split(" ")[0],r=t.placement.split(" ")[1]||"";const i=hw("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),s=[n,i];return s.forEach((i,o)=>{var a,u,c,l,h,d,f,p,m,g,y,v,b,_,w,S;if(n!==i||s.length===o+1)return;n=t.placement.split(" ")[0];const E="left"===n&&Math.floor(null!==(a=t.offsets.target.right)&&void 0!==a?a:0)>Math.floor(null!==(u=t.offsets.host.left)&&void 0!==u?u:0)||"right"===n&&Math.floor(null!==(c=t.offsets.target.left)&&void 0!==c?c:0)<Math.floor(null!==(l=t.offsets.host.right)&&void 0!==l?l:0)||"top"===n&&Math.floor(null!==(h=t.offsets.target.bottom)&&void 0!==h?h:0)>Math.floor(null!==(d=t.offsets.host.top)&&void 0!==d?d:0)||"bottom"===n&&Math.floor(null!==(f=t.offsets.target.top)&&void 0!==f?f:0)<Math.floor(null!==(p=t.offsets.host.bottom)&&void 0!==p?p:0),C=Math.floor(null!==(m=t.offsets.target.left)&&void 0!==m?m:0)<Math.floor(null!==(g=e.left)&&void 0!==g?g:0),O=Math.floor(null!==(y=t.offsets.target.right)&&void 0!==y?y:0)>Math.floor(null!==(v=e.right)&&void 0!==v?v:0),T=Math.floor(null!==(b=t.offsets.target.top)&&void 0!==b?b:0)<Math.floor(null!==(_=e.top)&&void 0!==_?_:0),I=Math.floor(null!==(w=t.offsets.target.bottom)&&void 0!==w?w:0)>Math.floor(null!==(S=e.bottom)&&void 0!==S?S:0),x="left"===n&&C||"right"===n&&O||"top"===n&&T||"bottom"===n&&I,A=-1!==["top","bottom"].indexOf(n),k=A&&"left"===r&&C||A&&"right"===r&&O||!A&&"left"===r&&T||!A&&"right"===r&&I;(E||x||k)&&((E||x)&&(n=s[o+1]),k&&(r=function(t){return"right"===t?"left":"left"===t?"right":t}(r)),t.placement=n+(r?` ${r}`:""),t.offsets.target=Object.assign(Object.assign({},t.offsets.target),mw(t.instance.target,t.offsets.host,t.placement)))}),t}function Ew(t){var e;if(!gw(t.options,"preventOverflow"))return t;const n="transform",r=t.instance.target.style,{top:i,left:s,[n]:o}=r;r.top="",r.left="",r[n]="";const a=cw(t.instance.target,t.instance.host,0,(null===(e=t.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=s,r[n]=o;const u={primary(e){var n,r,i,s;let o=t.offsets.target[e];return(null!==(n=t.offsets.target[e])&&void 0!==n?n:0)<(null!==(r=a[e])&&void 0!==r?r:0)&&(o=Math.max(null!==(i=t.offsets.target[e])&&void 0!==i?i:0,null!==(s=a[e])&&void 0!==s?s:0)),{[e]:o}},secondary(e){var n,r,i,s,o,u,c,l;const h="right"===e?"left":"top";let d=t.offsets.target[h];return(null!==(n=t.offsets.target[e])&&void 0!==n?n:0)<(null!==(r=a[e])&&void 0!==r?r:0)&&"right"!==e&&(d=Math.min(null!==(i=t.offsets.target[h])&&void 0!==i?i:0,(null!==(s=a[e])&&void 0!==s?s:0)-t.offsets.target.height)),(null!==(o=t.offsets.target[e])&&void 0!==o?o:0)>(null!==(u=a[e])&&void 0!==u?u:0)&&"right"===e&&(d=Math.min(null!==(c=t.offsets.target[h])&&void 0!==c?c:0,(null!==(l=a[e])&&void 0!==l?l:0)-t.offsets.target.width)),{[h]:d}}};return["left","right","top","bottom"].forEach(e=>{const n=-1!==["left","top","start"].indexOf(e)?u.primary:u.secondary;t.offsets.target=Object.assign(Object.assign({},t.offsets.target),n(e))}),t}function Cw(t){var e;const n=t.placement,r=n.split(" ")[0],i=n.split(" ")[1];if(i){const{host:n,target:s}=t.offsets,o=-1!==["bottom","top"].indexOf(r),a=o?"left":"top",u=o?"width":"height",c={start:{[a]:n[a]},end:{[a]:(null!==(e=n[a])&&void 0!==e?e:0)+n[u]-s[u]}};t.offsets.target=Object.assign(Object.assign({},s),{[a]:a===i?c.start[a]:c.end[a]})}return t}const Ow=new class{position(t,e){return this.offset(t,e)}offset(t,e){return pw(e,t)}positionElements(t,e,n,r,i){const s=[Sw,Cw,Ew,ww],o=function(t,e,n,r){if(!t||!e)return;const i=pw(t,e);n.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)||n.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)||(n="auto");const s=!!n.match(/auto/g);let o=n.match(/auto\s(left|right|top|bottom|start|end)/)?n.split(" ")[1]||"auto":n;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=hw(o,i,t,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:t,host:e,arrow:void 0},offsets:{target:mw(t,i,o),host:i,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(e,t,q_[n],i);if(o)return s.reduce((t,e)=>e(t),o)}};let Tw=(()=>{class t{constructor(t,e,n){this.update$$=new Ct.a,this.positionElements=new Map,this.isDisabled=!1,function(t){return"browser"===t}(n)&&t.runOutsideAngular(()=>{this.triggerEvent$=Object(Ub.a)(D_(window,"scroll",{passive:!0}),D_(window,"resize",{passive:!0}),Object(Et.a)(0,U_),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(t=>{!function(t,e,n,r,i,s){const o=Ow.positionElements(t,e,n,r,i);if(!o)return;const a=function(t){var e,n,r,i;return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(null!==(e=t.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(n=t.offsets.target.top)&&void 0!==n?n:0),bottom:Math.round(null!==(r=t.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=t.offsets.target.right)&&void 0!==i?i:0)}}(o);_w(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&_w(o.instance.arrow,o.offsets.arrow,s),function(t,e){const n=t.instance.target;let r=n.className;const i=ji().isBs5?B_[t.placement]:t.placement;t.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+bw(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(n,"class",r):n.className=r}(o,s)}(Iw(t.target),Iw(t.element),t.attachment,t.appendToBody,this.options,e.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(Iw(t.element),t)}calcPosition(){this.update$$.next()}deletePositionElement(t){this.positionElements.delete(Iw(t))}setOptions(t){this.options=t}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.A),r.Wb(r.F),r.Wb(r.C))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(r.A),Object(r.Wb)(r.F),Object(r.Wb)(r.C))},token:t,providedIn:"root"}),t})();function Iw(t){return"string"==typeof t?document.querySelector(t):t instanceof r.l?t.nativeElement:null!=t?t:null}class xw{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class Aw{constructor(t,e,n,i,s,o,a,u){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=i,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=u,this.onBeforeShow=new r.n,this.onShown=new r.n,this.onBeforeHide=new r.n,this.onHidden=new r.n,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=r.s.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof r.l&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const t=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!t)return;t.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){var e,n,r;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const i=this._componentRef.location.nativeElement;return i.parentNode.removeChild(i),(null===(e=this._contentRef)||void 0===e?void 0:e.componentRef)&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&(null===(n=this._contentRef)||void 0===n?void 0:n.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),(null===(r=this._contentRef)||void 0===r?void 0:r.viewRef)&&this._contentRef.viewRef.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){var e;this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||(null===(e=this._elementRef)||void 0===e?void 0:e.nativeElement);const n=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),r=this._listenOpts.show=e=>{t.show?t.show(e):this.show(e),e()};return this._renderer&&(this._unregisterListenersFn=function(t,e){const n=Ii(e.triggers),r=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],s=[],o=()=>{s.forEach(t=>i.push(t())),s.length=0};return n.forEach(n=>{const a=n.open===n.close,u=a?e.toggle:e.show;if(!a&&n.close&&e.hide){const i=t.listen(r,n.close,e.hide);s.push(()=>i)}u&&i.push(t.listen(r,n.open,()=>u(o)))}),()=>{i.forEach(t=>t())}}(this._renderer,{target:t.target,triggers:t.triggers,show:r,hide:n,toggle:t=>{this.isShown?n():r(t)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,e){return t&&e&&(this._inlineViewRef=t.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{var e;this._renderer&&this._elementRef&&(this._globalListener=(e={targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}).outsideClick?this._renderer.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(e=>e.contains(t.target))||e.hide&&e.hide()}):Function.prototype)})}var t;this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(t={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}).outsideEsc?this._renderer.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide&&t.hide()}):Function.prototype)}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{var t;this._posService.position({element:null===(t=this._componentRef)||void 0===t?void 0:t.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,e,n){if(!t)return new xw([]);if(t instanceof r.L){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(t,e);return n.markForCheck(),new xw([n.rootNodes],n)}const n=t.createEmbeddedView({});return this._applicationRef.attachView(n),new xw([n.rootNodes],n)}if("function"==typeof t){const e=this._componentFactoryResolver.resolveComponentFactory(t),i=r.s.create({providers:this._providers,parent:this._injector}),s=e.create(i);return Object.assign(s.instance,n),this._applicationRef.attachView(s.hostView),new xw([[s.location.nativeElement]],s.hostView,s)}const i=this._renderer?[this._renderer.createText(`${t}`)]:[];return new xw([i])}}let kw=(()=>{class t{constructor(t,e,n,r,i){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=r,this._applicationRef=i}createLoader(t,e,n){return new Aw(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.j),r.Wb(r.A),r.Wb(r.s),r.Wb(Tw),r.Wb(r.g))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(r.j),Object(r.Wb)(r.A),Object(r.Wb)(r.o),Object(r.Wb)(Tw),Object(r.Wb)(r.g))},token:t,providedIn:"root"}),t})();class Rw{}const Nw="*";function jw(t,e=null){return{type:2,steps:t,options:e}}function Dw(t){return{type:6,styles:t,offset:null}}function Pw(t){Promise.resolve(null).then(t)}class Fw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Mw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Pw(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Lw=function(t){return{dropdown:t}},Vw=["*"];let Uw=(()=>{class t{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),qw=(()=>{class t{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new r.n,this.isDisabledChange=new r.n,this.toggleClick=new r.n,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Bw=[Dw({height:0,overflow:"hidden"}),function(t,e=null){return{type:4,styles:e,timings:t}}("220ms cubic-bezier(0, 0, 0.2, 1)",Dw({height:"*",overflow:"hidden"}))];let Hw=(()=>{class t{constructor(t,e,n,r,i){this._state=t,this.cd=e,this._renderer=n,this._element=r,this.isOpen=!1,this._factoryDropDownAnimation=i.build(Bw),this._subscription=t.isOpenChange.subscribe(t=>{this.isOpen=t;const e=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),e&&!Ri()&&(this._renderer.addClass(e,"show"),(e.classList.contains("dropdown-menu-right")||e.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(e,"left","auto"),this._renderer.setStyle(e,"right","0")),"up"===this.direction&&(this._renderer.setStyle(e,"top","auto"),this._renderer.setStyle(e,"transform","translateY(-101%)"))),e&&this._state.isAnimated&&this._factoryDropDownAnimation.create(e).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(qw),r.Mb(r.h),r.Mb(r.E),r.Mb(r.l),r.Mb(Rw))},t.\u0275cmp=r.Gb({type:t,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:Vw,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,e){1&t&&(r.fc(),r.Sb(0,"div",0),r.ec(1),r.Rb()),2&t&&(r.Eb("dropup","up"===e.direction)("show",e.isOpen)("open",e.isOpen),r.gc("ngClass",r.ic(7,Lw,"down"===e.direction)))},directives:[x],encapsulation:2,changeDetection:0}),t})(),Ww=(()=>{class t{constructor(t,e,n,r,i,s,o){this._elementRef=t,this._renderer=e,this._viewContainerRef=n,this._cis=r,this._state=i,this._config=s,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=o.build(Bw),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:qw,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!Ri()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(ie(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled)return this._showInline?(this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation()):void this._state.dropdownMenu.then(t=>{const e=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=e?"up":"down";const n=this.placement||(e?"top start":"bottom start");this._dropdown.attach(Hw).to(this.container).position({attachment:n}).show({content:t.templateRef,placement:n}),this._state.isOpenChange.emit(!0)}).catch()}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const e=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!e)return;const n=this._elementRef.nativeElement.ownerDocument.activeElement,r=e.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&r[--this._state.counts].focus();break;case 40:this._state.counts+1<r.length&&(n.classList!==r[this._state.counts].classList?r[this._state.counts].focus():r[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){Ri()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb(r.Q),r.Mb(kw),r.Mb(qw),r.Mb(Uw),r.Mb(Rw))},t.\u0275dir=r.Hb({type:t,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,e){1&t&&r.Zb("keydown.arrowDown",function(t){return e.navigationClick(t)})("keydown.arrowUp",function(t){return e.navigationClick(t)}),2&t&&r.Eb("dropup",e.dropup)("open",e.isOpen)("show",e.isOpen&&e.isBs4)},inputs:{dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen",placement:"placement",triggers:"triggers",container:"container"},outputs:{onShown:"onShown",onHidden:"onHidden",isOpenChange:"isOpenChange"},exportAs:["bs-dropdown"],features:[r.Ab([qw])]}),t})(),zw=(()=>{class t{constructor(t,e,n){t.resolveDropdownMenu({templateRef:n,viewContainer:e})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(qw),r.Mb(r.Q),r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),t})(),$w=(()=>{class t{constructor(t,e,n,r,i){this._changeDetectorRef=t,this._dropdown=e,this._element=n,this._renderer=r,this._state=i,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(t=>{this.isOpen=t,t?(this._documentClickListener=this._renderer.listen("document","click",t=>{!this._state.autoClose||2===t.button||this._element.nativeElement.contains(t.target)||this._state.insideClick&&this._dropdown._contains(t)||(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(t=>this.isDisabled=t||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),this.isDisabled||this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.h),r.Mb(Ww),r.Mb(r.l),r.Mb(r.E),r.Mb(qw))},t.\u0275dir=r.Hb({type:t,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,e){1&t&&r.Zb("click",function(t){return e.onClick(t)}),2&t&&r.Cb("aria-haspopup",!0)("aria-expanded",e.isOpen)("disabled",e.isDisabled)},exportAs:["bs-dropdown-toggle"]}),t})(),Kw=(()=>{class t{static forRoot(){return{ngModule:t,providers:[kw,Tw,qw]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[q]]}),t})();var Gw=n("Y7HM");function Qw(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Yw(t,e){if(1&t&&(r.Sb(0,"h3",3),r.sc(1),r.Rb()),2&t){const t=r.bc();r.Bb(1),r.tc(t.title)}}const Zw=["*"];let Jw=(()=>{class t{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="click",this.outsideClick=!1,this.delay=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Xw=(()=>{class t{constructor(t){this._placement="top",Object.assign(this,t)}set placement(t){this._placement=this._bsVersions.isBs5?B_[t]:t}get _bsVersions(){return ji()}checkMarginNecessity(){return bw(this._placement)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Jw))},t.\u0275cmp=r.Gb({type:t,selectors:[["popover-container"]],hostAttrs:["role","tooltip",2,"display","block"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Cb("id",e.popoverId),r.Db("popover in popover-"+e._placement+" bs-popover-"+e._placement+" "+e._placement+" "+e.containerClass+e.checkMarginNecessity()),r.Eb("show",!e._bsVersions.isBs3)("bs3",e._bsVersions.isBs3))},inputs:{placement:"placement",title:"title"},ngContentSelectors:Zw,decls:4,vars:1,consts:[[1,"popover-arrow","arrow"],["class","popover-title popover-header",4,"ngIf"],[1,"popover-content","popover-body"],[1,"popover-title","popover-header"]],template:function(t,e){1&t&&(r.fc(),r.Nb(0,"div",0),r.qc(1,Yw,2,1,"h3",1),r.Sb(2,"div",2),r.ec(3),r.Rb()),2&t&&(r.Bb(1),r.gc("ngIf",e.title))},directives:[N],styles:[".bs3.popover-top[_nghost-%COMP%] {\n      margin-bottom: 10px;\n    }\n    .bs3.popover.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\n      margin-left: -2px;\n    }\n    .bs3.popover.top[_nghost-%COMP%] {\n      margin-bottom: 10px;\n    }\n    .popover.bottom[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\n      margin-left: -4px;\n    }\n    .bs3.bs-popover-left[_nghost-%COMP%] {\n      margin-right: .5rem;\n    }\n    .bs3.bs-popover-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-popover-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{\n      margin: .3rem 0;\n    }"],changeDetection:0}),t})(),tS=0,eS=(()=>{class t{constructor(t,e,n,r,i,s){this._elementRef=e,this._renderer=n,this._positionService=s,this.popoverId=tS++,this.adaptivePosition=!0,this.placement="top",this.outsideClick=!1,this.triggers="click",this.containerClass="",this.delay=0,this._isInited=!1,this._popover=i.createLoader(e,r,n).provide({provide:Jw,useValue:t}),Object.assign(this,t),this.onShown=this._popover.onShown,this.onHidden=this._popover.onHidden,"undefined"!=typeof window&&e.nativeElement.addEventListener("click",function(){try{e.nativeElement.focus()}catch(t){return}})}get isOpen(){return this._popover.isShown}set isOpen(t){t?this.show():this.hide()}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`ngx-popover-${this.popoverId}`:void 0,this._ariaDescribedby?(this._popover.instance&&(this._popover.instance.popoverId=this._ariaDescribedby),this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby)):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}show(){if(this._popover.isShown||!this.popover||this._delayTimeoutId)return;this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition}}});const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._popover.attach(Xw).to(this.container).position({attachment:this.placement}).show({content:this.popover,context:this.popoverContext,placement:this.placement,title:this.popoverTitle,containerClass:this.containerClass}),!this.adaptivePosition&&this._popover._componentRef&&(this._positionService.calcPosition(),this._positionService.deletePositionElement(this._popover._componentRef.location)),this.isOpen=!0,this.setAriaDescribedBy()},e=()=>{this._popoverCancelShowFn&&this._popoverCancelShowFn()};if(this.delay){const n=function(t=0,e,n){let r=-1;return Object(Gw.a)(e)?r=Number(e)<1?1:Number(e):Object(It.a)(e)&&(n=e),Object(It.a)(n)||(n=os.a),new jt.a(e=>{const i=Object(Gw.a)(t)?t:+t-n.now();return n.schedule(Qw,i,{index:0,period:r,subscriber:e})})}(this.delay).subscribe(()=>{t(),e()});this.triggers&&Ii(this.triggers).forEach(t=>{t.close&&(this._popoverCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,t.close,()=>{n.unsubscribe(),e()}))})}else t()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this.isOpen&&(this._popover.hide(),this.setAriaDescribedBy(),this.isOpen=!1)}toggle(){if(this.isOpen)return this.hide();this.show()}ngOnInit(){this._isInited||(this._isInited=!0,this._popover.listen({triggers:this.triggers,outsideClick:this.outsideClick,show:()=>this.show(),hide:()=>this.hide()}))}ngOnDestroy(){this._popover.dispose()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Jw),r.Mb(r.l),r.Mb(r.E),r.Mb(r.Q),r.Mb(kw),r.Mb(Tw))},t.\u0275dir=r.Hb({type:t,selectors:[["","popover",""]],inputs:{adaptivePosition:"adaptivePosition",placement:"placement",outsideClick:"outsideClick",triggers:"triggers",containerClass:"containerClass",delay:"delay",isOpen:"isOpen",popover:"popover",popoverContext:"popoverContext",popoverTitle:"popoverTitle",container:"container"},outputs:{onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-popover"]}),t})(),nS=(()=>{class t{static forRoot(){return{ngModule:t,providers:[kw,Tw]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[q]]}),t})();function rS(t,e){1&t&&(r.Sb(0,"ul",95),r.Sb(1,"li",96),r.Sb(2,"a",29),r.sc(3,"Action"),r.Rb(),r.Rb(),r.Sb(4,"li",96),r.Sb(5,"a",29),r.sc(6,"Another action"),r.Rb(),r.Rb(),r.Sb(7,"li",96),r.Sb(8,"a",29),r.sc(9,"Something else here"),r.Rb(),r.Rb(),r.Nb(10,"li",97),r.Sb(11,"li",96),r.Sb(12,"a",29),r.sc(13,"Separated link"),r.Rb(),r.Rb(),r.Rb())}function iS(){return Object.assign(new k_,{animate:!0,striped:!0,max:150})}let sS=(()=>{class t{constructor(){this.serverCreationStatus="No Server Created!",this.allowNewServer=!1,setTimeout(()=>{this.allowNewServer=!0},2e3)}ngOnInit(){}onCreateServer(){this.serverCreationStatus="Server was created"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-components-tests-page"]],features:[r.Ab([{provide:k_,useFactory:iS}])],decls:193,vars:3,consts:[["dropdown","",1,"btn-group"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],["id","dropdown-basic","class","dropdown-menu","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],[1,"btn","btn-primary",3,"disabled","click"],["id","accordionFlushExample",1,"accordion","accordion-flush"],[1,"accordion-item"],["id","flush-headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOne","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","collapsed"],["id","flush-collapseOne","aria-labelledby","flush-headingOne","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],["id","flush-headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseTwo","aria-expanded","false","aria-controls","flush-collapseTwo",1,"accordion-button","collapsed"],["id","flush-collapseTwo","aria-labelledby","flush-headingTwo","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],["id","flush-headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseThree","aria-expanded","false","aria-controls","flush-collapseThree",1,"accordion-button","collapsed"],["id","flush-collapseThree","aria-labelledby","flush-headingThree","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],["role","alert",1,"alert","alert-primary"],[1,"badge","bg-secondary"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],["type","radio","name","btnradio","id","btnradio1","autocomplete","off","checked","",1,"btn-check"],["for","btnradio1",1,"btn","btn-outline-primary"],["type","radio","name","btnradio","id","btnradio2","autocomplete","off",1,"btn-check"],["for","btnradio2",1,"btn","btn-outline-primary"],["type","radio","name","btnradio","id","btnradio3","autocomplete","off",1,"btn-check"],["for","btnradio3",1,"btn","btn-outline-primary"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["href","#",1,"dropdown-item"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary"],["data-bs-toggle","offcanvas","href","#offcanvasExample","role","button","aria-controls","offcanvasExample",1,"btn","btn-primary"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasExample","aria-controls","offcanvasExample",1,"btn","btn-primary"],["tabindex","-1","id","offcanvasExample","aria-labelledby","offcanvasExampleLabel",1,"offcanvas","offcanvas-start"],[1,"offcanvas-header"],["id","offcanvasExampleLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body"],[1,"dropdown","mt-3"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"card"],["src","...","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["href","#",1,"btn","btn-primary"],["type","button","popover","Vivamus sagittis lacus vel augue laoreet rutrum faucibus.",1,"btn","btn-primary"],["type","button","popover","Vivamus sagittis lacus vel augue laoreet rutrum faucibus.","popoverTitle","Popover on right","placement","right",1,"btn","btn-default","btn-secondary"],["aria-hidden","true",1,"card"],[1,"card-title","placeholder-glow"],[1,"placeholder","col-6"],[1,"card-text","placeholder-glow"],[1,"placeholder","col-7"],[1,"placeholder","col-4"],[1,"placeholder","col-8"],["href","#","tabindex","-1",1,"btn","btn-primary","disabled","placeholder","col-6"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","77%"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","75%"],[1,"mb-2"],["type","danger",1,"progress-striped","active",3,"value"],[1,"text-start"],[1,"text-center"],[1,"text-end"],[1,"shadow-none","p-3","mb-5","bg-light","rounded"],[1,"shadow-sm","p-3","mb-5","bg-body","rounded"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"shadow-lg","p-3","mb-5","bg-body","rounded"],["type","button",1,"btn","btn-primary","position-relative"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-secondary"],[1,"visually-hidden"],[1,"opacity-100"],[1,"opacity-75"],[1,"opacity-50"],[1,"opacity-25"],[1,"float-sm-start"],[1,"float-md-start"],[1,"float-lg-start"],[1,"float-xl-start"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","email","id","exampleFormControlInput1","placeholder","name@example.com",1,"form-control"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","3",1,"form-control"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu"],["role","menuitem"],[1,"divider","dropdown-divider"]],template:function(t,e){1&t&&(r.Sb(0,"h1"),r.sc(1,"ComponentsTestsPage"),r.Rb(),r.Sb(2,"div",0),r.Sb(3,"button",1),r.sc(4," Button dropdown "),r.Nb(5,"span",2),r.Rb(),r.qc(6,rS,14,0,"ul",3),r.Rb(),r.Sb(7,"button",4),r.Zb("click",function(){return e.onCreateServer()}),r.sc(8,"Add Server"),r.Rb(),r.sc(9),r.Sb(10,"div",5),r.Sb(11,"div",6),r.Sb(12,"h2",7),r.Sb(13,"button",8),r.sc(14," Accordion Item #1 "),r.Rb(),r.Rb(),r.Sb(15,"div",9),r.Sb(16,"div",10),r.sc(17,"Placeholder content for this accordion, which is intended to demonstrate the "),r.Sb(18,"code"),r.sc(19,".accordion-flush"),r.Rb(),r.sc(20," class. This is the first item's accordion body."),r.Rb(),r.Rb(),r.Rb(),r.Sb(21,"div",6),r.Sb(22,"h2",11),r.Sb(23,"button",12),r.sc(24," Accordion Item #2 "),r.Rb(),r.Rb(),r.Sb(25,"div",13),r.Sb(26,"div",10),r.sc(27,"Placeholder content for this accordion, which is intended to demonstrate the "),r.Sb(28,"code"),r.sc(29,".accordion-flush"),r.Rb(),r.sc(30," class. This is the second item's accordion body. Let's imagine this being filled with some actual content."),r.Rb(),r.Rb(),r.Rb(),r.Sb(31,"div",6),r.Sb(32,"h2",14),r.Sb(33,"button",15),r.sc(34," Accordion Item #3 "),r.Rb(),r.Rb(),r.Sb(35,"div",16),r.Sb(36,"div",10),r.sc(37,"Placeholder content for this accordion, which is intended to demonstrate the "),r.Sb(38,"code"),r.sc(39,".accordion-flush"),r.Rb(),r.sc(40," class. This is the third item's accordion body. Nothing more exciting happening here in terms of content, but just filling up the space to make it look, at least at first glance, a bit more representative of how this would look in a real-world application."),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(41,"div",17),r.sc(42," A simple primary alert\u2014check it out! "),r.Rb(),r.Sb(43,"h1"),r.sc(44,"Example heading "),r.Sb(45,"span",18),r.sc(46,"New"),r.Rb(),r.Rb(),r.Sb(47,"div",19),r.Nb(48,"input",20),r.Sb(49,"label",21),r.sc(50,"Radio 1"),r.Rb(),r.Nb(51,"input",22),r.Sb(52,"label",23),r.sc(53,"Radio 2"),r.Rb(),r.Nb(54,"input",24),r.Sb(55,"label",25),r.sc(56,"Radio 3"),r.Rb(),r.Rb(),r.Sb(57,"div",26),r.Sb(58,"button",27),r.sc(59," Dropdown button "),r.Rb(),r.Sb(60,"ul",28),r.Sb(61,"li"),r.Sb(62,"a",29),r.sc(63,"Action"),r.Rb(),r.Rb(),r.Sb(64,"li"),r.Sb(65,"a",29),r.sc(66,"Another action"),r.Rb(),r.Rb(),r.Sb(67,"li"),r.Sb(68,"a",29),r.sc(69,"Something else here"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(70,"button",30),r.sc(71," Launch demo modal\n"),r.Rb(),r.Sb(72,"div",31),r.Sb(73,"div",32),r.Sb(74,"div",33),r.Sb(75,"div",34),r.Sb(76,"h5",35),r.sc(77,"Modal title"),r.Rb(),r.Nb(78,"button",36),r.Rb(),r.Sb(79,"div",37),r.sc(80," ... "),r.Rb(),r.Sb(81,"div",38),r.Sb(82,"button",39),r.sc(83,"Close"),r.Rb(),r.Sb(84,"button",40),r.sc(85,"Save changes"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(86,"a",41),r.sc(87," Link with href\n"),r.Rb(),r.Sb(88,"button",42),r.sc(89," Button with data-bs-target\n"),r.Rb(),r.Sb(90,"div",43),r.Sb(91,"div",44),r.Sb(92,"h5",45),r.sc(93,"Offcanvas"),r.Rb(),r.Nb(94,"button",46),r.Rb(),r.Sb(95,"div",47),r.Sb(96,"div"),r.sc(97," Some text as placeholder. In real life you can have the elements you have chosen. Like, text, images, lists, etc. "),r.Rb(),r.Sb(98,"div",48),r.Sb(99,"button",49),r.sc(100," Dropdown button "),r.Rb(),r.Sb(101,"ul",50),r.Sb(102,"li"),r.Sb(103,"a",29),r.sc(104,"Action"),r.Rb(),r.Rb(),r.Sb(105,"li"),r.Sb(106,"a",29),r.sc(107,"Another action"),r.Rb(),r.Rb(),r.Sb(108,"li"),r.Sb(109,"a",29),r.sc(110,"Something else here"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(111,"div",51),r.Nb(112,"img",52),r.Sb(113,"div",53),r.Sb(114,"h5",54),r.sc(115,"Card title"),r.Rb(),r.Sb(116,"p",55),r.sc(117,"Some quick example text to build on the card title and make up the bulk of the card's content."),r.Rb(),r.Sb(118,"a",56),r.sc(119,"Go somewhere"),r.Rb(),r.Rb(),r.Rb(),r.Sb(120,"button",57),r.sc(121," Live demo\n"),r.Rb(),r.Sb(122,"button",58),r.sc(123," Popover on right\n"),r.Rb(),r.Sb(124,"div",59),r.Nb(125,"img",52),r.Sb(126,"div",53),r.Sb(127,"h5",60),r.Nb(128,"span",61),r.Rb(),r.Sb(129,"p",62),r.Nb(130,"span",63),r.Nb(131,"span",64),r.Nb(132,"span",64),r.Nb(133,"span",61),r.Nb(134,"span",65),r.Rb(),r.Nb(135,"a",66),r.Rb(),r.Rb(),r.Sb(136,"div",67),r.Sb(137,"div",68),r.sc(138,"77%"),r.Rb(),r.Rb(),r.Sb(139,"div",67),r.Nb(140,"div",69),r.Rb(),r.Sb(141,"div",70),r.Sb(142,"progressbar",71),r.Sb(143,"i"),r.sc(144,"136 / 150"),r.Rb(),r.Rb(),r.Rb(),r.Sb(145,"p",72),r.sc(146,"Start aligned text on all viewport sizes."),r.Rb(),r.Sb(147,"p",73),r.sc(148,"Center aligned text on all viewport sizes."),r.Rb(),r.Sb(149,"p",74),r.sc(150,"End aligned text on all viewport sizes."),r.Rb(),r.Sb(151,"div",75),r.sc(152,"No shadow"),r.Rb(),r.Sb(153,"div",76),r.sc(154,"Small shadow"),r.Rb(),r.Sb(155,"div",77),r.sc(156,"Regular shadow"),r.Rb(),r.Sb(157,"div",78),r.sc(158,"Larger shadow"),r.Rb(),r.Sb(159,"button",79),r.sc(160," Mails "),r.Sb(161,"span",80),r.sc(162,"+99 "),r.Sb(163,"span",81),r.sc(164,"unread messages"),r.Rb(),r.Rb(),r.Rb(),r.Sb(165,"div",82),r.sc(166,"..."),r.Rb(),r.Sb(167,"div",83),r.sc(168,"..."),r.Rb(),r.Sb(169,"div",84),r.sc(170,"..."),r.Rb(),r.Sb(171,"div",85),r.sc(172,"..."),r.Rb(),r.Sb(173,"div",86),r.sc(174,"Float start on viewports sized SM (small) or wider"),r.Rb(),r.Nb(175,"br"),r.Sb(176,"div",87),r.sc(177,"Float start on viewports sized MD (medium) or wider"),r.Rb(),r.Nb(178,"br"),r.Sb(179,"div",88),r.sc(180,"Float start on viewports sized LG (large) or wider"),r.Rb(),r.Nb(181,"br"),r.Sb(182,"div",89),r.sc(183,"Float start on viewports sized XL (extra-large) or wider"),r.Rb(),r.Nb(184,"br"),r.Sb(185,"div",90),r.Sb(186,"label",91),r.sc(187,"Email address"),r.Rb(),r.Nb(188,"input",92),r.Rb(),r.Sb(189,"div",90),r.Sb(190,"label",93),r.sc(191,"Example textarea"),r.Rb(),r.Nb(192,"textarea",94),r.Rb()),2&t&&(r.Bb(7),r.gc("disabled",!e.allowNewServer),r.Bb(2),r.uc(" ",e.serverCreationStatus," "),r.Bb(133),r.gc("value",136))},directives:[Ww,$w,zw,eS,R_],encapsulation:2,changeDetection:0}),t})(),oS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,Kw.forRoot(),nS.forRoot(),N_.forRoot(),gi.forChild([{path:"",component:sS}])]]}),t})();const aS=function(t){return[t]};let uS=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.location=e,this.params$=this.activatedRoute.params,this.queryParams$=this.activatedRoute.queryParamMap}back(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Pn),r.Mb(w))},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-employee-detail"]],decls:18,vars:14,consts:[[1,"d-flex","justify-content-center"],[1,"card","col-5"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],["type","button",1,"btn","btn-primary","btn-lg","btn-block",3,"click"]],template:function(t,e){if(1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Nb(2,"img",2),r.cc(3,"async"),r.Sb(4,"div",3),r.Sb(5,"h5",4),r.sc(6),r.cc(7,"async"),r.Rb(),r.Sb(8,"p",5),r.Sb(9,"small",6),r.sc(10),r.cc(11,"async"),r.Rb(),r.Rb(),r.Sb(12,"p",5),r.Sb(13,"small",6),r.sc(14),r.cc(15,"async"),r.Rb(),r.Rb(),r.Rb(),r.Sb(16,"button",7),r.Zb("click",function(){return e.back()}),r.sc(17," Back "),r.Rb(),r.Rb(),r.Rb()),2&t){let t=null,n=null,i=null,s=null;r.Bb(2),r.gc("src",r.ic(12,aS,null==(t=r.dc(3,4,e.queryParams$))||null==t.params?null:t.params.image),r.nc),r.Bb(4),r.tc(null==(n=r.dc(7,6,e.params$))?null:n.name),r.Bb(4),r.uc("Department: ",null==(i=r.dc(11,8,e.queryParams$))||null==i.params?null:i.params.department,""),r.Bb(4),r.uc("Employee Count: ",null==(s=r.dc(15,10,e.queryParams$))||null==s.params?null:s.params.ecount,"")}},pipes:[U],encapsulation:2,changeDetection:0}),t})(),cS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-employee-details-page"]],decls:4,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Sb(0,"h1"),r.sc(1,"Employee Details"),r.Rb(),r.Sb(2,"div",0),r.Nb(3,"lib-employee-detail"),r.Rb())},directives:[uS],encapsulation:2,changeDetection:0}),t})(),lS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,gi]]}),t})(),hS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,gi.forChild([{path:"",component:cS}]),lS]]}),t})();class dS{constructor(t,e,n){this.name=t,this.description=e,this.imagePath=n}}const fS=function(){return["active"]},pS=function(){return{exact:!0}},mS=function(t){return[t]},gS=function(t,e,n){return{image:t,department:e,ecount:n}};function yS(t,e){if(1&t&&(r.Sb(0,"div",2),r.Sb(1,"div",3),r.Sb(2,"a",4),r.Nb(3,"img",5),r.Rb(),r.Sb(4,"div",6),r.Sb(5,"h5",7),r.sc(6),r.Rb(),r.Sb(7,"p",8),r.sc(8),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.Bb(2),r.gc("routerLinkActive",r.hc(8,fS))("routerLinkActiveOptions",r.hc(9,pS))("routerLink",r.ic(10,mS,"/pracownik/"+t.name))("queryParams",r.jc(12,gS,t.imageUrl,t.department.name,t.department.employeeCount)),r.Bb(1),r.gc("src",r.ic(16,mS,t.imageUrl),r.nc)("alt",r.ic(18,mS,t.name)),r.Bb(3),r.tc(t.name),r.Bb(2),r.tc(t.bio)}}let vS=(()=>{class t{constructor(t){this._getsAllEmployeeDto=t,this.employees$=this._getsAllEmployeeDto.getAll()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Zi))},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-employee-card-with-url"]],decls:4,vars:3,consts:[[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3"],["class","col mb-4",4,"ngFor","ngForOf"],[1,"col","mb-4"],[1,"card"],["aria-current","page",3,"routerLinkActive","routerLinkActiveOptions","routerLink","queryParams"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.qc(1,yS,9,20,"div",1),r.cc(2,"async"),r.Rb(),r.Nb(3,"ul")),2&t&&(r.Bb(1),r.gc("ngForOf",r.dc(2,1,e.employees$)))},directives:[k,ri,si],pipes:[U],encapsulation:2,changeDetection:0}),t})(),bS=(()=>{class t{constructor(){this.employees1=[new dS("Test","Test","Test"),new dS("Test","Test","Test")]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-employee-cards-page"]],decls:4,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Sb(0,"h1"),r.sc(1,"Employee Cards Page"),r.Rb(),r.Sb(2,"div",0),r.Nb(3,"lib-employee-card-with-url"),r.Rb())},directives:[vS],encapsulation:2,changeDetection:0}),t})(),_S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,gi,__]]}),t})(),wS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,gi.forChild([{path:"",component:bS}]),_S]]}),t})();var SS=n("XoHu");function ES(t,e){return new jt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(St.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class CS{}const OS=new r.r("NgValueAccessor"),TS={provide:OS,useExisting:Object(r.U)(()=>xS),multi:!0},IS=new r.r("CompositionEventMode");let xS=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(IS,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Zb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Ab([TS])]}),t})();const AS=new r.r("NgValidators"),kS=new r.r("NgAsyncValidators");function RS(t){return null!=t}function NS(t){const e=Object(r.sb)(t)?Object(St.a)(t):t;return Object(r.rb)(e),e}function jS(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function DS(t,e){return e.map(e=>e(t))}function PS(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function FS(t){return null!=t?function(t){if(!t)return null;const e=t.filter(RS);return 0==e.length?null:function(t){return jS(DS(t,e))}}(PS(t)):null}function MS(t){return null!=t?function(t){if(!t)return null;const e=t.filter(RS);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(xt.a)(e))return ES(e,null);if(Object(SS.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ES(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return ES(t=1===t.length&&Object(xt.a)(t[0])?t[0]:t,null).pipe(Object(zt.a)(t=>e(...t)))}return ES(t,null)}(DS(t,e).map(NS)).pipe(Object(zt.a)(jS))}}(PS(t)):null}function LS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function VS(t){return t._rawValidators}function US(t){return t._rawAsyncValidators}let qS=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=FS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=MS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),BS=(()=>{class t extends qS{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return HS(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.yb]}),t})();const HS=r.Ub(BS);class WS extends qS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zS{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let $S=(()=>{class t extends zS{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(WS,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})(),KS=(()=>{class t extends zS{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(BS,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})();function GS(t,e){return[...e.path,t]}function QS(t,e){JS(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&tE(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&tE(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function YS(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),XS(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ZS(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function JS(t,e,n){const r=VS(t);null!==e.validator?t.setValidators(LS(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=US(t);if(null!==e.asyncValidator?t.setAsyncValidators(LS(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ZS(e._rawValidators,n),ZS(e._rawAsyncValidators,n)}}function XS(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=VS(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=US(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};ZS(e._rawValidators,t),ZS(e._rawAsyncValidators,t)}return r}function tE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function eE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const nE="VALID",rE="INVALID",iE="PENDING",sE="DISABLED";function oE(t){return(lE(t)?t.validators:t)||null}function aE(t){return Array.isArray(t)?FS(t):t||null}function uE(t,e){return(lE(e)?e.asyncValidators:t)||null}function cE(t){return Array.isArray(t)?MS(t):t||null}function lE(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class hE{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=aE(this._rawValidators),this._composedAsyncValidatorFn=cE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===nE}get invalid(){return this.status===rE}get pending(){return this.status==iE}get disabled(){return this.status===sE}get enabled(){return this.status!==sE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=aE(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=cE(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=iE,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sE,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=nE,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==nE&&this.status!==iE||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sE:nE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=iE,this._hasOwnPendingAsyncValidator=!0;const e=NS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof fE?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof pE&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?sE:this.errors?rE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iE)?iE:this._anyControlsHaveStatus(rE)?rE:nE}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dE extends hE{constructor(t=null,e,n){super(oE(e),uE(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){eE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){eE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class fE extends hE{constructor(t,e,n){super(oE(e),uE(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof dE?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class pE extends hE{constructor(t,e,n){super(oE(e),uE(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof dE?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let mE=(()=>{class t extends BS{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return GS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(e){return gE(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.yb]}),t})();const gE=r.Ub(mE);let yE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),vE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const bE=new r.r("NgModelWithFormControlWarning"),_E={provide:BS,useExisting:Object(r.U)(()=>wE)};let wE=(()=>{class t extends BS{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(XS(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return QS(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){YS(t.control||null,t,!1),eE(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(YS(e||null,t),n instanceof dE&&(QS(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){JS(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return XS(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){JS(this.form,this,!1),this._oldForm&&XS(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(AS,10),r.Mb(kS,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Zb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([_E]),r.yb,r.zb]}),t})();const SE={provide:BS,useExisting:Object(r.U)(()=>EE)};let EE=(()=>{class t extends mE{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}_checkParentType(){TE(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(BS,13),r.Mb(AS,10),r.Mb(kS,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.Ab([SE]),r.yb]}),t})();const CE={provide:BS,useExisting:Object(r.U)(()=>OE)};let OE=(()=>{class t extends BS{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return GS(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){TE(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(BS,13),r.Mb(AS,10),r.Mb(kS,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.Ab([CE]),r.yb]}),t})();function TE(t){return!(t instanceof EE||t instanceof wE||t instanceof OE)}const IE={provide:WS,useExisting:Object(r.U)(()=>xE)};let xE=(()=>{class t extends WS{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===xS?n=t:Object.getPrototypeOf(t.constructor)===CS?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return GS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(BS,13),r.Mb(AS,10),r.Mb(kS,10),r.Mb(OS,10),r.Mb(bE,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Ab([IE]),r.yb,r.zb]}),t._ngModelWarningSentOnce=!1,t})();const AE={provide:OS,useExisting:Object(r.U)(()=>RE),multi:!0};function kE(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let RE=(()=>{class t extends CS{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=kE(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Ab([AE]),r.yb]}),t})(),NE=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(kE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb(RE,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const jE={provide:OS,useExisting:Object(r.U)(()=>PE),multi:!0};function DE(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let PE=(()=>{class t extends CS{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Ab([jE]),r.yb]}),t})(),FE=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(DE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(DE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb(PE,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),ME=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[vE]]}),t})(),LE=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:bE,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[ME]}),t})();function VE(t,e){if(1&t){const t=r.Tb();r.Sb(0,"button",2),r.Zb("click",function(){return r.mc(t),r.bc(2).close()}),r.Sb(1,"span",3),r.sc(2,"\xd7"),r.Rb(),r.Sb(3,"span",4),r.sc(4,"Close"),r.Rb(),r.Rb()}}function UE(t,e){if(1&t&&(r.Sb(0,"div",1),r.qc(1,VE,5,0,"ng-template",0),r.ec(2),r.Rb()),2&t){const t=r.bc();r.Db("alert alert-"+t.type),r.gc("ngClass",t.classes),r.Bb(1),r.gc("ngIf",t.dismissible)}}const qE=["*"];let BE=(()=>{class t{constructor(){this.type="warning",this.dismissible=!1,this.dismissOnTimeout=void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),HE=(()=>{class t{constructor(t,e){this.changeDetection=e,this.type="warning",this.dismissible=!1,this.isOpen=!0,this.onClose=new r.n,this.onClosed=new r.n,this.classes="",this.dismissibleChange=new r.n,Object.assign(this,t),this.dismissibleChange.subscribe(()=>{this.classes=this.dismissible?"alert-dismissible":"",this.changeDetection.markForCheck()})}ngOnInit(){this.dismissOnTimeout&&setTimeout(()=>this.close(),parseInt(this.dismissOnTimeout,10))}close(){this.isOpen&&(this.onClose.emit(this),this.isOpen=!1,this.changeDetection.markForCheck(),this.onClosed.emit(this))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(BE),r.Mb(r.h))},t.\u0275cmp=r.Gb({type:t,selectors:[["alert"],["bs-alert"]],inputs:{type:"type",dismissible:"dismissible",isOpen:"isOpen",dismissOnTimeout:"dismissOnTimeout"},outputs:{onClose:"onClose",onClosed:"onClosed"},ngContentSelectors:qE,decls:1,vars:1,consts:[[3,"ngIf"],["role","alert",3,"ngClass"],["type","button","aria-label","Close",1,"close","btn-close",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"sr-only","visually-hidden"]],template:function(t,e){1&t&&(r.fc(),r.qc(0,UE,3,4,"ng-template",0)),2&t&&r.gc("ngIf",e.isOpen)},directives:[N,x],encapsulation:2,changeDetection:0}),Object(gs.c)([Pi(),Object(gs.f)("design:type",Object)],t.prototype,"dismissible",void 0),t})(),WE=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[q]]}),t})();function zE(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"alert",14),r.Zb("onClosed",function(){r.mc(t);const n=e.$implicit;return r.bc().onClosed(n)}),r.sc(2),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit,n=r.bc();r.Bb(1),r.gc("type",t.type)("dismissible",!n.dismissible),r.Bb(1),r.tc(t.message)}}function $E(t,e){if(1&t&&(r.Sb(0,"option",15),r.sc(1),r.Rb()),2&t){const t=e.$implicit;r.gc("value",t.type),r.Bb(1),r.uc(" ",t.name," ")}}let KE=(()=>{class t{constructor(){this.alertTypeChange$=Object(Et.a)([{name:"Success",type:"success"},{name:"Info",type:"info"},{name:"Warning",type:"warning"},{name:"Danger",type:"danger"}]),this.messageForm=new fE({email:new dE,text:new dE,alertType:new dE})}onFormSubmited(t){this.alerts$=Object(Et.a)([{type:t.value.alertType,message:"This is Email:"+t.value.email+"and this is Text: \n"+t.value.text}]),console.log(t.getRawValue())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-contact-form"]],decls:21,vars:7,consts:[[4,"ngFor","ngForOf"],[1,"col-md-8","offset-md-2","mt-5"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["for","exampleFormControlTextarea1",1,"form-label"],["formControlName","text","rows","3",1,"form-control"],["formControlName","alertType","aria-label",".form-select-lg example",1,"form-select","form-select-lg","mb-3"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary"],[3,"type","dismissible","onClosed"],[3,"value"]],template:function(t,e){1&t&&(r.qc(0,zE,3,3,"div",0),r.cc(1,"async"),r.Sb(2,"div",1),r.Sb(3,"div",2),r.Sb(4,"h4",3),r.sc(5,"Contact Us"),r.Rb(),r.Sb(6,"div",4),r.Sb(7,"form",5),r.Zb("ngSubmit",function(){return e.onFormSubmited(e.messageForm)}),r.Sb(8,"div",6),r.Sb(9,"label",7),r.sc(10,"Email address"),r.Rb(),r.Nb(11,"input",8),r.Rb(),r.Sb(12,"div",6),r.Sb(13,"label",9),r.sc(14,"Your message"),r.Rb(),r.Nb(15,"textarea",10),r.Rb(),r.Sb(16,"select",11),r.qc(17,$E,2,2,"option",12),r.cc(18,"async"),r.Rb(),r.Sb(19,"button",13),r.sc(20,"Submit"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.gc("ngForOf",r.dc(1,3,e.alerts$)),r.Bb(7),r.gc("formGroup",e.messageForm),r.Bb(10),r.gc("ngForOf",r.dc(18,5,e.alertTypeChange$)))},directives:[k,yE,KS,wE,xS,$S,xE,RE,HE,NE,FE],pipes:[U],encapsulation:2,changeDetection:0}),t})(),GE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-contact-page"]],decls:4,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Sb(0,"h1"),r.sc(1,"Contact Page"),r.Rb(),r.Sb(2,"div",0),r.Nb(3,"lib-contact-form"),r.Rb())},directives:[KE],encapsulation:2,changeDetection:0}),t})(),QE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,LE,WE.forRoot()]]}),t})(),YE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,gi.forChild([{path:"",component:GE}]),QE]]}),t})();function ZE(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"alert",16),r.Zb("onClosed",function(){r.mc(t);const n=e.$implicit;return r.bc().onClosed(n)}),r.sc(2),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit;r.Bb(1),r.gc("type",t.type)("dismissOnTimeout",t.timeout),r.Bb(1),r.tc(t.msg)}}let JE=(()=>{class t{constructor(t){this._addsEmployeeDto=t,this.createEmployeeForm=new fE({name:new dE,bio:new dE,imageUrl:new dE,department:new fE({employeeCount:new dE,departmentName:new dE})}),this.alerts=[]}onFormSubmited(t){this.onEmployeesFormSubmited(),this.addAlert(this.createEmployeeForm.value.name)}onEmployeesFormSubmited(){this._addsEmployeeDto.add(this.createEmployeeForm.getRawValue())}addAlert(t){this.alerts.push({type:"success",msg:`Success you added ${t} to database!`,timeout:5e3})}onClosed(t){this.alerts=this.alerts.filter(e=>e!==t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(b_))},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-create-employee"]],decls:30,vars:2,consts:[[4,"ngFor","ngForOf"],[1,"col-md-8","offset-md-2","mt-5"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["type","text","formControlName","imageUrl","placeholder","Image Url",1,"form-control"],["for","exampleFormControlTextarea1",1,"form-label"],["formControlName","bio","rows","3",1,"form-control"],["formGroupName","department"],["type","text","formControlName","departmentName","placeholder","Department Name",1,"form-control"],["type","text","formControlName","employeeCount","placeholder","Employee Count",1,"form-control"],["type","submit",1,"btn","btn-primary"],[3,"type","dismissOnTimeout","onClosed"]],template:function(t,e){1&t&&(r.qc(0,ZE,3,3,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"h4",3),r.sc(4,"Create New Employee"),r.Rb(),r.Sb(5,"div",4),r.Sb(6,"form",5),r.Zb("ngSubmit",function(){return e.onFormSubmited(e.createEmployeeForm)}),r.Sb(7,"div",6),r.Sb(8,"label",7),r.sc(9,"Name"),r.Rb(),r.Nb(10,"input",8),r.Rb(),r.Sb(11,"div",6),r.Sb(12,"label",7),r.sc(13,"Image Url"),r.Rb(),r.Nb(14,"input",9),r.Rb(),r.Sb(15,"div",6),r.Sb(16,"label",10),r.sc(17,"Bio"),r.Rb(),r.Nb(18,"textarea",11),r.Rb(),r.Sb(19,"div",12),r.Sb(20,"div",6),r.Sb(21,"label",7),r.sc(22,"Department Name"),r.Rb(),r.Nb(23,"input",13),r.Rb(),r.Sb(24,"div",6),r.Sb(25,"label",7),r.sc(26,"Employee Count"),r.Rb(),r.Nb(27,"input",14),r.Rb(),r.Rb(),r.Sb(28,"button",15),r.sc(29,"Submit"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.gc("ngForOf",e.alerts),r.Bb(6),r.gc("formGroup",e.createEmployeeForm))},directives:[k,yE,KS,wE,xS,$S,xE,EE,HE],encapsulation:2,changeDetection:0}),t})(),XE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-admin-page"]],decls:3,vars:0,template:function(t,e){1&t&&(r.Sb(0,"h1"),r.sc(1,"AdminPage"),r.Rb(),r.Nb(2,"lib-create-employee"))},directives:[JE],encapsulation:2,changeDetection:0}),t})(),tC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,LE,WE.forRoot()]]}),t})(),eC=(()=>{class t{constructor(t){this._client=t}getAll(t){return this._client.collection("navigation").valueChanges({idField:"id"}).pipe(Object(zt.a)(e=>y_(e,t)))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(m_))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const nC=new r.r("GETS_ALL_NAVIGATION_DTO");let rC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[eC,{provide:nC,useExisting:eC}],imports:[[g_]]}),t})(),iC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,gi.forChild([{path:"",component:XE}]),tC,__,rC]]}),t})();const sC=[{path:"",loadChildren:()=>w_},{path:"o-nas",loadChildren:()=>E_},{path:"component-tests",loadChildren:()=>oS},{path:"pracownik/:name",loadChildren:()=>hS},{path:"pracownik",loadChildren:()=>wS},{path:"kontakt",loadChildren:()=>YE},{path:"admin",loadChildren:()=>iC}];let oC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[gi.forRoot(sC)],gi]}),t})();const aC=function(){return["active"]},uC=function(){return{exact:!0}};function cC(t,e){if(1&t&&(r.Sb(0,"li",11),r.Sb(1,"a",12),r.sc(2),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.gc("routerLinkActive",r.hc(4,aC))("routerLinkActiveOptions",r.hc(5,uC))("routerLink",t.link),r.Bb(1),r.tc(t.text)}}let lC=(()=>{class t{constructor(t){this._getsAllNavigationDto=t,this.navbar$=this._getsAllNavigationDto.getAll()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(nC))},t.\u0275cmp=r.Gb({type:t,selectors:[["lib-main-menu"]],decls:15,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar","navbar-dark","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","100px"],["class","nav-item",4,"ngFor","ngForOf"],[1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"],[1,"nav-item"],["aria-current","page",1,"nav-link",3,"routerLinkActive","routerLinkActiveOptions","routerLink"]],template:function(t,e){1&t&&(r.Sb(0,"nav",0),r.Sb(1,"div",1),r.Sb(2,"a",2),r.sc(3,"Navbar scroll"),r.Rb(),r.Sb(4,"button",3),r.Nb(5,"span",4),r.Rb(),r.Sb(6,"div",5),r.Sb(7,"ul",6),r.qc(8,cC,3,6,"li",7),r.cc(9,"async"),r.Rb(),r.Sb(10,"form",8),r.Nb(11,"input",9),r.Sb(12,"button",10),r.sc(13,"Search"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Nb(14,"ul")),2&t&&(r.Bb(8),r.gc("ngForOf",r.dc(9,1,e.navbar$)))},directives:[k,ri,si],pipes:[U],encapsulation:2,changeDetection:0}),t})(),hC=(()=>{class t{constructor(){this.title="todo-training"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Nb(0,"lib-main-menu"),r.Nb(1,"router-outlet"))},directives:[lC,oi],styles:[""]}),t})();function dC(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function fC(t){switch(t.length){case 0:return new Fw;case 1:return t[0];default:return new Mw(t)}}function pC(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Nw:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function mC(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&gC(n,"start",t)));break;case"done":t.onDone(()=>r(n&&gC(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&gC(n,"destroy",t)))}}function gC(t,e,n){const r=n.totalTime,i=yC(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function yC(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function vC(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function bC(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let _C=(t,e)=>!1,wC=(t,e)=>!1,SC=(t,e,n)=>[];const EC=dC();(EC||"undefined"!=typeof Element)&&(_C=(t,e)=>t.contains(e),wC=(()=>{if(EC||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):wC}})(),SC=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let CC=null,OC=!1;function TC(t){CC||(CC=("undefined"!=typeof document?document.body:null)||{},OC=!!CC.style&&"WebkitAppearance"in CC.style);let e=!0;return CC.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in CC.style,!e&&OC)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in CC.style),e}const IC=wC,xC=_C,AC=SC;function kC(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let RC=(()=>{class t{validateStyleProperty(t){return TC(t)}matchesElement(t,e){return IC(t,e)}containsElement(t,e){return xC(t,e)}query(t,e,n){return AC(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Fw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),NC=(()=>{class t{}return t.NOOP=new RC,t})();const jC="ng-enter",DC="ng-leave",PC="ng-trigger",FC=".ng-trigger",MC="ng-animating",LC=".ng-animating";function VC(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UC(parseFloat(e[1]),e[2])}function UC(t,e){switch(e){case"s":return 1e3*t;default:return t}}function qC(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=UC(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=UC(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function BC(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function HC(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else BC(t,n);return n}function WC(t,e,n){return n?e+":"+n+";":""}function zC(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=WC(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=WC(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function $C(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=tO(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),dC()&&zC(t))}function KC(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=tO(e);t.style[n]=""}),dC()&&zC(t))}function GC(t){return Array.isArray(t)?1==t.length?t[0]:jw(t):t}const QC=new RegExp("{{\\s*(.+?)\\s*}}","g");function YC(t){let e=[];if("string"==typeof t){let n;for(;n=QC.exec(t);)e.push(n[1]);QC.lastIndex=0}return e}function ZC(t,e,n){const r=t.toString(),i=r.replace(QC,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function JC(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const XC=/-+([a-z0-9])/g;function tO(t){return t.replace(XC,(...t)=>t[1].toUpperCase())}function eO(t,e){return 0===t||0===e}function nO(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=iO(t,e)})}}return e}function rO(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function iO(t,e){return window.getComputedStyle(t)[e]}const sO="*";function oO(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(cO(i,o)),"<"!=s[0]||i==sO&&o==sO||e.push(cO(o,i))}(t,n,e)):n.push(t),n}const aO=new Set(["true","1"]),uO=new Set(["false","0"]);function cO(t,e){const n=aO.has(t)||uO.has(t),r=aO.has(e)||uO.has(e);return(i,s)=>{let o=t==sO||t==i,a=e==sO||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?aO.has(t):uO.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?aO.has(e):uO.has(e)),o&&a}}const lO=new RegExp("s*:selfs*,?","g");function hO(t,e,n){return new dO(t).build(e,n)}class dO{constructor(t){this._driver=t}build(t,e){const n=new fO(e);return this._resetContextStyleTimingState(n),rO(this,GC(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(pO(t)){const e=t;Object.keys(e).forEach(t=>{YC(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=JC(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=rO(this,GC(t.animation),e);return{type:1,matchers:oO(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:mO(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>rO(this,t,e)),options:mO(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=rO(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:mO(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return gO(qC(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=gO(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||qC(r,e),gO(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Dw({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Dw(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Nw?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(pO(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=YC(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(pO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(pO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:rO(this,GC(t.animation),e),options:mO(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:mO(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:mO(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(lO,"")),[t=t.replace(/@\*/g,FC).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,LC),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,vC(e.collectedStyles,e.currentQuerySelector,{});const o=rO(this,GC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:mO(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:qC(t.timings,e.errors,!0);return{type:12,animation:rO(this,GC(t.animation),e),timings:n,options:null}}}class fO{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function pO(t){return!Array.isArray(t)&&"object"==typeof t}function mO(t){var e;return t?(t=BC(t)).params&&(t.params=(e=t.params)?BC(e):null):t={},t}function gO(t,e,n){return{duration:t,delay:e,easing:n}}function yO(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class vO{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bO=new RegExp(":enter","g"),_O=new RegExp(":leave","g");function wO(t,e,n,r,i,s={},o={},a,u,c=[]){return(new SO).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class SO{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new vO;const l=new CO(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),rO(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[yO(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?VC(n.duration):null,s=null!=n.delay?VC(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),rO(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=EO);const t=VC(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>rO(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?VC(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),rO(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return qC(e.params?ZC(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?VC(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=EO);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),rO(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;rO(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const EO={};class CO{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=EO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new OO(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=VC(n.duration)),null!=n.delay&&(r.delay=VC(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ZC(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new CO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=EO,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new TO(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(bO,"."+this._enterClassName)).replace(_O,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class OO{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new OO(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Nw,this._currentKeyframe[t]=Nw}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Nw})):HC(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=ZC(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Nw),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=HC(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Nw&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?JC(t.values()):[],s=e.size?JC(e.values()):[];if(n){const t=r[0],e=BC(t);t.offset=0,e.offset=1,r=[t,e]}return yO(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class TO extends OO{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=HC(t[0],!1);a.offset=0,i.push(a);const u=HC(t[0],!1);u.offset=IO(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=HC(t[r],!1);o.offset=IO((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return yO(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function IO(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class xO{}class AO extends xO{normalizePropertyName(t,e){return tO(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(kO[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const kO=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function RO(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const NO={};class jO{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||NO,d=this.buildStyles(n,o&&o.params||NO,l),f=a&&a.params||NO,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=c?[]:wO(t,e,this.ast.animation,i,s,d,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return RO(e,this._triggerName,n,r,v,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=vC(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=vC(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=JC(m.values());return RO(e,this._triggerName,n,r,v,d,p,_,S,g,y,w)}}class DO{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=BC(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=ZC(s,r,e)),n[t]=s})}}),n}}class PO{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new DO(t.style,t.options&&t.options.params||{})}),FO(this.states,"true","1"),FO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new jO(t,e,this.states))}),this.fallbackTransition=new jO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function FO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const MO=new vO;class LO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=hO(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=pC(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=wO(this._driver,e,i,jC,DC,{},{},n,MO,r),s.forEach(t=>{const e=vC(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Nw)})});const a=fC(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=yC(e,"","","");return mC(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const VO="ng-animate-queued",UO="ng-animate-disabled",qO=".ng-animate-disabled",BO=[],HO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},WO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class zO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=BC(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const $O="void",KO=new zO($O);class GO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,eT(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=vC(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=vC(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(eT(t,PC),eT(t,"ng-trigger-"+e),a[e]=KO),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new YO(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(eT(t,PC),eT(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new zO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=KO),u.value!==$O&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{KC(t,n),$C(t,r)})}return}const c=vC(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(eT(t,VO),s.onStart(()=>{nT(t,VO)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,FC,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,$O,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&fC(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||KO,a=new zO($O),u=new YO(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==HO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){eT(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=yC(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,mC(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class QO{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new GO(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(ZO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!ZO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),eT(t,UO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),nT(t,UO))}removeNode(t,e,n,r){if(ZO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return ZO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,FC,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,LC,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return fC(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=HO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,qO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,qO,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)eT(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?fC(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new vO,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=tT(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=jC+p++;f.set(e,n),t.forEach(t=>eT(t,n))});const m=[],g=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=tT(h,Array.from(g));b.forEach((t,e)=>{const n=DC+p++;v.set(e,n),t.forEach(t=>eT(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>nT(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>nT(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>KC(i,p.fromStyles)),e.onDestroy(()=>$C(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>KC(i,p.fromStyles)),e.onDestroy(()=>$C(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>vC(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{vC(S,e,[]).push(t),t.destroy()})});const C=m.filter(t=>sT(t,a,u)),O=new Map;XO(O,this.driver,y,u,Nw).forEach(t=>{sT(t,a,u)&&C.push(t)});const T=new Map;d.forEach((t,e)=>{XO(T,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=O.get(t),n=T.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>$C(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,T,O);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=fC(e)),r.push(s)}}else KC(e,o.fromStyles),s.onDestroy(()=>$C(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=fC(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(nT(t,DC),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,LC,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?rT(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==$O;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=vC(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}KC(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Fw(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return iT(t,e),e}((n.get(h)||BO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=pC(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new YO(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{vC(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>eT(t,MC));const d=fC(h);return d.onDestroy(()=>{c.forEach(t=>nT(t,MC)),$C(a,e.toStyles)}),l.forEach(t=>{vC(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Fw(t.duration,t.delay)}}class YO{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Fw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>mC(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){vC(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ZO(t){return t&&1===t.nodeType}function JO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function XO(t,e,n,r,i){const s=[];n.forEach(t=>s.push(JO(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=WO,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>JO(t,s[a++])),o}function tT(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function eT(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function nT(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function rT(t,e,n){fC(n).onDone(()=>t.processLeaveNode(e))}function iT(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Mw?iT(r.players,e):e.push(r)}}function sT(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class oT{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new QO(t,e,n),this._timelineEngine=new LO(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=hO(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new PO(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=bC(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=bC(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function aT(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=cT(e[0]),e.length>1&&(r=cT(e[e.length-1]))):e&&(n=cT(e)),n||r?new uT(t,n,r):null}let uT=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&$C(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($C(this._element,this._initialStyles),this._endStyles&&($C(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(KC(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(KC(this._element,this._endStyles),this._endStyles=null),$C(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function cT(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];lT(i)&&(e=e||{},e[i]=t[i])}return e}function lT(t){return"display"===t||"position"===t}const hT="animation",dT="animationend";class fT{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=bT(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),vT(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),yT(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){pT(this._element,this._name,"paused")}resume(){pT(this._element,this._name,"running")}setPosition(t){const e=mT(this._element,this._name);this._position=t*this._duration,vT(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),yT(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=bT(t,"").split(","),r=gT(n,e);r>=0&&(n.splice(r,1),vT(t,"",n.join(",")))}(this._element,this._name))}}function pT(t,e,n){vT(t,"PlayState",n,mT(t,e))}function mT(t,e){const n=bT(t,"");return n.indexOf(",")>0?gT(n.split(","),e):gT([n],e)}function gT(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function yT(t,e,n){n?t.removeEventListener(dT,e):t.addEventListener(dT,e)}function vT(t,e,n,r){const i=hT+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function bT(t,e){return t.style[hT+e]||""}class _T{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new fT(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:iO(this.element,n))})}this.currentSnapshot=t}}class wT extends Fw{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=kC(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class ST{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return TC(t)}matchesElement(t,e){return IC(t,e)}containsElement(t,e){return xC(t,e)}query(t,e,n){return AC(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>kC(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof _T),u={};eO(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=nO(t,e,u));if(0==n)return new wT(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=aT(t,e),f=new _T(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class ET{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:iO(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class CT{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(OT().toString()),this._cssKeyframesDriver=new ST}validateStyleProperty(t){return TC(t)}matchesElement(t,e){return IC(t,e)}containsElement(t,e){return xC(t,e)}query(t,e,n){return AC(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof ET);eO(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=aT(t,e=nO(t,e=e.map(t=>HC(t,!1)),u));return new ET(t,e,a,l)}}function OT(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let TT=(()=>{class t extends Rw{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?jw(t):t;return AT(this._renderer,null,e,"register",[n]),new IT(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.F),r.Wb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class IT extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new xT(this._id,t,e||{},this._renderer)}}class xT{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return AT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function AT(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const kT="@",RT="@.disabled";let NT=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new jT("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new DT(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.F),r.Wb(oT),r.Wb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class jT{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==kT&&e==RT?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class DT extends jT{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==kT?"."==e.charAt(1)&&e==RT?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==kT){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=kT&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let PT=(()=>{class t extends oT{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o),r.Wb(NC),r.Wb(xO))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const FT=[{provide:NC,useFactory:function(){return"function"==typeof OT()?new CT:new ST}},{provide:new r.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Rw,useClass:TT},{provide:xO,useFactory:function(){return new AO}},{provide:oT,useClass:PT},{provide:r.F,useFactory:function(t,e,n){return new NT(t,e,n)},deps:[ut,oT,r.A]}];let MT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:FT,imports:[wt]}),t})(),LT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[q,MT,rC,Kw.forRoot(),gi]]}),t})();const VT={apiKey:"AIzaSyASePcEv6DngoSYfwLk3uba8QM4jOl3NxU",authDomain:"lowgular-learn.firebaseapp.com",projectId:"lowgular-learn",storageBucket:"lowgular-learn.appspot.com",messagingSenderId:"566902591069",appId:"1:566902591069:web:a15d1df5b43d69742c87b4",measurementId:"G-E8CZ4205CQ"};let UT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[hC]}),t.\u0275inj=r.Jb({providers:[],imports:[[wt,oC,LT,fs.a.initializeApp(VT)]]}),t})();Object(r.T)(),bt().bootstrapModule(UT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);